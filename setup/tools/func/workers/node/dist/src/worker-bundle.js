/*! For license information please see worker-bundle.js.LICENSE.txt */
(()=>{var __webpack_modules__={2810:(e,t,n)=>{"use strict";var r=n(4492),i=(r.roots.default||(r.roots.default=new r.Root)).setOptions({java_package:"com.microsoft.azure.functions.rpc.messages",java_multiple_files:!0,java_outer_classname:"FunctionProto",csharp_namespace:"Microsoft.Azure.WebJobs.Script.Grpc.Messages",go_package:"github.com/Azure/azure-functions-go-worker/internal/rpc"}).addJSON({NullableString:{oneofs:{string:{oneof:["value"]}},fields:{value:{type:"string",id:1}}},NullableDouble:{oneofs:{double:{oneof:["value"]}},fields:{value:{type:"double",id:1}}},NullableBool:{oneofs:{bool:{oneof:["value"]}},fields:{value:{type:"bool",id:1}}},NullableTimestamp:{oneofs:{timestamp:{oneof:["value"]}},fields:{value:{type:"google.protobuf.Timestamp",id:1}}},RpcClaimsIdentity:{fields:{authenticationType:{type:"NullableString",id:1},nameClaimType:{type:"NullableString",id:2},roleClaimType:{type:"NullableString",id:3},claims:{rule:"repeated",type:"RpcClaim",id:4}}},RpcClaim:{fields:{value:{type:"string",id:1},type:{type:"string",id:2}}},AzureFunctionsRpcMessages:{nested:{FunctionRpc:{methods:{EventStream:{requestType:"StreamingMessage",requestStream:!0,responseType:"StreamingMessage",responseStream:!0}}},StreamingMessage:{oneofs:{content:{oneof:["startStream","workerInitRequest","workerInitResponse","workerHeartbeat","workerTerminate","workerStatusRequest","workerStatusResponse","fileChangeEventRequest","workerActionResponse","functionLoadRequest","functionLoadResponse","invocationRequest","invocationResponse","invocationCancel","rpcLog","functionEnvironmentReloadRequest","functionEnvironmentReloadResponse","closeSharedMemoryResourcesRequest","closeSharedMemoryResourcesResponse","functionsMetadataRequest","functionMetadataResponse","functionLoadRequestCollection","functionLoadResponseCollection"]}},fields:{requestId:{type:"string",id:1},startStream:{type:"StartStream",id:20},workerInitRequest:{type:"WorkerInitRequest",id:17},workerInitResponse:{type:"WorkerInitResponse",id:16},workerHeartbeat:{type:"WorkerHeartbeat",id:15},workerTerminate:{type:"WorkerTerminate",id:14},workerStatusRequest:{type:"WorkerStatusRequest",id:12},workerStatusResponse:{type:"WorkerStatusResponse",id:13},fileChangeEventRequest:{type:"FileChangeEventRequest",id:6},workerActionResponse:{type:"WorkerActionResponse",id:7},functionLoadRequest:{type:"FunctionLoadRequest",id:8},functionLoadResponse:{type:"FunctionLoadResponse",id:9},invocationRequest:{type:"InvocationRequest",id:4},invocationResponse:{type:"InvocationResponse",id:5},invocationCancel:{type:"InvocationCancel",id:21},rpcLog:{type:"RpcLog",id:2},functionEnvironmentReloadRequest:{type:"FunctionEnvironmentReloadRequest",id:25},functionEnvironmentReloadResponse:{type:"FunctionEnvironmentReloadResponse",id:26},closeSharedMemoryResourcesRequest:{type:"CloseSharedMemoryResourcesRequest",id:27},closeSharedMemoryResourcesResponse:{type:"CloseSharedMemoryResourcesResponse",id:28},functionsMetadataRequest:{type:"FunctionsMetadataRequest",id:29},functionMetadataResponse:{type:"FunctionMetadataResponse",id:30},functionLoadRequestCollection:{type:"FunctionLoadRequestCollection",id:31},functionLoadResponseCollection:{type:"FunctionLoadResponseCollection",id:32}}},StartStream:{fields:{workerId:{type:"string",id:2}}},WorkerInitRequest:{fields:{hostVersion:{type:"string",id:1},capabilities:{keyType:"string",type:"string",id:2},logCategories:{keyType:"string",type:"RpcLog.Level",id:3},workerDirectory:{type:"string",id:4},functionAppDirectory:{type:"string",id:5}}},WorkerInitResponse:{fields:{workerVersion:{type:"string",id:1},capabilities:{keyType:"string",type:"string",id:2},result:{type:"StatusResult",id:3}}},StatusResult:{fields:{status:{type:"Status",id:4},result:{type:"string",id:1},exception:{type:"RpcException",id:2},logs:{rule:"repeated",type:"RpcLog",id:3}},nested:{Status:{values:{Failure:0,Success:1,Cancelled:2}}}},WorkerHeartbeat:{fields:{}},WorkerTerminate:{fields:{gracePeriod:{type:"google.protobuf.Duration",id:1}}},FileChangeEventRequest:{fields:{type:{type:"Type",id:1},fullPath:{type:"string",id:2},name:{type:"string",id:3}},nested:{Type:{values:{Unknown:0,Created:1,Deleted:2,Changed:4,Renamed:8,All:15}}}},WorkerActionResponse:{fields:{action:{type:"Action",id:1},reason:{type:"string",id:2}},nested:{Action:{values:{Restart:0,Reload:1}}}},WorkerStatusRequest:{fields:{}},WorkerStatusResponse:{fields:{}},FunctionEnvironmentReloadRequest:{fields:{environmentVariables:{keyType:"string",type:"string",id:1},functionAppDirectory:{type:"string",id:2}}},FunctionEnvironmentReloadResponse:{fields:{result:{type:"StatusResult",id:3}}},CloseSharedMemoryResourcesRequest:{fields:{mapNames:{rule:"repeated",type:"string",id:1}}},CloseSharedMemoryResourcesResponse:{fields:{closeMapResults:{keyType:"string",type:"bool",id:1}}},FunctionLoadRequestCollection:{fields:{functionLoadRequests:{rule:"repeated",type:"FunctionLoadRequest",id:1}}},FunctionLoadResponseCollection:{fields:{functionLoadResponses:{rule:"repeated",type:"FunctionLoadResponse",id:1}}},FunctionLoadRequest:{fields:{functionId:{type:"string",id:1},metadata:{type:"RpcFunctionMetadata",id:2},managedDependencyEnabled:{type:"bool",id:3}}},FunctionLoadResponse:{fields:{functionId:{type:"string",id:1},result:{type:"StatusResult",id:2},isDependencyDownloaded:{type:"bool",id:3}}},RpcFunctionMetadata:{fields:{name:{type:"string",id:4},directory:{type:"string",id:1},scriptFile:{type:"string",id:2},entryPoint:{type:"string",id:3},bindings:{keyType:"string",type:"BindingInfo",id:6},isProxy:{type:"bool",id:7},status:{type:"StatusResult",id:8},language:{type:"string",id:9},rawBindings:{rule:"repeated",type:"string",id:10},functionId:{type:"string",id:13},managedDependencyEnabled:{type:"bool",id:14}}},FunctionsMetadataRequest:{fields:{functionAppDirectory:{type:"string",id:1}}},FunctionMetadataResponse:{fields:{functionMetadataResults:{rule:"repeated",type:"RpcFunctionMetadata",id:1},result:{type:"StatusResult",id:2},useDefaultMetadataIndexing:{type:"bool",id:3}}},InvocationRequest:{fields:{invocationId:{type:"string",id:1},functionId:{type:"string",id:2},inputData:{rule:"repeated",type:"ParameterBinding",id:3},triggerMetadata:{keyType:"string",type:"TypedData",id:4},traceContext:{type:"RpcTraceContext",id:5},retryContext:{type:"RetryContext",id:6}}},RpcTraceContext:{fields:{traceParent:{type:"string",id:1},traceState:{type:"string",id:2},attributes:{keyType:"string",type:"string",id:3}}},RetryContext:{fields:{retryCount:{type:"int32",id:1},maxRetryCount:{type:"int32",id:2},exception:{type:"RpcException",id:3}}},InvocationCancel:{fields:{invocationId:{type:"string",id:2},gracePeriod:{type:"google.protobuf.Duration",id:1}}},InvocationResponse:{fields:{invocationId:{type:"string",id:1},outputData:{rule:"repeated",type:"ParameterBinding",id:2},returnValue:{type:"TypedData",id:4},result:{type:"StatusResult",id:3}}},TypedData:{oneofs:{data:{oneof:["string","json","bytes","stream","http","int","double","collectionBytes","collectionString","collectionDouble","collectionSint64"]}},fields:{string:{type:"string",id:1},json:{type:"string",id:2},bytes:{type:"bytes",id:3},stream:{type:"bytes",id:4},http:{type:"RpcHttp",id:5},int:{type:"sint64",id:6},double:{type:"double",id:7},collectionBytes:{type:"CollectionBytes",id:8},collectionString:{type:"CollectionString",id:9},collectionDouble:{type:"CollectionDouble",id:10},collectionSint64:{type:"CollectionSInt64",id:11}}},RpcDataType:{values:{unknown:0,string:1,json:2,bytes:3,stream:4,http:5,int:6,double:7,collection_bytes:8,collection_string:9,collection_double:10,collection_sint64:11}},RpcSharedMemory:{fields:{name:{type:"string",id:1},offset:{type:"int64",id:2},count:{type:"int64",id:3},type:{type:"RpcDataType",id:4}}},CollectionString:{fields:{string:{rule:"repeated",type:"string",id:1}}},CollectionBytes:{fields:{bytes:{rule:"repeated",type:"bytes",id:1}}},CollectionDouble:{fields:{double:{rule:"repeated",type:"double",id:1}}},CollectionSInt64:{fields:{sint64:{rule:"repeated",type:"sint64",id:1}}},ParameterBinding:{oneofs:{rpcData:{oneof:["data","rpcSharedMemory"]}},fields:{name:{type:"string",id:1},data:{type:"TypedData",id:2},rpcSharedMemory:{type:"RpcSharedMemory",id:3}}},BindingInfo:{fields:{type:{type:"string",id:2},direction:{type:"Direction",id:3},dataType:{type:"DataType",id:4}},nested:{Direction:{values:{in:0,out:1,inout:2}},DataType:{values:{undefined:0,string:1,binary:2,stream:3}}}},RpcLog:{fields:{invocationId:{type:"string",id:1},category:{type:"string",id:2},level:{type:"Level",id:3},message:{type:"string",id:4},eventId:{type:"string",id:5},exception:{type:"RpcException",id:6},properties:{type:"string",id:7},logCategory:{type:"RpcLogCategory",id:8},propertiesMap:{keyType:"string",type:"TypedData",id:9}},nested:{Level:{values:{Trace:0,Debug:1,Information:2,Warning:3,Error:4,Critical:5,None:6}},RpcLogCategory:{values:{User:0,System:1,CustomMetric:2}}}},RpcException:{fields:{source:{type:"string",id:3},stackTrace:{type:"string",id:1},message:{type:"string",id:2}}},RpcHttpCookie:{fields:{name:{type:"string",id:1},value:{type:"string",id:2},domain:{type:"NullableString",id:3},path:{type:"NullableString",id:4},expires:{type:"NullableTimestamp",id:5},secure:{type:"NullableBool",id:6},httpOnly:{type:"NullableBool",id:7},sameSite:{type:"SameSite",id:8},maxAge:{type:"NullableDouble",id:9}},nested:{SameSite:{values:{None:0,Lax:1,Strict:2,ExplicitNone:3}}}},RpcHttp:{fields:{method:{type:"string",id:1},url:{type:"string",id:2},headers:{keyType:"string",type:"string",id:3},body:{type:"TypedData",id:4},params:{keyType:"string",type:"string",id:10},statusCode:{type:"string",id:12},query:{keyType:"string",type:"string",id:15},enableContentNegotiation:{type:"bool",id:16},rawBody:{type:"TypedData",id:17},identities:{rule:"repeated",type:"RpcClaimsIdentity",id:18},cookies:{rule:"repeated",type:"RpcHttpCookie",id:19},nullableHeaders:{keyType:"string",type:"NullableString",id:20},nullableParams:{keyType:"string",type:"NullableString",id:21},nullableQuery:{keyType:"string",type:"NullableString",id:22}}}}},google:{nested:{protobuf:{nested:{Timestamp:{fields:{seconds:{type:"int64",id:1},nanos:{type:"int32",id:2}}},Duration:{fields:{seconds:{type:"int64",id:1},nanos:{type:"int32",id:2}}}}}}}});e.exports=i},5327:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CreateContextAndInputs=void 0;const r=n(3021),i=n(2810),s=n(3383),o=n(9254),a=n(8044),c=n(26),l=n(2361);var u=i.AzureFunctionsRpcMessages.RpcLog.Level;t.CreateContextAndInputs=function(e,t,n){const i=new l,u=new d(e,t,n,i),h={},p=[];let f;for(const n of t.inputData)if(n.data&&n.name){let t;t=n.data&&n.data.http?f=new a.Request(n.data.http):e.getTimerTriggerName()===n.name?(0,s.convertKeysToCamelCase)(n).data:(0,o.fromTypedData)(n.data),h[n.name]=t,p.push(t)}return u.bindings=h,f&&(u.req=f,u.res=new c.Response(u.done),u.bindingData.sys={methodName:e.name,utcNow:(new Date).toISOString(),randGuid:(0,r.v4)()},u.bindingData.query||(u.bindingData.query=Object.assign({},f.query)),u.bindingData.headers||(u.bindingData.headers=Object.assign({},f.headers))),{context:u,inputs:p,doneEmitter:i}};class d{constructor(e,t,n,r){this.invocationId=t.invocationId,this.traceContext=(0,o.fromRpcTraceContext)(t.traceContext);const i={invocationId:this.invocationId,functionName:e.name,functionDirectory:e.directory,retryContext:t.retryContext};this.executionContext=i,this.bindings={},this.log=Object.assign(((...e)=>n(u.Information,...e)),{error:(...e)=>n(u.Error,...e),warn:(...e)=>n(u.Warning,...e),info:(...e)=>n(u.Information,...e),verbose:(...e)=>n(u.Trace,...e)}),this.bindingData=(0,s.getNormalizedBindingData)(t),this.bindingDefinitions=(0,s.getBindingDefinitions)(e),this.done=(e,t)=>{r.emit("done",e,t)}}}},8453:function(e,t){"use strict";var n,r=this&&this.__classPrivateFieldSet||function(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n},i=this&&this.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};Object.defineProperty(t,"__esModule",{value:!0}),t.Disposable=void 0;class s{constructor(e){n.set(this,void 0),r(this,n,e,"f")}static from(...e){let t=e;return new s((function(){if(t){for(const e of t)e&&"function"==typeof e.dispose&&e.dispose();t=void 0}}))}dispose(){i(this,n,"f")instanceof Function&&(i(this,n,"f").call(this),r(this,n,void 0,"f"))}}t.Disposable=s,n=new WeakMap},511:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FunctionInfo=void 0;const r=n(2810),i=n(9254),s=n(397);t.FunctionInfo=class{constructor(e){if(this.name=e.name,this.directory=e.directory,this.bindings={},this.outputBindings={},this.httpOutputName="",this.hasHttpTrigger=!1,e.bindings){const t=this.bindings=e.bindings;Object.keys(t).filter((e=>t[e].direction!==r.AzureFunctionsRpcMessages.BindingInfo.Direction.in)).forEach((e=>{const n=t[e].type;n&&"http"===n.toLowerCase()?(this.httpOutputName=e,this.outputBindings[e]=Object.assign(t[e],{converter:s.toRpcHttp})):this.outputBindings[e]=Object.assign(t[e],{converter:i.toTypedData})})),this.hasHttpTrigger=Object.keys(t).filter((e=>{const n=t[e].type;return n&&"httptrigger"===n.toLowerCase()})).length>0}}getReturnBinding(){return this.outputBindings.$return}getTimerTriggerName(){for(const e in this.bindings){const t=this.bindings[e].type;if(t&&"timertrigger"===t.toLowerCase())return e}}}},2724:function(e,t,n){"use strict";var r,i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{c(r.next(e))}catch(e){s(e)}}function a(e){try{c(r.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))},s=this&&this.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};Object.defineProperty(t,"__esModule",{value:!0}),t.FunctionLoader=void 0;const o=n(511),a=n(8522),c=n(4876),l=n(6174);t.FunctionLoader=class{constructor(){r.set(this,{})}load(e,t,n){return i(this,void 0,void 0,(function*(){if(!0===t.isProxy)return;const i=yield(0,a.loadScriptFile)((0,l.nonNullProp)(t,"scriptFile"),n),u=t&&t.entryPoint,[d,h]=function(e,t){let n;if(null!==e&&"object"==typeof e&&(n=e,e=t?e[t]:1===Object.keys(e).length?e[Object.keys(e)[0]]:e.run||e.index),!e){const e=(t?`Unable to determine function entry point: ${t}. `:"Unable to determine function entry point. ")+"If multiple functions are exported, you must indicate the entry point, either by naming it 'run' or 'index', or by naming it explicitly via the 'entryPoint' metadata property.";throw new c.InternalException(e)}if("function"!=typeof e)throw new c.InternalException("The resolved entry point is not a function and cannot be invoked by the functions runtime. Make sure the function has been correctly exported.");return[e,n]}(i,u);s(this,r,"f")[e]={info:new o.FunctionInfo(t),func:d,thisArg:h}}))}getInfo(e){const t=s(this,r,"f")[e];if(t&&t.info)return t.info;throw new c.InternalException(`Function info for '${e}' is not loaded and cannot be invoked.`)}getFunc(e){const t=s(this,r,"f")[e];if(t&&t.func)return t.func.bind(t.thisArg);throw new c.InternalException(`Function code for '${e}' is not loaded and cannot be invoked.`)}},r=new WeakMap},5523:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CreateGrpcEventStream=void 0;const r=n(6636),i=n(9421),s=n(2810);t.CreateGrpcEventStream=function(e,t){const n={"grpc.max_send_message_length":t,"grpc.max_receive_message_length":t},o=new(function(){const e=i.fromJSON(s,{objects:!0,defaults:!0,oneofs:!0})["AzureFunctionsRpcMessages.FunctionRpc"];return r.makeClientConstructor(e,"FunctionRpc")}())(e,r.credentials.createInsecure(),n);process.on("exit",(()=>{r.closeClient(o)}));const a=o.eventStream();return a.on("end",(function(){a.end(),process.exit()})),a}},7643:function(e,t,n){"use strict";var r,i,s,o,a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{c(r.next(e))}catch(e){s(e)}}function a(e){try{c(r.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))},c=this&&this.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};Object.defineProperty(t,"__esModule",{value:!0}),t.WorkerChannel=void 0;const l=n(2810),u=n(8453),d=n(4821),h=n(9335);var p=l.AzureFunctionsRpcMessages.RpcLog.Level,f=l.AzureFunctionsRpcMessages.RpcLog.RpcLogCategory;t.WorkerChannel=class{constructor(e,t){r.add(this),i.set(this,[]),s.set(this,[]),this.eventStream=e,this.functionLoader=t,this.packageJson={}}log(e){this.eventStream.write({rpcLog:e})}registerHook(e,t){const n=c(this,r,"m",o).call(this,e);return n.push(t),new u.Disposable((()=>{const e=n.indexOf(t);e>-1&&n.splice(e,1)}))}executeHooks(e,t,n,i){return a(this,void 0,void 0,(function*(){const s=c(this,r,"m",o).call(this,e);if(s.length>0){this.log({message:`Executing ${s.length} "${e}" hooks`,level:p.Debug,logCategory:f.System,invocationId:n,category:i});for(const e of s)yield e(t);this.log({message:`Executed "${e}" hooks`,level:p.Debug,logCategory:f.System,invocationId:n,category:i})}}))}updatePackageJson(e){return a(this,void 0,void 0,(function*(){try{this.packageJson=yield(0,d.parsePackageJson)(e)}catch(e){const t=(0,h.ensureErrorType)(e);this.log({message:`Worker failed to load package.json: ${t.message}`,level:p.Warning,logCategory:f.System}),this.packageJson={}}}))}},i=new WeakMap,s=new WeakMap,r=new WeakSet,o=function(e){switch(e){case"preInvocation":return c(this,i,"f");case"postInvocation":return c(this,s,"f");default:throw new RangeError(`Unrecognized hook "${e}"`)}}},4613:(e,t)=>{"use strict";var n,r;Object.defineProperty(t,"__esModule",{value:!0}),t.MediaType=t.HeaderName=t.version=void 0,t.version="3.4.0",(r=t.HeaderName||(t.HeaderName={})).contentType="content-type",r.contentDisposition="content-disposition",(n=t.MediaType||(t.MediaType={})).multipartForm="multipart/form-data",n.urlEncodedForm="application/x-www-form-urlencoded",n.octetStream="application/octet-stream",n.json="application/json"},3383:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.convertKeysToCamelCase=t.getNormalizedBindingData=t.getBindingDefinitions=void 0;const r=n(2810),i=n(9254);function s(e){const t=Object.keys(r.AzureFunctionsRpcMessages.BindingInfo.Direction).find((t=>r.AzureFunctionsRpcMessages.BindingInfo.Direction[t]===e));return"in"==(n=t)||"out"==n||"inout"==n?t:void 0;var n}function o(e){const t={};for(const n in e){const r=(0,i.fromTypedData)(e[n]),s=void 0===r?e[n]:r,a=n.charAt(0).toLocaleLowerCase()+n.slice(1);!Array.isArray(s)&&"object"==typeof s&&s&&null==s.http?t[a]=o(s):t[a]=s}return t}t.getBindingDefinitions=function(e){const t=e.bindings;return t?Object.keys(t).map((e=>({name:e,type:t[e].type||"",direction:s(t[e].direction)}))):[]},t.getNormalizedBindingData=function(e){const t={invocationId:e.invocationId};return e.triggerMetadata&&Object.assign(t,o(e.triggerMetadata)),t},t.convertKeysToCamelCase=o},9254:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toNullableTimestamp=t.toNullableString=t.toRpcString=t.toNullableDouble=t.toNullableBool=t.toTypedData=t.fromRpcTraceContext=t.fromTypedData=void 0;const r=n(3720),i=n(4876);t.fromTypedData=function(e,t=!0){let n=(e=e||{}).string||e.json;if(void 0!==n){if(t)try{null!=n&&(n=JSON.parse(n))}catch(e){}return n}return e.bytes?Buffer.from(e.bytes):e.collectionBytes&&e.collectionBytes.bytes?e.collectionBytes.bytes.map((e=>Buffer.from(e))):e.collectionString&&e.collectionString.string?e.collectionString.string:e.collectionDouble&&e.collectionDouble.double?e.collectionDouble.double:e.collectionSint64&&e.collectionSint64.sint64?e.collectionSint64.sint64.map((e=>(0,r.isLong)(e)?e.toString():e)):void 0},t.fromRpcTraceContext=function(e){return e?{traceparent:e.traceParent,tracestate:e.traceState,attributes:e.attributes}:{}},t.toTypedData=function(e){return"string"==typeof e?{string:e}:Buffer.isBuffer(e)?{bytes:e}:ArrayBuffer.isView(e)?{bytes:new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}:"number"==typeof e?Number.isInteger(e)?{int:e}:{double:e}:{json:JSON.stringify(e)}},t.toNullableBool=function(e,t){if("boolean"==typeof e)return{value:e};if(null!=e)throw new i.InternalException(`A 'boolean' type was expected instead of a '${typeof e}' type. Cannot parse value of '${t}'.`)},t.toNullableDouble=function(e,t){if("number"==typeof e)return{value:e};if("string"==typeof e&&!isNaN(e))return{value:parseFloat(e)};if(null!=e)throw new i.InternalException(`A 'number' type was expected instead of a '${typeof e}' type. Cannot parse value of '${t}'.`)},t.toRpcString=function(e,t){if("string"==typeof e)return e;if(null!=e)throw new i.InternalException(`A 'string' type was expected instead of a '${typeof e}' type. Cannot parse value of '${t}'.`);return""},t.toNullableString=function(e,t){if("string"==typeof e)return{value:e};if(null!=e)throw new i.InternalException(`A 'string' type was expected instead of a '${typeof e}' type. Cannot parse value of '${t}'.`)},t.toNullableTimestamp=function(e,t){if(null!=e)try{const t="number"==typeof e?e:e.getTime();if(t&&t>=0)return{value:{seconds:Math.round(t/1e3)}}}catch(n){throw new i.InternalException(`A 'number' or 'Date' input was expected instead of a '${typeof e}'. Cannot parse value of '${t}'.`)}}},397:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toRpcHttpCookieList=t.toRpcHttp=t.fromNullableMapping=t.fromRpcHttpBody=void 0;const r=n(2810),i=n(9254);function s(e){const t=[];return e.forEach((e=>{t.push(function(e){let t=r.AzureFunctionsRpcMessages.RpcHttpCookie.SameSite.None;if(e&&e.sameSite){const n=e.sameSite.toLocaleLowerCase();"lax"===n?t=r.AzureFunctionsRpcMessages.RpcHttpCookie.SameSite.Lax:"strict"===n?t=r.AzureFunctionsRpcMessages.RpcHttpCookie.SameSite.Strict:"none"===n&&(t=r.AzureFunctionsRpcMessages.RpcHttpCookie.SameSite.ExplicitNone)}return{name:e&&(0,i.toRpcString)(e.name,"cookie.name"),value:e&&(0,i.toRpcString)(e.value,"cookie.value"),domain:(0,i.toNullableString)(e&&e.domain,"cookie.domain"),path:(0,i.toNullableString)(e&&e.path,"cookie.path"),expires:(0,i.toNullableTimestamp)(e&&e.expires,"cookie.expires"),secure:(0,i.toNullableBool)(e&&e.secure,"cookie.secure"),httpOnly:(0,i.toNullableBool)(e&&e.httpOnly,"cookie.httpOnly"),sameSite:t,maxAge:(0,i.toNullableDouble)(e&&e.maxAge,"cookie.maxAge")}}(e))})),t}t.fromRpcHttpBody=function(e){return e&&e.bytes?e.bytes.toString():(0,i.fromTypedData)(e,!1)},t.fromNullableMapping=function(e,t){let n={};if(e&&Object.keys(e).length>0)for(const t in e)n[t]=e[t].value||"";else t&&Object.keys(t).length>0&&(n=t);return n},t.toRpcHttp=function(e){if("object"!=typeof e||Array.isArray(e))throw new Error("The HTTP response must be an 'object' type that can include properties such as 'body', 'status', and 'headers'. Learn more: https://go.microsoft.com/fwlink/?linkid=2112563");const t=e;t.headers=function(e){const t={};for(const n in e)null!=e[n]&&(t[n]=e[n].toString());return t}(e.headers),t.cookies=s(e.cookies||[]);let n=e.statusCode;return"function"!=typeof e.status&&(n||(n=e.status)),t.statusCode=n&&n.toString(),t.body=(0,i.toTypedData)(e.body),{http:t}},t.toRpcHttpCookieList=s},1205:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EventHandler=void 0,t.EventHandler=class{}},1175:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{c(r.next(e))}catch(e){s(e)}}function a(e){try{c(r.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.FunctionEnvironmentReloadHandler=void 0;const i=n(2810),s=n(1205);var o=i.AzureFunctionsRpcMessages.RpcLog.RpcLogCategory,a=i.AzureFunctionsRpcMessages.RpcLog.Level;class c extends s.EventHandler{constructor(){super(...arguments),this.responseName="functionEnvironmentReloadResponse"}getDefaultResponse(e){return{}}handleEvent(e,t){return r(this,void 0,void 0,(function*(){const n=this.getDefaultResponse(t),r=t.environmentVariables&&Object.keys(t.environmentVariables).length||0;return e.log({message:`Reloading environment variables. Found ${r} variables to reload.`,level:a.Information,logCategory:o.System}),process.env=Object.assign({},t.environmentVariables),t.functionAppDirectory&&(e.log({message:`Changing current working directory to ${t.functionAppDirectory}`,level:a.Information,logCategory:o.System}),process.chdir(t.functionAppDirectory),yield e.updatePackageJson(t.functionAppDirectory)),n}))}}t.FunctionEnvironmentReloadHandler=c},2109:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{c(r.next(e))}catch(e){s(e)}}function a(e){try{c(r.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.FunctionLoadHandler=void 0;const i=n(9335),s=n(6174),o=n(1205);class a extends o.EventHandler{constructor(){super(...arguments),this.responseName="functionLoadResponse"}getDefaultResponse(e){return{functionId:e.functionId}}handleEvent(e,t){return r(this,void 0,void 0,(function*(){const n=this.getDefaultResponse(t),r=(0,s.nonNullProp)(t,"functionId"),o=(0,s.nonNullProp)(t,"metadata");try{yield e.functionLoader.load(r,o,e.packageJson)}catch(e){const t=(0,i.ensureErrorType)(e);throw t.isAzureFunctionsInternalException=!0,t.message=`Worker was unable to load function ${o.name}: '${t.message}'`,t}return n}))}}t.FunctionLoadHandler=a},5413:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{c(r.next(e))}catch(e){s(e)}}function a(e){try{c(r.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.InvocationHandler=void 0;const i=n(3837),s=n(2810),o=n(5327),a=n(9254),c=n(9335),l=n(6174),u=n(1205);var d=s.AzureFunctionsRpcMessages.RpcLog.RpcLogCategory,h=s.AzureFunctionsRpcMessages.RpcLog.Level;class p extends u.EventHandler{constructor(){super(...arguments),this.responseName="invocationResponse"}getDefaultResponse(e){return{invocationId:e.invocationId}}handleEvent(e,t){var n,s;return r(this,void 0,void 0,(function*(){const r=this.getDefaultResponse(t),u=(0,l.nonNullProp)(t,"invocationId"),p=(0,l.nonNullProp)(t,"functionId");r.outputData=[];let f=!1,y=!1,g=!1;const m=e.functionLoader.getInfo(p),v="https://go.microsoft.com/fwlink/?linkid=2097909",S=`${m.name}.Invocation`;function b(t,n,...r){e.log({invocationId:u,category:S,message:i.format.apply(null,r),level:t,logCategory:n})}function E(e,...t){b(e,d.System,...t)}function w(){if(f){const e=g?`Error: Choose either to return a promise or call 'done'. Do not use both in your script. Learn more: ${v}`:"Error: 'done' has already been called. Please check your script for extraneous calls to 'done'.";E(h.Error,e)}f=!0}E(h.Debug,"Received FunctionInvocationRequest");let{context:_,inputs:C,doneEmitter:T}=(0,o.CreateContextAndInputs)(m,t,(function(e,...t){if(f&&!y){let e="Warning: Unexpected call to 'log' on the context object after function execution has completed. Please check for asynchronous calls that are not awaited or calls to 'done' made before function execution completes. ";e+=`Function name: ${m.name}. Invocation Id: ${u}. `,e+=`Learn more: ${v}`,E(h.Warning,e)}b(e,d.User,...t)}));try{const i=new Promise(((e,t)=>{T.on("done",((n,r)=>{w(),(0,c.isError)(n)?t(n):e(r)}))})),o={};let l=e.functionLoader.getFunc(p);const u={hookData:o,invocationContext:_,functionCallback:l,inputs:C};yield e.executeHooks("preInvocation",u,t.invocationId,S),C=u.inputs,l=u.functionCallback;let d,h=l(_,...C);g=h&&"function"==typeof h.then,g?(h=Promise.resolve(h).then((e=>(w(),e))),d=Promise.race([h,i])):d=i;const v={hookData:o,invocationContext:_,inputs:C,result:null,error:null};try{v.result=yield d}catch(e){v.error=e}try{y=!0,yield e.executeHooks("postInvocation",v,t.invocationId,S)}finally{y=!1}if((0,c.isError)(v.error))throw v.error;const b=v.result;m.httpOutputName&&_.res&&void 0===_.bindings[m.httpOutputName]&&(_.bindings[m.httpOutputName]=_.res);const E="activityTrigger"==(null===(s=null===(n=null==m?void 0:m.bindings)||void 0===n?void 0:n.name)||void 0===s?void 0:s.type),R=m.getReturnBinding();(b||E&&null!=b)&&(R?r.returnValue=R.converter(b):r.outputData=Object.keys(m.outputBindings).filter((e=>void 0!==b[e])).map((e=>({name:e,data:m.outputBindings[e].converter(b[e])}))),r.returnValue||0!=r.outputData.length||m.hasHttpTrigger||(r.returnValue=(0,a.toTypedData)(b))),_.bindings&&(r.outputData=r.outputData.concat(Object.keys(m.outputBindings).filter((e=>{const t=void 0!==_.bindings[e],n=!!b&&!R&&void 0!==b[e];return t&&!n})).map((e=>({name:e,data:m.outputBindings[e].converter(_.bindings[e])})))))}finally{f=!0}return r}))}}t.InvocationHandler=p},5549:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{c(r.next(e))}catch(e){s(e)}}function a(e){try{c(r.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.logColdStartWarning=t.WorkerInitHandler=void 0;const i=n(7147),s=n(1017),o=n(2810),a=n(9335),c=n(1205);var l=o.AzureFunctionsRpcMessages.RpcLog.RpcLogCategory,u=o.AzureFunctionsRpcMessages.RpcLog.Level;class d extends c.EventHandler{constructor(){super(...arguments),this.responseName="workerInitResponse"}getDefaultResponse(e){return{}}handleEvent(e,t){return r(this,void 0,void 0,(function*(){const n=this.getDefaultResponse(t);e.log({message:"Received WorkerInitRequest",level:u.Debug,logCategory:l.System}),h(e);const r=t.functionAppDirectory;return r&&(yield e.updatePackageJson(r)),n.capabilities={RpcHttpTriggerMetadataRemoved:"true",RpcHttpBodyOnly:"true",IgnoreEmptyValuedRpcHttpHeaders:"true",UseNullableValueDictionaryForHttp:"true",WorkerStatus:"true",TypedDataCollection:"true"},n}))}}function h(e,t){process.env.WEBSITE_CONTENTAZUREFILECONNECTIONSTRING&&process.env.WEBSITE_CONTENTSHARE&&process.env.AzureWebJobsScriptRoot&&(t||(t=5e3),setTimeout((()=>{(0,i.access)(s.join(process.env.AzureWebJobsScriptRoot,"package.json"),i.constants.F_OK,(t=>{(0,a.isError)(t)&&e.log({message:"package.json is not found at the root of the Function App in Azure Files - cold start for NodeJs can be affected.",level:u.Debug,logCategory:l.System})}))}),t))}t.WorkerInitHandler=d,t.logColdStartWarning=h},8044:function(e,t,n){"use strict";var r,i=this&&this.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)},s=this&&this.__classPrivateFieldSet||function(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n};Object.defineProperty(t,"__esModule",{value:!0}),t.Request=void 0;const o=n(4613),a=n(9254),c=n(397),l=n(4014),u=n(8037);t.Request=class{constructor(e){r.set(this,void 0),this.method=e.method,this.url=e.url,this.originalUrl=e.url,this.headers=(0,c.fromNullableMapping)(e.nullableHeaders,e.headers),this.query=(0,c.fromNullableMapping)(e.nullableQuery,e.query),this.params=(0,c.fromNullableMapping)(e.nullableParams,e.params),this.body=(0,a.fromTypedData)(e.body),this.rawBody=(0,c.fromRpcHttpBody)(e.body)}get user(){return void 0===i(this,r,"f")&&s(this,r,(0,u.extractHttpUserFromHeaders)(this.headers),"f"),i(this,r,"f")}get(e){return this.headers&&this.headers[e.toLowerCase()]}parseFormBody(){const e=this.get(o.HeaderName.contentType);if(e)return(0,l.parseForm)(this.body,e);throw new Error(`"${o.HeaderName.contentType}" header must be defined.`)}},r=new WeakMap},26:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Response=void 0;const r=n(4613);t.Response=class{constructor(e){this.headers={},this.cookies=[],this.send=this.end,this.header=this.setHeader,this.set=this.setHeader,this.get=this.getHeader,this._done=e}end(e){return void 0!==e&&(this.body=e),this.setContentType(),this._done(),this}setHeader(e,t){return this.headers[e.toLowerCase()]=t,this}getHeader(e){return this.headers[e.toLowerCase()]}removeHeader(e){return delete this.headers[e.toLowerCase()],this}status(e){return this.statusCode=e,this}sendStatus(e){return this.status(e),this.end()}type(e){return this.set(r.HeaderName.contentType,e)}json(e){this.type(r.MediaType.json),this.send(e)}setContentType(){if(void 0!==this.body){if(this.get(r.HeaderName.contentType))return;Buffer.isBuffer(this.body)&&this.type(r.MediaType.octetStream)}}}},8037:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.extractHttpUserFromHeaders=void 0,t.extractHttpUserFromHeaders=function(e){let t=null;if(e["x-ms-client-principal"]){const n=JSON.parse(Buffer.from(e["x-ms-client-principal"],"base64").toString("utf-8"));t=n.identityProvider?{type:"StaticWebApps",id:n.userId,username:n.userDetails,identityProvider:n.identityProvider,claimsPrincipalData:n}:{type:"AppService",id:e["x-ms-client-principal-id"],username:e["x-ms-client-principal-name"],identityProvider:e["x-ms-client-principal-idp"],claimsPrincipalData:n}}return t}},8522:function(__unused_webpack_module,exports,__webpack_require__){"use strict";var __awaiter=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{c(r.next(e))}catch(e){s(e)}}function a(e){try{c(r.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(exports,"__esModule",{value:!0}),exports.isESModule=exports.loadScriptFile=void 0;const url=__webpack_require__(7310),InternalException_1=__webpack_require__(4876);function loadScriptFile(filePath,packageJson){return __awaiter(this,void 0,void 0,(function*(){let script;if(isESModule(filePath,packageJson)){const fileUrl=url.pathToFileURL(filePath);if(!fileUrl.href)throw new InternalException_1.InternalException(`'${filePath}' could not be converted to file URL (${fileUrl.href})`);script=yield eval("import(fileUrl.href)")}else script=require(filePath);return script}))}function isESModule(e,t){return!!e.endsWith(".mjs")||!e.endsWith(".cjs")&&"module"===t.type}exports.loadScriptFile=loadScriptFile,exports.isESModule=isESModule},4014:function(e,t,n){"use strict";var r,i=this&&this.__classPrivateFieldSet||function(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n},s=this&&this.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};Object.defineProperty(t,"__esModule",{value:!0}),t.Form=t.parseForm=void 0;const o=n(4613),a=n(9826),c=n(960);t.parseForm=function(e,t){const[n,r]=(0,a.parseContentType)(t);switch(n.toLowerCase()){case o.MediaType.multipartForm:{const t=r.get("boundary"),n=(0,c.parseMultipartForm)("string"==typeof e?Buffer.from(e):e,t);return new l(n)}case o.MediaType.urlEncodedForm:{const t=new URLSearchParams(e.toString()),n=[];for(const[e,r]of t)n.push([e,{value:Buffer.from(r)}]);return new l(n)}default:throw new Error(`Media type "${n}" does not match types supported for form parsing: "${o.MediaType.multipartForm}", "${o.MediaType.urlEncodedForm}".`)}};class l{constructor(e){r.set(this,void 0),i(this,r,e,"f")}get(e){for(const[t,n]of s(this,r,"f"))if(t===e)return n;return null}getAll(e){const t=[];for(const[n,i]of s(this,r,"f"))n===e&&t.push(i);return t}has(e){for(const[t]of s(this,r,"f"))if(t===e)return!0;return!1}[(r=new WeakMap,Symbol.iterator)](){return s(this,r,"f")[Symbol.iterator]()}get length(){return s(this,r,"f").length}}t.Form=l},9826:function(e,t,n){"use strict";var r,i=this&&this.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};Object.defineProperty(t,"__esModule",{value:!0}),t.HeaderParams=t.parseContentDisposition=t.parseContentType=t.getHeaderValue=void 0;const s=n(4613),o='[^ \\u0000-\\u001F\\u007F\\(\\)<>@,;:\\\\"\\/\\[\\]\\?\\.=]+',a="\\s*(.*)$",c=`\\s*;?${a}`;function l(e){const t=new u;for(;e;){let n=new RegExp(`^\\s*(${o})=(${o})${c}`,"i").exec(e);if(n||(n=new RegExp(`^\\s*(${o})="((?:[^"\\\\]|\\\\.)*)"${c}`,"i").exec(e)),!n)break;t.add(n[1],n[2].replace(/\\"/g,'"')),e=n[3]}return t}t.getHeaderValue=function(e,t){const n=new RegExp(`^\\s*${t}\\s*:${a}`,"i").exec(e);return n?n[1].trim():null},t.parseContentType=function(e){const t=new RegExp(`^\\s*(${o}\\/${o})${c}`,"i").exec(e);if(t)return[t[1],l(t[2])];throw new Error(`${s.HeaderName.contentType} must begin with format "type/subtype".`)},t.parseContentDisposition=function(e){const t=new RegExp(`^\\s*(${o})${c}`,"i").exec(e);if(t)return[t[1],l(t[2])];throw new Error(`${s.HeaderName.contentDisposition} must begin with disposition type.`)};class u{constructor(){r.set(this,{})}get(e){const t=i(this,r,"f")[e.toLowerCase()];if(void 0===t)throw new Error(`Failed to find parameter with name "${e}".`);return t}has(e){return void 0!==i(this,r,"f")[e.toLowerCase()]}add(e,t){i(this,r,"f")[e.toLowerCase()]=t}}t.HeaderParams=u,r=new WeakMap},960:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseMultipartForm=void 0;const r=n(4613),i=n(9826),s=Buffer.from("\r")[0],o=Buffer.from("\n")[0];t.parseMultipartForm=function(e,t){const n=[];let a,c,l=!1;const u=Buffer.from(`--${t}`),d=Buffer.from(`--${t}--`);let h=0,p=0,f=0,y=0;for(let g=0;g<e.length;g++){let m;if(e[g]!==o)continue;p=e[g-1]===s?g-1:g,m=e.slice(h,p),h=g+1;const v=m.equals(u),S=m.equals(d);if(v||S){if(c&&(c.value=e.slice(f,y)),S)break;c={value:Buffer.from("")},l=!0}else if(l){if(!c)throw new Error(`Expected form data to start with boundary "${t}".`);const e=m.toString();if(e){const t=(0,i.getHeaderValue)(e,r.HeaderName.contentDisposition);if(t){const[,e]=(0,i.parseContentDisposition)(t);a=e.get("name"),e.has("fileName")&&(c.fileName=e.get("fileName"))}else{const t=(0,i.getHeaderValue)(e,r.HeaderName.contentType);t&&(c.contentType=t)}}else{if(l=!1,!a)throw new Error(`Expected part to have header "${r.HeaderName.contentDisposition}" with parameter "name".`);f=h,y=h,n.push([a,c])}}else y=p}return n}},4821:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{c(r.next(e))}catch(e){s(e)}}function a(e){try{c(r.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.parsePackageJson=void 0;const i=n(5674),s=n(1017),o=n(9335);t.parsePackageJson=function(e){return r(this,void 0,void 0,(function*(){try{const t=s.join(e,"package.json");if(!(yield(0,i.pathExists)(t)))throw new Error("file does not exist");const n=yield(0,i.readJson)(t);if("object"!=typeof n||null===n||Array.isArray(n))throw new Error("file content is not an object");const r=["main","type"];for(const e of r)e in n&&"string"!=typeof n[e]&&delete n[e];return n}catch(e){const t=(0,o.ensureErrorType)(e);throw"SyntaxError"===t.name&&(t.message=`file content is not valid JSON: ${t.message}`),t}}))}},6509:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setupCoreModule=void 0;const r=n(4613),i=n(8453),s=n(8188);t.setupCoreModule=function(e){const t={registerHook:(t,n)=>e.registerHook(t,n),Disposable:i.Disposable,version:r.version};s.prototype.require=new Proxy(s.prototype.require,{apply:(e,n,r)=>"@azure/functions-core"===r[0]?t:Reflect.apply(e,n,r)})}},2032:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{c(r.next(e))}catch(e){s(e)}}function a(e){try{c(r.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.setupEventStream=void 0;const i=n(2810),s=n(1175),o=n(2109),a=n(5413),c=n(5549),l=n(9335),u=n(4876),d=n(2771),h=n(6174);var p=i.AzureFunctionsRpcMessages.RpcLog.RpcLogCategory,f=i.AzureFunctionsRpcMessages.RpcLog.Level;t.setupEventStream=function(e,t){t.eventStream.on("data",(n=>{!function(e,t,n){r(this,void 0,void 0,(function*(){const r={requestId:n.requestId};let d,y;try{const l=n.content;switch(l){case"functionEnvironmentReloadRequest":d=new s.FunctionEnvironmentReloadHandler;break;case"functionLoadRequest":d=new o.FunctionLoadHandler;break;case"invocationRequest":d=new a.InvocationHandler;break;case"workerInitRequest":d=new c.WorkerInitHandler;break;case"workerStatusRequest":return r.workerStatusResponse={},void t.eventStream.write(r);case"closeSharedMemoryResourcesRequest":case"fileChangeEventRequest":case"functionLoadRequestCollection":case"functionsMetadataRequest":case"invocationCancel":case"startStream":case"workerHeartbeat":case"workerTerminate":return;default:throw new u.InternalException(`Worker ${e} had no handler for message '${l}'`)}y=(0,h.nonNullProp)(n,l);const p=yield d.handleEvent(t,y);p.result={status:i.AzureFunctionsRpcMessages.StatusResult.Status.Success},r[d.responseName]=p}catch(e){const n=(0,l.ensureErrorType)(e);if(n.isAzureFunctionsInternalException&&t.log({message:n.message,level:f.Error,logCategory:p.System}),d&&y){const e=d.getDefaultResponse(y);e.result={status:i.AzureFunctionsRpcMessages.StatusResult.Status.Failure,exception:{message:n.message,stackTrace:n.stack}},r[d.responseName]=e}}d&&t.eventStream.write(r)}))}(e,t,n)})),t.eventStream.on("error",(function(t){throw(0,d.systemError)(`Worker ${e} encountered event stream error: `,t),new u.InternalException(t)}));const n=t.eventStream.write;t.eventStream.write=function(r){const s=i.AzureFunctionsRpcMessages.StreamingMessage.verify(r);if(s)throw(0,d.systemError)(`Worker ${e} malformed message`,s),new u.InternalException(s);n.apply(t.eventStream,[r])}}},4876:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InternalException=void 0;class n extends Error{constructor(){super(...arguments),this.isAzureFunctionsInternalException=!0}}t.InternalException=n},2771:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.systemError=t.systemWarn=t.systemLog=void 0;const n="LanguageWorkerConsoleLog";function r(e){return e&&"string"==typeof e&&(e=e.replace(/(\r\n|\n|\r)/gm," ")),e}t.systemLog=function(e,...t){console.log(n+r(e),...t)},t.systemWarn=function(e,...t){console.warn(n+"[warn] "+r(e),...t)},t.systemError=function(e,...t){console.error(n+"[error] "+r(e),...t)}},9445:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.startBlockedMonitor=void 0;const r=n(2810);var i=r.AzureFunctionsRpcMessages.RpcLog.RpcLogCategory,s=r.AzureFunctionsRpcMessages.RpcLog.Level;const o=n(3182);t.startBlockedMonitor=function(e,t=500,n=1e4){function r(t){e.log({message:t,level:s.Warning,logCategory:i.System})}r(`Monitoring for blocking code is turned on, with a threshold of ${t} ms. This will have a negative impact on performance. Adjust "AZURE_FUNCTIONS_NODE_BLOCK_LOG" to turn it off. IMPORTANT NOTE: The stack traces are only an approximation and you should analyze all synchronous operations`);let a=[];return o(((e,t)=>{const n=new Date;a.push({time:n.toISOString(),duration:e,stack:t})}),{threshold:t}),setInterval((()=>{a.length>0&&(r(`Blocking code monitoring history: ${JSON.stringify(a)}`),a=[])}),n)}},9335:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isError=t.ensureErrorType=void 0,t.ensureErrorType=function(e){if(e instanceof Error)return e;{let t;return t=null==e?"Unknown error":"string"==typeof e?e:"object"==typeof e?JSON.stringify(e):String(e),new Error(t)}},t.isError=function(e){return null!=e}},6174:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nonNullValue=t.nonNullProp=void 0;const r=n(4876);function i(e,t){if(null==e)throw new r.InternalException("Internal error: Expected value to be neither null nor undefined"+(t?`: ${t}`:""));return e}t.nonNullProp=function(e,t){return i(e[t],t)},t.nonNullValue=i},170:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isEnvironmentVariableSet=void 0,t.isEnvironmentVariableSet=function(e){return!/^(false|0)?$/i.test(null==e?"":String(e))}},3510:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BackoffTimeout=void 0,t.BackoffTimeout=class{constructor(e,t){this.callback=e,this.initialDelay=1e3,this.multiplier=1.6,this.maxDelay=12e4,this.jitter=.2,this.running=!1,this.hasRef=!0,t&&(t.initialDelay&&(this.initialDelay=t.initialDelay),t.multiplier&&(this.multiplier=t.multiplier),t.jitter&&(this.jitter=t.jitter),t.maxDelay&&(this.maxDelay=t.maxDelay)),this.nextDelay=this.initialDelay,this.timerId=setTimeout((()=>{}),0),clearTimeout(this.timerId)}runOnce(){var e,t;this.running=!0,this.timerId=setTimeout((()=>{this.callback(),this.running=!1}),this.nextDelay),this.hasRef||null===(t=(e=this.timerId).unref)||void 0===t||t.call(e);const n=Math.min(this.nextDelay*this.multiplier,this.maxDelay),r=n*this.jitter;var i,s;this.nextDelay=n+(i=-r,s=r,Math.random()*(s-i)+i)}stop(){clearTimeout(this.timerId),this.running=!1}reset(){this.nextDelay=this.initialDelay}isRunning(){return this.running}ref(){var e,t;this.hasRef=!0,null===(t=(e=this.timerId).ref)||void 0===t||t.call(e)}unref(){var e,t;this.hasRef=!1,null===(t=(e=this.timerId).unref)||void 0===t||t.call(e)}}},2766:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CallCredentialsFilterFactory=t.CallCredentialsFilter=void 0;const r=n(6994),i=n(3189),s=n(5165);class o extends r.BaseFilter{constructor(e,t){var n,r;super(),this.channel=e,this.stream=t,this.channel=e,this.stream=t;const i=t.getMethod().split("/");let o="";i.length>=2&&(o=i[1]);const a=null!==(r=null===(n=s.splitHostPort(t.getHost()))||void 0===n?void 0:n.host)&&void 0!==r?r:"localhost";this.serviceUrl=`https://${a}/${o}`}async sendMetadata(e){const t=this.stream.getCredentials().generateMetadata({service_url:this.serviceUrl}),n=await e;try{n.merge(await t)}catch(e){return this.stream.cancelWithStatus(i.Status.UNAUTHENTICATED,`Failed to retrieve auth metadata with error: ${e.message}`),Promise.reject("Failed to retrieve auth metadata")}return n.get("authorization").length>1?(this.stream.cancelWithStatus(i.Status.INTERNAL,'"authorization" metadata cannot have multiple values'),Promise.reject('"authorization" metadata cannot have multiple values')):n}}t.CallCredentialsFilter=o,t.CallCredentialsFilterFactory=class{constructor(e){this.channel=e,this.channel=e}createFilter(e){return new o(this.channel,e)}}},9587:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CallCredentials=void 0;const r=n(4664);class i{static createFromMetadataGenerator(e){return new o(e)}static createFromGoogleCredential(e){return i.createFromMetadataGenerator(((t,n)=>{let i;var s;i="getRequestHeaders"in(s=e)&&"function"==typeof s.getRequestHeaders?e.getRequestHeaders(t.service_url):new Promise(((n,r)=>{e.getRequestMetadata(t.service_url,((e,t)=>{e?r(e):n(t)}))})),i.then((e=>{const t=new r.Metadata;for(const n of Object.keys(e))t.add(n,e[n]);n(null,t)}),(e=>{n(e)}))}))}static createEmpty(){return new a}}t.CallCredentials=i;class s extends i{constructor(e){super(),this.creds=e}async generateMetadata(e){const t=new r.Metadata,n=await Promise.all(this.creds.map((t=>t.generateMetadata(e))));for(const e of n)t.merge(e);return t}compose(e){return new s(this.creds.concat([e]))}_equals(e){return this===e||e instanceof s&&this.creds.every(((t,n)=>t._equals(e.creds[n])))}}class o extends i{constructor(e){super(),this.metadataGenerator=e}generateMetadata(e){return new Promise(((t,n)=>{this.metadataGenerator(e,((e,r)=>{void 0!==r?t(r):n(e)}))}))}compose(e){return new s([this,e])}_equals(e){return this===e||e instanceof o&&this.metadataGenerator===e.metadataGenerator}}class a extends i{generateMetadata(e){return Promise.resolve(new r.Metadata)}compose(e){return e}_equals(e){return e instanceof a}}},2526:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Http2CallStream=t.InterceptingListenerImpl=t.isInterceptingListener=void 0;const r=n(5158),i=n(2037),s=n(3189),o=n(1882),a=n(4664),c=n(1524),l=n(6769),u=n(3189),{HTTP2_HEADER_STATUS:d,HTTP2_HEADER_CONTENT_TYPE:h,NGHTTP2_CANCEL:p}=r.constants;t.isInterceptingListener=function(e){return void 0!==e.onReceiveMetadata&&1===e.onReceiveMetadata.length},t.InterceptingListenerImpl=class{constructor(e,t){this.listener=e,this.nextListener=t,this.processingMessage=!1,this.pendingStatus=null}onReceiveMetadata(e){this.listener.onReceiveMetadata(e,(e=>{this.nextListener.onReceiveMetadata(e)}))}onReceiveMessage(e){this.processingMessage=!0,this.listener.onReceiveMessage(e,(e=>{this.processingMessage=!1,this.nextListener.onReceiveMessage(e),this.pendingStatus&&this.nextListener.onReceiveStatus(this.pendingStatus)}))}onReceiveStatus(e){this.listener.onReceiveStatus(e,(e=>{this.processingMessage?this.pendingStatus=e:this.nextListener.onReceiveStatus(e)}))}},t.Http2CallStream=class{constructor(e,t,n,r,i,o){this.methodName=e,this.channel=t,this.options=n,this.channelCallCredentials=i,this.callNumber=o,this.http2Stream=null,this.pendingRead=!1,this.isWriteFilterPending=!1,this.pendingWrite=null,this.pendingWriteCallback=null,this.writesClosed=!1,this.decoder=new c.StreamDecoder,this.isReadFilterPending=!1,this.canPush=!1,this.readsClosed=!1,this.statusOutput=!1,this.unpushedReadMessages=[],this.unfilteredReadMessages=[],this.mappedStatusCode=s.Status.UNKNOWN,this.finalStatus=null,this.subchannel=null,this.listener=null,this.internalError=null,this.filterStack=r.createFilter(this),this.credentials=i,this.disconnectListener=()=>{this.endCall({code:s.Status.UNAVAILABLE,details:"Connection dropped",metadata:new a.Metadata})},this.options.parentCall&&this.options.flags&s.Propagate.CANCELLATION&&this.options.parentCall.on("cancelled",(()=>{this.cancelWithStatus(s.Status.CANCELLED,"Cancelled by parent call")}))}outputStatus(){if(!this.statusOutput){this.statusOutput=!0;const e=this.filterStack.receiveTrailers(this.finalStatus);process.nextTick((()=>{var t;null===(t=this.listener)||void 0===t||t.onReceiveStatus(e)})),this.subchannel&&(this.subchannel.callUnref(),this.subchannel.removeDisconnectListener(this.disconnectListener))}}trace(e){l.trace(u.LogVerbosity.DEBUG,"call_stream","["+this.callNumber+"] "+e)}endCall(e){null!==this.finalStatus&&this.finalStatus.code!==s.Status.OK||(this.trace("ended with status: code="+e.code+' details="'+e.details+'"'),this.finalStatus=e,this.maybeOutputStatus()),this.destroyHttp2Stream()}maybeOutputStatus(){null!==this.finalStatus&&(this.finalStatus.code!==s.Status.OK||this.readsClosed&&0===this.unpushedReadMessages.length&&0===this.unfilteredReadMessages.length&&!this.isReadFilterPending)&&this.outputStatus()}push(e){this.trace("pushing to reader message of length "+(e instanceof Buffer?e.length:null)),this.canPush=!1,process.nextTick((()=>{var t;this.statusOutput||(null===(t=this.listener)||void 0===t||t.onReceiveMessage(e),this.maybeOutputStatus())}))}handleFilterError(e){this.cancelWithStatus(s.Status.INTERNAL,e.message)}handleFilteredRead(e){if(null===this.finalStatus||this.finalStatus.code===s.Status.OK){if(this.isReadFilterPending=!1,this.canPush?(this.http2Stream.pause(),this.push(e)):(this.trace("unpushedReadMessages.push message of length "+e.length),this.unpushedReadMessages.push(e)),this.unfilteredReadMessages.length>0){const e=this.unfilteredReadMessages.shift();this.filterReceivedMessage(e)}}else this.maybeOutputStatus()}filterReceivedMessage(e){null===this.finalStatus||this.finalStatus.code===s.Status.OK?(this.trace("filterReceivedMessage of length "+e.length),this.isReadFilterPending=!0,this.filterStack.receiveMessage(Promise.resolve(e)).then(this.handleFilteredRead.bind(this),this.handleFilterError.bind(this))):this.maybeOutputStatus()}tryPush(e){this.isReadFilterPending?(this.trace("unfilteredReadMessages.push message of length "+(e&&e.length)),this.unfilteredReadMessages.push(e)):this.filterReceivedMessage(e)}handleTrailers(e){let t,n="";for(const t of Object.keys(e))n+="\t\t"+t+": "+e[t]+"\n";this.trace("Received server trailers:\n"+n);try{t=a.Metadata.fromHttp2Headers(e)}catch(e){t=new a.Metadata}const r=t.getMap();let i=this.mappedStatusCode;if(i===s.Status.UNKNOWN&&"string"==typeof r["grpc-status"]){const e=Number(r["grpc-status"]);e in s.Status&&(i=e,this.trace("received status code "+e+" from server")),t.remove("grpc-status")}let o="";"string"==typeof r["grpc-message"]&&(o=decodeURI(r["grpc-message"]),t.remove("grpc-message"),this.trace('received status details string "'+o+'" from server'));const c={code:i,details:o,metadata:t};this.endCall(c)}attachHttp2Stream(e,t,n){if(void 0!==n&&(this.filterStack=new o.FilterStack([this.filterStack,n.createFilter(this)])),null!==this.finalStatus)e.close(p);else{if(this.trace("attachHttp2Stream from subchannel "+t.getAddress()),this.http2Stream=e,this.subchannel=t,t.addDisconnectListener(this.disconnectListener),t.callRef(),e.on("response",((e,t)=>{var n;let i="";for(const t of Object.keys(e))i+="\t\t"+t+": "+e[t]+"\n";switch(this.trace("Received server headers:\n"+i),e[":status"]){case 400:this.mappedStatusCode=s.Status.INTERNAL;break;case 401:this.mappedStatusCode=s.Status.UNAUTHENTICATED;break;case 403:this.mappedStatusCode=s.Status.PERMISSION_DENIED;break;case 404:this.mappedStatusCode=s.Status.UNIMPLEMENTED;break;case 429:case 502:case 503:case 504:this.mappedStatusCode=s.Status.UNAVAILABLE;break;default:this.mappedStatusCode=s.Status.UNKNOWN}if(t&r.constants.NGHTTP2_FLAG_END_STREAM)this.handleTrailers(e);else{let t;try{t=a.Metadata.fromHttp2Headers(e)}catch(e){return void this.endCall({code:s.Status.UNKNOWN,details:e.message,metadata:new a.Metadata})}try{const e=this.filterStack.receiveMetadata(t);null===(n=this.listener)||void 0===n||n.onReceiveMetadata(e)}catch(e){this.endCall({code:s.Status.UNKNOWN,details:e.message,metadata:new a.Metadata})}}})),e.on("trailers",this.handleTrailers.bind(this)),e.on("data",(e=>{this.trace("receive HTTP/2 data frame of length "+e.length);const t=this.decoder.write(e);for(const e of t)this.trace("parsed message of length "+e.length),this.tryPush(e)})),e.on("end",(()=>{this.readsClosed=!0,this.maybeOutputStatus()})),e.on("close",(()=>{process.nextTick((()=>{var t;if(this.trace("HTTP/2 stream closed with code "+e.rstCode),(null===(t=this.finalStatus)||void 0===t?void 0:t.code)===s.Status.OK)return;let n,i="";switch(e.rstCode){case r.constants.NGHTTP2_NO_ERROR:if(null!==this.finalStatus)return;n=s.Status.INTERNAL,i=`Received RST_STREAM with code ${e.rstCode}`;break;case r.constants.NGHTTP2_REFUSED_STREAM:n=s.Status.UNAVAILABLE,i="Stream refused by server";break;case r.constants.NGHTTP2_CANCEL:n=s.Status.CANCELLED,i="Call cancelled";break;case r.constants.NGHTTP2_ENHANCE_YOUR_CALM:n=s.Status.RESOURCE_EXHAUSTED,i="Bandwidth exhausted";break;case r.constants.NGHTTP2_INADEQUATE_SECURITY:n=s.Status.PERMISSION_DENIED,i="Protocol not secure enough";break;case r.constants.NGHTTP2_INTERNAL_ERROR:n=s.Status.INTERNAL,null===this.internalError?i=`Received RST_STREAM with code ${e.rstCode} (Internal server error)`:"ECONNRESET"===this.internalError.code?(n=s.Status.UNAVAILABLE,i=this.internalError.message):i=`Received RST_STREAM with code ${e.rstCode} triggered by internal client error: ${this.internalError.message}`;break;default:n=s.Status.INTERNAL,i=`Received RST_STREAM with code ${e.rstCode}`}this.endCall({code:n,details:i,metadata:new a.Metadata})}))})),e.on("error",(e=>{"ERR_HTTP2_STREAM_ERROR"!==e.code&&(this.trace("Node error event: message="+e.message+" code="+e.code+" errno="+function(e){for(const[t,n]of Object.entries(i.constants.errno))if(n===e)return t;return"Unknown system error "+e}(e.errno)+" syscall="+e.syscall),this.internalError=e)})),this.pendingRead||e.pause(),this.pendingWrite){if(!this.pendingWriteCallback)throw new Error("Invalid state in write handling code");this.trace("sending data chunk of length "+this.pendingWrite.length+" (deferred)");try{e.write(this.pendingWrite,this.pendingWriteCallback)}catch(e){this.endCall({code:s.Status.UNAVAILABLE,details:`Write failed with error ${e.message}`,metadata:new a.Metadata})}}this.maybeCloseWrites()}}start(e,t){this.trace("Sending metadata"),this.listener=t,this.channel._startCallStream(this,e)}destroyHttp2Stream(){var e;if(null!==this.http2Stream&&!this.http2Stream.destroyed){let t;t=(null===(e=this.finalStatus)||void 0===e?void 0:e.code)===s.Status.OK?r.constants.NGHTTP2_NO_ERROR:r.constants.NGHTTP2_CANCEL,this.trace("close http2 stream with code "+t),this.http2Stream.close(t)}}cancelWithStatus(e,t){this.trace("cancelWithStatus code: "+e+' details: "'+t+'"'),this.endCall({code:e,details:t,metadata:new a.Metadata})}getDeadline(){if(this.options.parentCall&&this.options.flags&s.Propagate.DEADLINE){const e=this.options.parentCall.getDeadline(),t=this.options.deadline,n=e instanceof Date?e.getTime():e,r=t instanceof Date?t.getTime():t;return Math.min(n,r)}return this.options.deadline}getCredentials(){return this.credentials}setCredentials(e){this.credentials=this.channelCallCredentials.compose(e)}getStatus(){return this.finalStatus}getPeer(){var e,t;return null!==(t=null===(e=this.subchannel)||void 0===e?void 0:e.getAddress())&&void 0!==t?t:this.channel.getTarget()}getMethod(){return this.methodName}getHost(){return this.options.host}startRead(){if(null!==this.finalStatus&&this.finalStatus.code!==s.Status.OK)return this.readsClosed=!0,void this.maybeOutputStatus();if(this.canPush=!0,null===this.http2Stream)this.pendingRead=!0;else{if(this.unpushedReadMessages.length>0){const e=this.unpushedReadMessages.shift();return void this.push(e)}this.http2Stream.resume()}}maybeCloseWrites(){this.writesClosed&&!this.isWriteFilterPending&&null!==this.http2Stream&&(this.trace("calling end() on HTTP/2 stream"),this.http2Stream.end())}sendMessageWithContext(e,t){var n;this.trace("write() called with message of length "+t.length);const r={message:t,flags:e.flags},i=null!==(n=e.callback)&&void 0!==n?n:()=>{};this.isWriteFilterPending=!0,this.filterStack.sendMessage(Promise.resolve(r)).then((e=>{if(this.isWriteFilterPending=!1,null===this.http2Stream)this.trace("deferring writing data chunk of length "+e.message.length),this.pendingWrite=e.message,this.pendingWriteCallback=i;else{this.trace("sending data chunk of length "+e.message.length);try{this.http2Stream.write(e.message,i)}catch(e){this.endCall({code:s.Status.UNAVAILABLE,details:`Write failed with error ${e.message}`,metadata:new a.Metadata})}this.maybeCloseWrites()}}),this.handleFilterError.bind(this))}halfClose(){this.trace("end() called"),this.writesClosed=!0,this.maybeCloseWrites()}}},3509:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ClientDuplexStreamImpl=t.ClientWritableStreamImpl=t.ClientReadableStreamImpl=t.ClientUnaryCallImpl=t.callErrorFromStatus=void 0;const r=n(2361),i=n(2781),s=n(3189);t.callErrorFromStatus=function(e){const t=`${e.code} ${s.Status[e.code]}: ${e.details}`;return Object.assign(new Error(t),e)};class o extends r.EventEmitter{constructor(){super()}cancel(){var e;null===(e=this.call)||void 0===e||e.cancelWithStatus(s.Status.CANCELLED,"Cancelled on client")}getPeer(){var e,t;return null!==(t=null===(e=this.call)||void 0===e?void 0:e.getPeer())&&void 0!==t?t:"unknown"}}t.ClientUnaryCallImpl=o;class a extends i.Readable{constructor(e){super({objectMode:!0}),this.deserialize=e}cancel(){var e;null===(e=this.call)||void 0===e||e.cancelWithStatus(s.Status.CANCELLED,"Cancelled on client")}getPeer(){var e,t;return null!==(t=null===(e=this.call)||void 0===e?void 0:e.getPeer())&&void 0!==t?t:"unknown"}_read(e){var t;null===(t=this.call)||void 0===t||t.startRead()}}t.ClientReadableStreamImpl=a;class c extends i.Writable{constructor(e){super({objectMode:!0}),this.serialize=e}cancel(){var e;null===(e=this.call)||void 0===e||e.cancelWithStatus(s.Status.CANCELLED,"Cancelled on client")}getPeer(){var e,t;return null!==(t=null===(e=this.call)||void 0===e?void 0:e.getPeer())&&void 0!==t?t:"unknown"}_write(e,t,n){var r;const i={callback:n},s=Number(t);Number.isNaN(s)||(i.flags=s),null===(r=this.call)||void 0===r||r.sendMessageWithContext(i,e)}_final(e){var t;null===(t=this.call)||void 0===t||t.halfClose(),e()}}t.ClientWritableStreamImpl=c;class l extends i.Duplex{constructor(e,t){super({objectMode:!0}),this.serialize=e,this.deserialize=t}cancel(){var e;null===(e=this.call)||void 0===e||e.cancelWithStatus(s.Status.CANCELLED,"Cancelled on client")}getPeer(){var e,t;return null!==(t=null===(e=this.call)||void 0===e?void 0:e.getPeer())&&void 0!==t?t:"unknown"}_read(e){var t;null===(t=this.call)||void 0===t||t.startRead()}_write(e,t,n){var r;const i={callback:n},s=Number(t);Number.isNaN(s)||(i.flags=s),null===(r=this.call)||void 0===r||r.sendMessageWithContext(i,e)}_final(e){var t;null===(t=this.call)||void 0===t||t.halfClose(),e()}}t.ClientDuplexStreamImpl=l},9357:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChannelCredentials=void 0;const r=n(4404),i=n(9587),s=n(8283);function o(e,t){if(e&&!(e instanceof Buffer))throw new TypeError(`${t}, if provided, must be a Buffer.`)}function a(e,t){return null===e&&null===t||null!==e&&null!==t&&e.equals(t)}class c{constructor(e){this.callCredentials=e||i.CallCredentials.createEmpty()}_getCallCredentials(){return this.callCredentials}static createSsl(e,t,n,r){if(o(e,"Root certificate"),o(t,"Private key"),o(n,"Certificate chain"),t&&!n)throw new Error("Private key must be given with accompanying certificate chain");if(!t&&n)throw new Error("Certificate chain must be given with accompanying private key");return new u(e||s.getDefaultRootsData(),t||null,n||null,r||{})}static createInsecure(){return new l}}t.ChannelCredentials=c;class l extends c{constructor(e){super(e)}compose(e){throw new Error("Cannot compose insecure credentials")}_getConnectionOptions(){return null}_isSecure(){return!1}_equals(e){return e instanceof l}}class u extends c{constructor(e,t,n,i){super(),this.rootCerts=e,this.privateKey=t,this.certChain=n,this.verifyOptions=i;const o=r.createSecureContext({ca:e||void 0,key:t||void 0,cert:n||void 0,ciphers:s.CIPHER_SUITES});this.connectionOptions={secureContext:o},i&&i.checkServerIdentity&&(this.connectionOptions.checkServerIdentity=(e,t)=>i.checkServerIdentity(e,{raw:t.raw}))}compose(e){const t=this.callCredentials.compose(e);return new d(this,t)}_getConnectionOptions(){return Object.assign({},this.connectionOptions)}_isSecure(){return!0}_equals(e){return this===e||e instanceof u&&!!a(this.rootCerts,e.rootCerts)&&!!a(this.privateKey,e.privateKey)&&!!a(this.certChain,e.certChain)&&this.verifyOptions.checkServerIdentity===e.verifyOptions.checkServerIdentity}}class d extends c{constructor(e,t){super(t),this.channelCredentials=e}compose(e){const t=this.callCredentials.compose(e);return new d(this.channelCredentials,t)}_getConnectionOptions(){return this.channelCredentials._getConnectionOptions()}_isSecure(){return!0}_equals(e){return this===e||e instanceof d&&this.channelCredentials._equals(e.channelCredentials)&&this.callCredentials._equals(e.callCredentials)}}},8938:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.channelOptionsEqual=t.recognizedOptions=void 0,t.recognizedOptions={"grpc.ssl_target_name_override":!0,"grpc.primary_user_agent":!0,"grpc.secondary_user_agent":!0,"grpc.default_authority":!0,"grpc.keepalive_time_ms":!0,"grpc.keepalive_timeout_ms":!0,"grpc.keepalive_permit_without_calls":!0,"grpc.service_config":!0,"grpc.max_concurrent_streams":!0,"grpc.initial_reconnect_backoff_ms":!0,"grpc.max_reconnect_backoff_ms":!0,"grpc.use_local_subchannel_pool":!0,"grpc.max_send_message_length":!0,"grpc.max_receive_message_length":!0,"grpc.enable_http_proxy":!0,"grpc-node.max_session_memory":!0},t.channelOptionsEqual=function(e,t){const n=Object.keys(e).sort(),r=Object.keys(t).sort();if(n.length!==r.length)return!1;for(let i=0;i<n.length;i+=1){if(n[i]!==r[i])return!1;if(e[n[i]]!==t[r[i]])return!1}return!0}},2253:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChannelImplementation=t.ConnectivityState=void 0;const r=n(2526),i=n(9357),s=n(3970),o=n(651),a=n(4219),c=n(3189),l=n(1882),u=n(2766),d=n(7169),h=n(4930),p=n(3513),f=n(6769),y=n(2829),g=n(6042),m=n(5165);var v;!function(e){e[e.IDLE=0]="IDLE",e[e.CONNECTING=1]="CONNECTING",e[e.READY=2]="READY",e[e.TRANSIENT_FAILURE=3]="TRANSIENT_FAILURE",e[e.SHUTDOWN=4]="SHUTDOWN"}(v=t.ConnectivityState||(t.ConnectivityState={}));let S=0;t.ChannelImplementation=class{constructor(e,t,n){var r,S,b;if(this.credentials=t,this.options=n,this.connectivityState=v.IDLE,this.currentPicker=new a.UnavailablePicker,this.configSelectionQueue=[],this.pickQueue=[],this.connectivityStateWatchers=[],this.configSelector=null,"string"!=typeof e)throw new TypeError("Channel target must be a string");if(!(t instanceof i.ChannelCredentials))throw new TypeError("Channel credentials must be a ChannelCredentials object");if(n&&("object"!=typeof n||!Object.values(n).every((e=>"string"==typeof e||"number"==typeof e||void 0===e))))throw new TypeError("Channel options must be an object with string or number values");const E=m.parseUri(e);if(null===E)throw new Error(`Could not parse target name "${e}"`);const w=p.mapUriDefaultScheme(E);if(null===w)throw new Error(`Could not find a default scheme for target name "${e}"`);this.callRefTimer=setInterval((()=>{}),2147483647),null===(S=(r=this.callRefTimer).unref)||void 0===S||S.call(r),this.options["grpc.default_authority"]?this.defaultAuthority=this.options["grpc.default_authority"]:this.defaultAuthority=p.getDefaultAuthority(w);const _=g.mapProxyName(w,n);this.target=_.target,this.options=Object.assign({},this.options,_.extraOptions),this.subchannelPool=o.getSubchannelPool(0===(null!==(b=n["grpc.use_local_subchannel_pool"])&&void 0!==b?b:0));const C={createSubchannel:(e,t)=>this.subchannelPool.getOrCreateSubchannel(this.target,e,Object.assign({},this.options,t),this.credentials),updateState:(e,t)=>{this.currentPicker=t;const n=this.pickQueue.slice();this.pickQueue=[],this.callRefTimerUnref();for(const{callStream:e,callMetadata:t,callConfig:r}of n)this.tryPick(e,t,r);this.updateState(e)},requestReresolution:()=>{throw new Error("Resolving load balancer should never call requestReresolution")}};this.resolvingLoadBalancer=new s.ResolvingLoadBalancer(this.target,C,n,(e=>{this.configSelector=e,process.nextTick((()=>{const e=this.configSelectionQueue;this.configSelectionQueue=[],this.callRefTimerUnref();for(const{callStream:t,callMetadata:n}of e)this.tryGetConfig(t,n);this.configSelectionQueue=[]}))}),(e=>{this.configSelectionQueue.length>0&&f.trace(c.LogVerbosity.DEBUG,"channel","Name resolution failed for target "+m.uriToString(this.target)+" with calls queued for config selection");const t=this.configSelectionQueue;this.configSelectionQueue=[],this.callRefTimerUnref();for(const{callStream:n,callMetadata:r}of t)r.getOptions().waitForReady?(this.callRefTimerRef(),this.configSelectionQueue.push({callStream:n,callMetadata:r})):n.cancelWithStatus(e.code,e.details)})),this.filterStackFactory=new l.FilterStackFactory([new u.CallCredentialsFilterFactory(this),new d.DeadlineFilterFactory(this),new y.MaxMessageSizeFilterFactory(this.options),new h.CompressionFilterFactory(this)])}callRefTimerRef(){var e,t,n,r;(null===(t=(e=this.callRefTimer).hasRef)||void 0===t?void 0:t.call(e))||(f.trace(c.LogVerbosity.DEBUG,"channel","callRefTimer.ref | configSelectionQueue.length="+this.configSelectionQueue.length+" pickQueue.length="+this.pickQueue.length),null===(r=(n=this.callRefTimer).ref)||void 0===r||r.call(n))}callRefTimerUnref(){var e,t;this.callRefTimer.hasRef&&!this.callRefTimer.hasRef()||(f.trace(c.LogVerbosity.DEBUG,"channel","callRefTimer.unref | configSelectionQueue.length="+this.configSelectionQueue.length+" pickQueue.length="+this.pickQueue.length),null===(t=(e=this.callRefTimer).unref)||void 0===t||t.call(e))}pushPick(e,t,n){this.pickQueue.push({callStream:e,callMetadata:t,callConfig:n}),this.callRefTimerRef()}tryPick(e,t,n){var r,i,s;const o=this.currentPicker.pick({metadata:t,extraPickInfo:n.pickInformation});switch(f.trace(c.LogVerbosity.DEBUG,"channel","Pick result: "+a.PickResultType[o.pickResultType]+" subchannel: "+(null===(r=o.subchannel)||void 0===r?void 0:r.getAddress())+" status: "+(null===(i=o.status)||void 0===i?void 0:i.code)+" "+(null===(s=o.status)||void 0===s?void 0:s.details)),o.pickResultType){case a.PickResultType.COMPLETE:if(null===o.subchannel)e.cancelWithStatus(c.Status.UNAVAILABLE,"Request dropped by load balancing policy");else{if(o.subchannel.getConnectivityState()!==v.READY){f.log(c.LogVerbosity.ERROR,"Error: COMPLETE pick result subchannel "+o.subchannel.getAddress()+" has state "+v[o.subchannel.getConnectivityState()]),this.pushPick(e,t,n);break}e.filterStack.sendMetadata(Promise.resolve(t.clone())).then((r=>{var i,s,a;const l=o.subchannel.getConnectivityState();if(l===v.READY)try{o.subchannel.startCallStream(r,e,null!==(i=o.extraFilterFactory)&&void 0!==i?i:void 0),null===(s=n.onCommitted)||void 0===s||s.call(n),null===(a=o.onCallStarted)||void 0===a||a.call(o)}catch(r){"ERR_HTTP2_GOAWAY_SESSION"===r.code?(f.trace(c.LogVerbosity.INFO,"channel","Failed to start call on picked subchannel "+o.subchannel.getAddress()+" with error "+r.message+". Retrying pick"),this.tryPick(e,t,n)):(f.trace(c.LogVerbosity.INFO,"channel","Failed to start call on picked subchanel "+o.subchannel.getAddress()+" with error "+r.message+". Ending call"),e.cancelWithStatus(c.Status.INTERNAL,`Failed to start HTTP/2 stream with error: ${r.message}`))}else f.trace(c.LogVerbosity.INFO,"channel","Picked subchannel "+o.subchannel.getAddress()+" has state "+v[l]+" after metadata filters. Retrying pick"),this.tryPick(e,t,n)}),(t=>{e.cancelWithStatus("number"==typeof t.code?t.code:c.Status.UNKNOWN,`Getting metadata from plugin failed with error: ${t.message}`)}))}break;case a.PickResultType.QUEUE:this.pushPick(e,t,n);break;case a.PickResultType.TRANSIENT_FAILURE:t.getOptions().waitForReady?this.pushPick(e,t,n):e.cancelWithStatus(o.status.code,o.status.details);break;case a.PickResultType.DROP:e.cancelWithStatus(o.status.code,o.status.details);break;default:throw new Error(`Invalid state: unknown pickResultType ${o.pickResultType}`)}}removeConnectivityStateWatcher(e){const t=this.connectivityStateWatchers.findIndex((t=>t===e));t>=0&&this.connectivityStateWatchers.splice(t,1)}updateState(e){f.trace(c.LogVerbosity.DEBUG,"connectivity_state",m.uriToString(this.target)+" "+v[this.connectivityState]+" -> "+v[e]),this.connectivityState=e;const t=this.connectivityStateWatchers.slice();for(const n of t)e!==n.currentState&&(n.timer&&clearTimeout(n.timer),this.removeConnectivityStateWatcher(n),n.callback())}tryGetConfig(e,t){if(null===this.configSelector)this.resolvingLoadBalancer.exitIdle(),this.configSelectionQueue.push({callStream:e,callMetadata:t}),this.callRefTimerRef();else{const n=this.configSelector(e.getMethod(),t);n.status===c.Status.OK?this.tryPick(e,t,n):e.cancelWithStatus(n.status,"Failed to route call to method "+e.getMethod())}}_startCallStream(e,t){this.tryGetConfig(e,t.clone())}close(){this.resolvingLoadBalancer.destroy(),this.updateState(v.SHUTDOWN),clearInterval(this.callRefTimer),this.subchannelPool.unrefUnusedSubchannels()}getTarget(){return m.uriToString(this.target)}getConnectivityState(e){const t=this.connectivityState;return e&&this.resolvingLoadBalancer.exitIdle(),t}watchConnectivityState(e,t,n){if(this.connectivityState===v.SHUTDOWN)throw new Error("Channel has been shut down");let r=null;if(t!==1/0){const e=t instanceof Date?t:new Date(t),s=new Date;if(t===-1/0||e<=s)return void process.nextTick(n,new Error("Deadline passed without connectivity state change"));r=setTimeout((()=>{this.removeConnectivityStateWatcher(i),n(new Error("Deadline passed without connectivity state change"))}),e.getTime()-s.getTime())}const i={currentState:e,callback:n,timer:r};this.connectivityStateWatchers.push(i)}createCall(e,t,n,i,s){if("string"!=typeof e)throw new TypeError("Channel#createCall: method must be a string");if(!("number"==typeof t||t instanceof Date))throw new TypeError("Channel#createCall: deadline must be a number or Date");if(this.connectivityState===v.SHUTDOWN)throw new Error("Channel has been shut down");const o=function(){const e=S;return S+=1,S>=Number.MAX_SAFE_INTEGER&&(S=0),e}();f.trace(c.LogVerbosity.DEBUG,"channel",m.uriToString(this.target)+" createCall ["+o+'] method="'+e+'", deadline='+t);const a={deadline:t,flags:null!=s?s:c.Propagate.DEFAULTS,host:null!=n?n:this.defaultAuthority,parentCall:i};return new r.Http2CallStream(e,this,a,this.filterStackFactory,this.credentials._getCallCredentials(),o)}}},3740:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getInterceptingCall=t.InterceptingCall=t.RequesterBuilder=t.ListenerBuilder=t.InterceptorConfigurationError=void 0;const r=n(4664),i=n(2526),s=n(3189);class o extends Error{constructor(e){super(e),this.name="InterceptorConfigurationError",Error.captureStackTrace(this,o)}}t.InterceptorConfigurationError=o,t.ListenerBuilder=class{constructor(){this.metadata=void 0,this.message=void 0,this.status=void 0}withOnReceiveMetadata(e){return this.metadata=e,this}withOnReceiveMessage(e){return this.message=e,this}withOnReceiveStatus(e){return this.status=e,this}build(){return{onReceiveMetadata:this.metadata,onReceiveMessage:this.message,onReceiveStatus:this.status}}},t.RequesterBuilder=class{constructor(){this.start=void 0,this.message=void 0,this.halfClose=void 0,this.cancel=void 0}withStart(e){return this.start=e,this}withSendMessage(e){return this.message=e,this}withHalfClose(e){return this.halfClose=e,this}withCancel(e){return this.cancel=e,this}build(){return{start:this.start,sendMessage:this.message,halfClose:this.halfClose,cancel:this.cancel}}};const a={onReceiveMetadata:(e,t)=>{t(e)},onReceiveMessage:(e,t)=>{t(e)},onReceiveStatus:(e,t)=>{t(e)}},c={start:(e,t,n)=>{n(e,t)},sendMessage:(e,t)=>{t(e)},halfClose:e=>{e()},cancel:e=>{e()}};t.InterceptingCall=class{constructor(e,t){var n,r,i,s;this.nextCall=e,this.processingMessage=!1,this.pendingHalfClose=!1,this.requester=t?{start:null!==(n=t.start)&&void 0!==n?n:c.start,sendMessage:null!==(r=t.sendMessage)&&void 0!==r?r:c.sendMessage,halfClose:null!==(i=t.halfClose)&&void 0!==i?i:c.halfClose,cancel:null!==(s=t.cancel)&&void 0!==s?s:c.cancel}:c}cancelWithStatus(e,t){this.requester.cancel((()=>{this.nextCall.cancelWithStatus(e,t)}))}getPeer(){return this.nextCall.getPeer()}start(e,t){var n,r,s,o,c,l;const u={onReceiveMetadata:null!==(r=null===(n=null==t?void 0:t.onReceiveMetadata)||void 0===n?void 0:n.bind(t))&&void 0!==r?r:e=>{},onReceiveMessage:null!==(o=null===(s=null==t?void 0:t.onReceiveMessage)||void 0===s?void 0:s.bind(t))&&void 0!==o?o:e=>{},onReceiveStatus:null!==(l=null===(c=null==t?void 0:t.onReceiveStatus)||void 0===c?void 0:c.bind(t))&&void 0!==l?l:e=>{}};this.requester.start(e,u,((e,t)=>{var n,r,s;let o;if(i.isInterceptingListener(t))o=t;else{const e={onReceiveMetadata:null!==(n=t.onReceiveMetadata)&&void 0!==n?n:a.onReceiveMetadata,onReceiveMessage:null!==(r=t.onReceiveMessage)&&void 0!==r?r:a.onReceiveMessage,onReceiveStatus:null!==(s=t.onReceiveStatus)&&void 0!==s?s:a.onReceiveStatus};o=new i.InterceptingListenerImpl(e,u)}this.nextCall.start(e,o)}))}sendMessageWithContext(e,t){this.processingMessage=!0,this.requester.sendMessage(t,(t=>{this.processingMessage=!1,this.nextCall.sendMessageWithContext(e,t),this.pendingHalfClose&&this.nextCall.halfClose()}))}sendMessage(e){this.sendMessageWithContext({},e)}startRead(){this.nextCall.startRead()}halfClose(){this.requester.halfClose((()=>{this.processingMessage?this.pendingHalfClose=!0:this.nextCall.halfClose()}))}setCredentials(e){this.nextCall.setCredentials(e)}};class l{constructor(e,t){this.call=e,this.methodDefinition=t}cancelWithStatus(e,t){this.call.cancelWithStatus(e,t)}getPeer(){return this.call.getPeer()}setCredentials(e){this.call.setCredentials(e)}sendMessageWithContext(e,t){let n;try{n=this.methodDefinition.requestSerialize(t)}catch(e){return void this.call.cancelWithStatus(s.Status.INTERNAL,`Request message serialization failure: ${e.message}`)}this.call.sendMessageWithContext(e,n)}sendMessage(e){this.sendMessageWithContext({},e)}start(e,t){let n=null;this.call.start(e,{onReceiveMetadata:e=>{var n;null===(n=null==t?void 0:t.onReceiveMetadata)||void 0===n||n.call(t,e)},onReceiveMessage:e=>{var i;let o;try{o=this.methodDefinition.responseDeserialize(e)}catch(e){return n={code:s.Status.INTERNAL,details:`Response message parsing error: ${e.message}`,metadata:new r.Metadata},void this.call.cancelWithStatus(n.code,n.details)}null===(i=null==t?void 0:t.onReceiveMessage)||void 0===i||i.call(t,o)},onReceiveStatus:e=>{var r,i;n?null===(r=null==t?void 0:t.onReceiveStatus)||void 0===r||r.call(t,n):null===(i=null==t?void 0:t.onReceiveStatus)||void 0===i||i.call(t,e)}})}startRead(){this.call.startRead()}halfClose(){this.call.halfClose()}}class u extends l{constructor(e,t){super(e,t)}start(e,t){var n,r;let i=!1;const s={onReceiveMetadata:null!==(r=null===(n=null==t?void 0:t.onReceiveMetadata)||void 0===n?void 0:n.bind(t))&&void 0!==r?r:e=>{},onReceiveMessage:e=>{var n;i=!0,null===(n=null==t?void 0:t.onReceiveMessage)||void 0===n||n.call(t,e)},onReceiveStatus:e=>{var n,r;i||null===(n=null==t?void 0:t.onReceiveMessage)||void 0===n||n.call(t,null),null===(r=null==t?void 0:t.onReceiveStatus)||void 0===r||r.call(t,e)}};super.start(e,s),this.call.startRead()}}class d extends l{}t.getInterceptingCall=function(e,t,n,r){if(e.clientInterceptors.length>0&&e.clientInterceptorProviders.length>0)throw new o("Both interceptors and interceptor_providers were passed as options to the client constructor. Only one of these is allowed.");if(e.callInterceptors.length>0&&e.callInterceptorProviders.length>0)throw new o("Both interceptors and interceptor_providers were passed as call options. Only one of these is allowed.");let i=[];i=e.callInterceptors.length>0||e.callInterceptorProviders.length>0?[].concat(e.callInterceptors,e.callInterceptorProviders.map((e=>e(t)))).filter((e=>e)):[].concat(e.clientInterceptors,e.clientInterceptorProviders.map((e=>e(t)))).filter((e=>e));const s=Object.assign({},n,{method_definition:t});return i.reduceRight(((e,t)=>n=>t(n,e)),(e=>function(e,t,n){const r=function(e,t,n){var r,i;const s=null!==(r=n.deadline)&&void 0!==r?r:1/0,o=n.host,a=null!==(i=n.parent)&&void 0!==i?i:null,c=n.propagate_flags,l=n.credentials,u=e.createCall(t,s,o,a,c);return l&&u.setCredentials(l),u}(e,n.path,t);return n.responseStream?new d(r,n):new u(r,n)}(r,e,t)))(s)}},8279:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Client=void 0;const r=n(3509),i=n(2253),s=n(3189),o=n(4664),a=n(3740),c=Symbol(),l=Symbol(),u=Symbol(),d=Symbol();function h(e){return"function"==typeof e}t.Client=class{constructor(e,t,n={}){var r,s;if(n=Object.assign({},n),this[l]=null!==(r=n.interceptors)&&void 0!==r?r:[],delete n.interceptors,this[u]=null!==(s=n.interceptor_providers)&&void 0!==s?s:[],delete n.interceptor_providers,this[l].length>0&&this[u].length>0)throw new Error("Both interceptors and interceptor_providers were passed as options to the client constructor. Only one of these is allowed.");if(this[d]=n.callInvocationTransformer,delete n.callInvocationTransformer,n.channelOverride)this[c]=n.channelOverride;else if(n.channelFactoryOverride){const r=n.channelFactoryOverride;delete n.channelFactoryOverride,this[c]=r(e,t,n)}else this[c]=new i.ChannelImplementation(e,t,n)}close(){this[c].close()}getChannel(){return this[c]}waitForReady(e,t){const n=r=>{if(r)return void t(new Error("Failed to connect before the deadline"));let s;try{s=this[c].getConnectivityState(!0)}catch(e){return void t(new Error("The channel has been closed"))}if(s===i.ConnectivityState.READY)t();else try{this[c].watchConnectivityState(s,e,n)}catch(e){t(new Error("The channel has been closed"))}};setImmediate(n)}checkOptionalUnaryResponseArguments(e,t,n){if(h(e))return{metadata:new o.Metadata,options:{},callback:e};if(h(t))return e instanceof o.Metadata?{metadata:e,options:{},callback:t}:{metadata:new o.Metadata,options:e,callback:t};if(!(e instanceof o.Metadata&&t instanceof Object&&h(n)))throw new Error("Incorrect arguments passed");return{metadata:e,options:t,callback:n}}makeUnaryRequest(e,t,n,i,o,h,p){var f,y;const g=this.checkOptionalUnaryResponseArguments(o,h,p),m={path:e,requestStream:!1,responseStream:!1,requestSerialize:t,responseDeserialize:n};let v={argument:i,metadata:g.metadata,call:new r.ClientUnaryCallImpl,channel:this[c],methodDefinition:m,callOptions:g.options,callback:g.callback};this[d]&&(v=this[d](v));const S=v.call,b={clientInterceptors:this[l],clientInterceptorProviders:this[u],callInterceptors:null!==(f=v.callOptions.interceptors)&&void 0!==f?f:[],callInterceptorProviders:null!==(y=v.callOptions.interceptor_providers)&&void 0!==y?y:[]},E=a.getInterceptingCall(b,v.methodDefinition,v.callOptions,v.channel);S.call=E,v.callOptions.credentials&&E.setCredentials(v.callOptions.credentials);let w=null,_=!1;return E.start(v.metadata,{onReceiveMetadata:e=>{S.emit("metadata",e)},onReceiveMessage(e){null!==w&&E.cancelWithStatus(s.Status.INTERNAL,"Too many responses received"),w=e},onReceiveStatus(e){_||(_=!0,e.code===s.Status.OK?v.callback(null,w):v.callback(r.callErrorFromStatus(e)),S.emit("status",e))}}),E.sendMessage(i),E.halfClose(),S}makeClientStreamRequest(e,t,n,i,o,h){var p,f;const y=this.checkOptionalUnaryResponseArguments(i,o,h),g={path:e,requestStream:!0,responseStream:!1,requestSerialize:t,responseDeserialize:n};let m={metadata:y.metadata,call:new r.ClientWritableStreamImpl(t),channel:this[c],methodDefinition:g,callOptions:y.options,callback:y.callback};this[d]&&(m=this[d](m));const v=m.call,S={clientInterceptors:this[l],clientInterceptorProviders:this[u],callInterceptors:null!==(p=m.callOptions.interceptors)&&void 0!==p?p:[],callInterceptorProviders:null!==(f=m.callOptions.interceptor_providers)&&void 0!==f?f:[]},b=a.getInterceptingCall(S,m.methodDefinition,m.callOptions,m.channel);v.call=b,m.callOptions.credentials&&b.setCredentials(m.callOptions.credentials);let E=null,w=!1;return b.start(m.metadata,{onReceiveMetadata:e=>{v.emit("metadata",e)},onReceiveMessage(e){null!==E&&b.cancelWithStatus(s.Status.INTERNAL,"Too many responses received"),E=e},onReceiveStatus(e){w||(w=!0,e.code===s.Status.OK?m.callback(null,E):m.callback(r.callErrorFromStatus(e)),v.emit("status",e))}}),v}checkMetadataAndOptions(e,t){let n,r;return e instanceof o.Metadata?(n=e,r=t||{}):(r=e||{},n=new o.Metadata),{metadata:n,options:r}}makeServerStreamRequest(e,t,n,i,o,h){var p,f;const y=this.checkMetadataAndOptions(o,h),g={path:e,requestStream:!1,responseStream:!0,requestSerialize:t,responseDeserialize:n};let m={argument:i,metadata:y.metadata,call:new r.ClientReadableStreamImpl(n),channel:this[c],methodDefinition:g,callOptions:y.options};this[d]&&(m=this[d](m));const v=m.call,S={clientInterceptors:this[l],clientInterceptorProviders:this[u],callInterceptors:null!==(p=m.callOptions.interceptors)&&void 0!==p?p:[],callInterceptorProviders:null!==(f=m.callOptions.interceptor_providers)&&void 0!==f?f:[]},b=a.getInterceptingCall(S,m.methodDefinition,m.callOptions,m.channel);v.call=b,m.callOptions.credentials&&b.setCredentials(m.callOptions.credentials);let E=!1;return b.start(m.metadata,{onReceiveMetadata(e){v.emit("metadata",e)},onReceiveMessage(e){v.push(e)},onReceiveStatus(e){E||(E=!0,v.push(null),e.code!==s.Status.OK&&v.emit("error",r.callErrorFromStatus(e)),v.emit("status",e))}}),b.sendMessage(i),b.halfClose(),v}makeBidiStreamRequest(e,t,n,i,o){var h,p;const f=this.checkMetadataAndOptions(i,o),y={path:e,requestStream:!0,responseStream:!0,requestSerialize:t,responseDeserialize:n};let g={metadata:f.metadata,call:new r.ClientDuplexStreamImpl(t,n),channel:this[c],methodDefinition:y,callOptions:f.options};this[d]&&(g=this[d](g));const m=g.call,v={clientInterceptors:this[l],clientInterceptorProviders:this[u],callInterceptors:null!==(h=g.callOptions.interceptors)&&void 0!==h?h:[],callInterceptorProviders:null!==(p=g.callOptions.interceptor_providers)&&void 0!==p?p:[]},S=a.getInterceptingCall(v,g.methodDefinition,g.callOptions,g.channel);m.call=S,g.callOptions.credentials&&S.setCredentials(g.callOptions.credentials);let b=!1;return S.start(g.metadata,{onReceiveMetadata(e){m.emit("metadata",e)},onReceiveMessage(e){m.push(e)},onReceiveStatus(e){b||(b=!0,m.push(null),e.code!==s.Status.OK&&m.emit("error",r.callErrorFromStatus(e)),m.emit("status",e))}}),m}}},4930:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CompressionFilterFactory=t.CompressionFilter=void 0;const r=n(9796),i=n(6994);class s{async writeMessage(e,t){let n=e;t&&(n=await this.compressMessage(n));const r=Buffer.allocUnsafe(n.length+5);return r.writeUInt8(t?1:0,0),r.writeUInt32BE(n.length,1),n.copy(r,5),r}async readMessage(e){const t=1===e.readUInt8(0);let n=e.slice(5);return t&&(n=await this.decompressMessage(n)),n}}class o extends s{async compressMessage(e){return e}async writeMessage(e,t){const n=Buffer.allocUnsafe(e.length+5);return n.writeUInt8(0,0),n.writeUInt32BE(e.length,1),e.copy(n,5),n}decompressMessage(e){return Promise.reject(new Error('Received compressed message but "grpc-encoding" header was identity'))}}class a extends s{compressMessage(e){return new Promise(((t,n)=>{r.deflate(e,((e,r)=>{e?n(e):t(r)}))}))}decompressMessage(e){return new Promise(((t,n)=>{r.inflate(e,((e,r)=>{e?n(e):t(r)}))}))}}class c extends s{compressMessage(e){return new Promise(((t,n)=>{r.gzip(e,((e,r)=>{e?n(e):t(r)}))}))}decompressMessage(e){return new Promise(((t,n)=>{r.unzip(e,((e,r)=>{e?n(e):t(r)}))}))}}class l extends s{constructor(e){super(),this.compressionName=e}compressMessage(e){return Promise.reject(new Error(`Received message compressed with unsupported compression method ${this.compressionName}`))}decompressMessage(e){return Promise.reject(new Error(`Compression method not supported: ${this.compressionName}`))}}class u extends i.BaseFilter{constructor(){super(...arguments),this.sendCompression=new o,this.receiveCompression=new o}async sendMetadata(e){const t=await e;return t.set("grpc-accept-encoding","identity,deflate,gzip"),t.set("accept-encoding","identity"),t}receiveMetadata(e){const t=e.get("grpc-encoding");if(t.length>0){const e=t[0];"string"==typeof e&&(this.receiveCompression=function(e){switch(e){case"identity":return new o;case"deflate":return new a;case"gzip":return new c;default:return new l(e)}}(e))}return e.remove("grpc-encoding"),e.remove("grpc-accept-encoding"),e}async sendMessage(e){const t=await e,n=void 0!==t.flags&&0==(2&t.flags);return{message:await this.sendCompression.writeMessage(t.message,n),flags:t.flags}}async receiveMessage(e){return this.receiveCompression.readMessage(await e)}}t.CompressionFilter=u,t.CompressionFilterFactory=class{constructor(e){this.channel=e}createFilter(e){return new u}}},3189:(e,t)=>{"use strict";var n,r,i;Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH=t.DEFAULT_MAX_SEND_MESSAGE_LENGTH=t.Propagate=t.LogVerbosity=t.Status=void 0,(i=t.Status||(t.Status={}))[i.OK=0]="OK",i[i.CANCELLED=1]="CANCELLED",i[i.UNKNOWN=2]="UNKNOWN",i[i.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",i[i.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",i[i.NOT_FOUND=5]="NOT_FOUND",i[i.ALREADY_EXISTS=6]="ALREADY_EXISTS",i[i.PERMISSION_DENIED=7]="PERMISSION_DENIED",i[i.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",i[i.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",i[i.ABORTED=10]="ABORTED",i[i.OUT_OF_RANGE=11]="OUT_OF_RANGE",i[i.UNIMPLEMENTED=12]="UNIMPLEMENTED",i[i.INTERNAL=13]="INTERNAL",i[i.UNAVAILABLE=14]="UNAVAILABLE",i[i.DATA_LOSS=15]="DATA_LOSS",i[i.UNAUTHENTICATED=16]="UNAUTHENTICATED",(r=t.LogVerbosity||(t.LogVerbosity={}))[r.DEBUG=0]="DEBUG",r[r.INFO=1]="INFO",r[r.ERROR=2]="ERROR",r[r.NONE=3]="NONE",(n=t.Propagate||(t.Propagate={}))[n.DEADLINE=1]="DEADLINE",n[n.CENSUS_STATS_CONTEXT=2]="CENSUS_STATS_CONTEXT",n[n.CENSUS_TRACING_CONTEXT=4]="CENSUS_TRACING_CONTEXT",n[n.CANCELLATION=8]="CANCELLATION",n[n.DEFAULTS=65535]="DEFAULTS",t.DEFAULT_MAX_SEND_MESSAGE_LENGTH=-1,t.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH=4194304},7169:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DeadlineFilterFactory=t.DeadlineFilter=void 0;const r=n(3189),i=n(6994),s=[["m",1],["S",1e3],["M",6e4],["H",36e5]];class o extends i.BaseFilter{constructor(e,t){var n,i;super(),this.channel=e,this.callStream=t,this.timer=null;const s=t.getDeadline();s instanceof Date?this.deadline=s.getTime():this.deadline=s;const o=(new Date).getTime();let a=this.deadline-o;a<=0?process.nextTick((()=>{t.cancelWithStatus(r.Status.DEADLINE_EXCEEDED,"Deadline exceeded")})):this.deadline!==1/0&&(this.timer=setTimeout((()=>{t.cancelWithStatus(r.Status.DEADLINE_EXCEEDED,"Deadline exceeded")}),a),null===(i=(n=this.timer).unref)||void 0===i||i.call(n))}async sendMetadata(e){if(this.deadline===1/0)return e;const t=await e,n=function(e){const t=(new Date).getTime(),n=Math.max(e-t,0);for(const[e,t]of s){const r=n/t;if(r<1e8)return String(Math.ceil(r))+e}throw new Error("Deadline is too far in the future")}(this.deadline);return t.set("grpc-timeout",n),t}receiveTrailers(e){return this.timer&&clearTimeout(this.timer),e}}t.DeadlineFilter=o,t.DeadlineFilterFactory=class{constructor(e){this.channel=e}createFilter(e){return new o(this.channel,e)}}},495:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(6769);Object.defineProperty(t,"trace",{enumerable:!0,get:function(){return r.trace}});var i=n(3513);Object.defineProperty(t,"registerResolver",{enumerable:!0,get:function(){return i.registerResolver}});var s=n(5165);Object.defineProperty(t,"uriToString",{enumerable:!0,get:function(){return s.uriToString}});var o=n(3510);Object.defineProperty(t,"BackoffTimeout",{enumerable:!0,get:function(){return o.BackoffTimeout}});var a=n(1192);Object.defineProperty(t,"registerLoadBalancerType",{enumerable:!0,get:function(){return a.registerLoadBalancerType}}),Object.defineProperty(t,"getFirstUsableConfig",{enumerable:!0,get:function(){return a.getFirstUsableConfig}}),Object.defineProperty(t,"validateLoadBalancingConfig",{enumerable:!0,get:function(){return a.validateLoadBalancingConfig}});var c=n(8825);Object.defineProperty(t,"subchannelAddressToString",{enumerable:!0,get:function(){return c.subchannelAddressToString}});var l=n(4487);Object.defineProperty(t,"ChildLoadBalancerHandler",{enumerable:!0,get:function(){return l.ChildLoadBalancerHandler}});var u=n(4219);Object.defineProperty(t,"UnavailablePicker",{enumerable:!0,get:function(){return u.UnavailablePicker}}),Object.defineProperty(t,"QueuePicker",{enumerable:!0,get:function(){return u.QueuePicker}}),Object.defineProperty(t,"PickResultType",{enumerable:!0,get:function(){return u.PickResultType}});var d=n(6994);Object.defineProperty(t,"BaseFilter",{enumerable:!0,get:function(){return d.BaseFilter}});var h=n(1882);Object.defineProperty(t,"FilterStackFactory",{enumerable:!0,get:function(){return h.FilterStackFactory}})},1882:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FilterStackFactory=t.FilterStack=void 0;class n{constructor(e){this.filters=e}sendMetadata(e){let t=e;for(let e=0;e<this.filters.length;e++)t=this.filters[e].sendMetadata(t);return t}receiveMetadata(e){let t=e;for(let e=this.filters.length-1;e>=0;e--)t=this.filters[e].receiveMetadata(t);return t}sendMessage(e){let t=e;for(let e=0;e<this.filters.length;e++)t=this.filters[e].sendMessage(t);return t}receiveMessage(e){let t=e;for(let e=this.filters.length-1;e>=0;e--)t=this.filters[e].receiveMessage(t);return t}receiveTrailers(e){let t=e;for(let e=this.filters.length-1;e>=0;e--)t=this.filters[e].receiveTrailers(t);return t}}t.FilterStack=n,t.FilterStackFactory=class{constructor(e){this.factories=e}createFilter(e){return new n(this.factories.map((t=>t.createFilter(e))))}}},6994:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseFilter=void 0,t.BaseFilter=class{async sendMetadata(e){return e}receiveMetadata(e){return e}async sendMessage(e){return e}async receiveMessage(e){return e}receiveTrailers(e){return e}}},6042:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getProxiedConnection=t.mapProxyName=void 0;const r=n(6769),i=n(3189),s=n(3513),o=n(3685),a=n(4404),c=n(6769),l=n(8825),u=n(5165),d=n(7310);function h(e){c.trace(i.LogVerbosity.DEBUG,"proxy",e)}t.mapProxyName=function(e,t){var n;const s={target:e,extraOptions:{}};if(0===(null!==(n=t["grpc.enable_http_proxy"])&&void 0!==n?n:1))return s;const o=function(){let e,t="",n="";if(process.env.grpc_proxy)n="grpc_proxy",t=process.env.grpc_proxy;else if(process.env.https_proxy)n="https_proxy",t=process.env.https_proxy;else{if(!process.env.http_proxy)return{};n="http_proxy",t=process.env.http_proxy}try{e=new d.URL(t)}catch(e){return r.log(i.LogVerbosity.ERROR,`cannot parse value of "${n}" env var`),{}}if("http:"!==e.protocol)return r.log(i.LogVerbosity.ERROR,`"${e.protocol}" scheme not supported in proxy URI`),{};let s=null;e.username&&(e.password?(r.log(i.LogVerbosity.INFO,"userinfo found in proxy URI"),s=`${e.username}:${e.password}`):s=e.username);const o=e.hostname;let a=e.port;""===a&&(a="80");const c={address:`${o}:${a}`};return s&&(c.creds=s),h("Proxy server "+c.address+" set by environment variable "+n),c}();if(!o.address)return s;const a=u.splitHostPort(e.path);if(!a)return s;const c=a.host;for(const t of function(){let e=process.env.no_grpc_proxy,t="no_grpc_proxy";return e||(e=process.env.no_proxy,t="no_proxy"),e?(h("No proxy server list set by environment variable "+t),e.split(",")):[]}())if(t===c)return h("Not using proxy for target in no_proxy list: "+u.uriToString(e)),s;const l={"grpc.http_connect_target":u.uriToString(e)};return o.creds&&(l["grpc.http_connect_creds"]=o.creds),{target:{scheme:"dns",path:o.address},extraOptions:l}},t.getProxiedConnection=function(e,t,n){if(!("grpc.http_connect_target"in t))return Promise.resolve({});const c=t["grpc.http_connect_target"],d=u.parseUri(c);if(null===d)return Promise.resolve({});const p={method:"CONNECT",path:d.path};l.isTcpSubchannelAddress(e)?(p.host=e.host,p.port=e.port):p.socketPath=e.path,"grpc.http_connect_creds"in t&&(p.headers={"Proxy-Authorization":"Basic "+Buffer.from(t["grpc.http_connect_creds"]).toString("base64")});const f=l.subchannelAddressToString(e);return h("Using proxy "+f+" to connect to "+p.path),new Promise(((e,t)=>{const c=o.request(p);c.once("connect",((o,l,y)=>{var g;if(c.removeAllListeners(),l.removeAllListeners(),200===o.statusCode)if(h("Successfully connected to "+p.path+" through proxy "+f),"secureContext"in n){const r=s.getDefaultAuthority(d),i=u.splitHostPort(r),o=null!==(g=null==i?void 0:i.host)&&void 0!==g?g:r,c=a.connect(Object.assign({host:o,servername:o,socket:l},n),(()=>{h("Successfully established a TLS connection to "+p.path+" through proxy "+f),e({socket:c,realTarget:d})}));c.on("error",(e=>{h("Failed to establish a TLS connection to "+p.path+" through proxy "+f+" with error "+e.message),t()}))}else h("Successfully established a plaintext connection to "+p.path+" through proxy "+f),e({socket:l,realTarget:d});else r.log(i.LogVerbosity.ERROR,"Failed to connect to "+p.path+" through proxy "+f+" with status "+o.statusCode),t()})),c.once("error",(e=>{c.removeAllListeners(),r.log(i.LogVerbosity.ERROR,"Failed to connect to proxy "+f+" with error "+e.message),t()})),c.end()}))}},6636:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.experimental=t.StatusBuilder=t.getClientChannel=t.ServerCredentials=t.Server=t.setLogVerbosity=t.setLogger=t.load=t.loadObject=t.CallCredentials=t.ChannelCredentials=t.waitForClientReady=t.closeClient=t.Channel=t.makeGenericClientConstructor=t.makeClientConstructor=t.loadPackageDefinition=t.Client=t.propagate=t.connectivityState=t.status=t.logVerbosity=t.Metadata=t.credentials=void 0;const r=n(9587);Object.defineProperty(t,"CallCredentials",{enumerable:!0,get:function(){return r.CallCredentials}});const i=n(2253);Object.defineProperty(t,"connectivityState",{enumerable:!0,get:function(){return i.ConnectivityState}}),Object.defineProperty(t,"Channel",{enumerable:!0,get:function(){return i.ChannelImplementation}});const s=n(9357);Object.defineProperty(t,"ChannelCredentials",{enumerable:!0,get:function(){return s.ChannelCredentials}});const o=n(8279);Object.defineProperty(t,"Client",{enumerable:!0,get:function(){return o.Client}});const a=n(3189);Object.defineProperty(t,"logVerbosity",{enumerable:!0,get:function(){return a.LogVerbosity}}),Object.defineProperty(t,"status",{enumerable:!0,get:function(){return a.Status}}),Object.defineProperty(t,"propagate",{enumerable:!0,get:function(){return a.Propagate}});const c=n(6769),l=n(2011);Object.defineProperty(t,"loadPackageDefinition",{enumerable:!0,get:function(){return l.loadPackageDefinition}}),Object.defineProperty(t,"makeClientConstructor",{enumerable:!0,get:function(){return l.makeClientConstructor}}),Object.defineProperty(t,"makeGenericClientConstructor",{enumerable:!0,get:function(){return l.makeClientConstructor}});const u=n(4664);Object.defineProperty(t,"Metadata",{enumerable:!0,get:function(){return u.Metadata}});const d=n(903);Object.defineProperty(t,"Server",{enumerable:!0,get:function(){return d.Server}});const h=n(5919);Object.defineProperty(t,"ServerCredentials",{enumerable:!0,get:function(){return h.ServerCredentials}});const p=n(930);Object.defineProperty(t,"StatusBuilder",{enumerable:!0,get:function(){return p.StatusBuilder}}),t.credentials={combineChannelCredentials:(e,...t)=>t.reduce(((e,t)=>e.compose(t)),e),combineCallCredentials:(e,...t)=>t.reduce(((e,t)=>e.compose(t)),e),createInsecure:s.ChannelCredentials.createInsecure,createSsl:s.ChannelCredentials.createSsl,createFromMetadataGenerator:r.CallCredentials.createFromMetadataGenerator,createFromGoogleCredential:r.CallCredentials.createFromGoogleCredential,createEmpty:r.CallCredentials.createEmpty},t.closeClient=e=>e.close(),t.waitForClientReady=(e,t,n)=>e.waitForReady(t,n),t.loadObject=(e,t)=>{throw new Error("Not available in this library. Use @grpc/proto-loader and loadPackageDefinition instead")},t.load=(e,t,n)=>{throw new Error("Not available in this library. Use @grpc/proto-loader and loadPackageDefinition instead")},t.setLogger=e=>{c.setLogger(e)},t.setLogVerbosity=e=>{c.setLoggerVerbosity(e)},t.getClientChannel=e=>o.Client.prototype.getChannel.call(e);var f=n(3740);Object.defineProperty(t,"ListenerBuilder",{enumerable:!0,get:function(){return f.ListenerBuilder}}),Object.defineProperty(t,"RequesterBuilder",{enumerable:!0,get:function(){return f.RequesterBuilder}}),Object.defineProperty(t,"InterceptingCall",{enumerable:!0,get:function(){return f.InterceptingCall}}),Object.defineProperty(t,"InterceptorConfigurationError",{enumerable:!0,get:function(){return f.InterceptorConfigurationError}});const y=n(495);t.experimental=y;const g=n(3513),m=n(1192),v=n(6569).i8;c.trace(a.LogVerbosity.DEBUG,"index","Loading @grpc/grpc-js version "+v),g.registerAll(),m.registerAll()},4487:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChildLoadBalancerHandler=void 0;const r=n(1192),i=n(2253);t.ChildLoadBalancerHandler=class{constructor(e){this.channelControlHelper=e,this.currentChild=null,this.pendingChild=null,this.ChildPolicyHelper=class{constructor(e){this.parent=e,this.child=null}createSubchannel(e,t){return this.parent.channelControlHelper.createSubchannel(e,t)}updateState(e,t){var n;if(this.calledByPendingChild()){if(e!==i.ConnectivityState.READY)return;null===(n=this.parent.currentChild)||void 0===n||n.destroy(),this.parent.currentChild=this.parent.pendingChild,this.parent.pendingChild=null}else if(!this.calledByCurrentChild())return;this.parent.channelControlHelper.updateState(e,t)}requestReresolution(){var e;const t=null!==(e=this.parent.pendingChild)&&void 0!==e?e:this.parent.currentChild;this.child===t&&this.parent.channelControlHelper.requestReresolution()}setChild(e){this.child=e}calledByPendingChild(){return this.child===this.parent.pendingChild}calledByCurrentChild(){return this.child===this.parent.currentChild}}}updateAddressList(e,t,n){let i;if(null===this.currentChild||this.currentChild.getTypeName()!==t.getLoadBalancerName()){const e=new this.ChildPolicyHelper(this),n=r.createLoadBalancer(t,e);e.setChild(n),null===this.currentChild?(this.currentChild=n,i=this.currentChild):(this.pendingChild&&this.pendingChild.destroy(),this.pendingChild=n,i=this.pendingChild)}else i=null===this.pendingChild?this.currentChild:this.pendingChild;i.updateAddressList(e,t,n)}exitIdle(){this.currentChild&&(this.currentChild.resetBackoff(),this.pendingChild&&this.pendingChild.resetBackoff())}resetBackoff(){this.currentChild&&(this.currentChild.resetBackoff(),this.pendingChild&&this.pendingChild.resetBackoff())}destroy(){this.currentChild&&(this.currentChild.destroy(),this.currentChild=null),this.pendingChild&&(this.pendingChild.destroy(),this.pendingChild=null)}getTypeName(){return"child_load_balancer_helper"}}},6659:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setup=t.PickFirstLoadBalancer=t.PickFirstLoadBalancingConfig=void 0;const r=n(1192),i=n(2253),s=n(4219),o=n(8825),a=n(6769),c=n(3189);function l(e){a.trace(c.LogVerbosity.DEBUG,"pick_first",e)}const u="pick_first";class d{getLoadBalancerName(){return u}constructor(){}toJsonObject(){return{[u]:{}}}static createFromJson(e){return new d}}t.PickFirstLoadBalancingConfig=d;class h{constructor(e){this.subchannel=e}pick(e){return{pickResultType:s.PickResultType.COMPLETE,subchannel:this.subchannel,status:null,extraFilterFactory:null,onCallStarted:null}}}class p{constructor(e){this.channelControlHelper=e,this.latestAddressList=[],this.subchannels=[],this.currentState=i.ConnectivityState.IDLE,this.currentSubchannelIndex=0,this.currentPick=null,this.triedAllSubchannels=!1,this.subchannelStateCounts={[i.ConnectivityState.CONNECTING]:0,[i.ConnectivityState.IDLE]:0,[i.ConnectivityState.READY]:0,[i.ConnectivityState.SHUTDOWN]:0,[i.ConnectivityState.TRANSIENT_FAILURE]:0},this.subchannelStateListener=(e,t,n)=>{if(this.subchannelStateCounts[t]-=1,this.subchannelStateCounts[n]+=1,e===this.subchannels[this.currentSubchannelIndex]&&n===i.ConnectivityState.TRANSIENT_FAILURE&&this.startNextSubchannelConnecting(),n!==i.ConnectivityState.READY){if(this.triedAllSubchannels&&this.subchannelStateCounts[i.ConnectivityState.IDLE]===this.subchannels.length)return this.resetSubchannelList(),void this.updateState(i.ConnectivityState.IDLE,new s.QueuePicker(this));if(null===this.currentPick)if(this.triedAllSubchannels){let e;e=this.subchannelStateCounts[i.ConnectivityState.CONNECTING]>0?i.ConnectivityState.CONNECTING:this.subchannelStateCounts[i.ConnectivityState.TRANSIENT_FAILURE]>0?i.ConnectivityState.TRANSIENT_FAILURE:i.ConnectivityState.IDLE,e!==this.currentState&&(e===i.ConnectivityState.TRANSIENT_FAILURE?this.updateState(e,new s.UnavailablePicker):this.updateState(e,new s.QueuePicker(this)))}else this.updateState(i.ConnectivityState.CONNECTING,new s.QueuePicker(this))}else this.pickSubchannel(e)},this.pickedSubchannelStateListener=(e,t,n)=>{if(n!==i.ConnectivityState.READY)if(this.currentPick=null,e.unref(),e.removeConnectivityStateListener(this.pickedSubchannelStateListener),this.subchannels.length>0)if(this.triedAllSubchannels){let e;e=this.subchannelStateCounts[i.ConnectivityState.CONNECTING]>0?i.ConnectivityState.CONNECTING:this.subchannelStateCounts[i.ConnectivityState.TRANSIENT_FAILURE]>0?i.ConnectivityState.TRANSIENT_FAILURE:i.ConnectivityState.IDLE,e===i.ConnectivityState.TRANSIENT_FAILURE?this.updateState(e,new s.UnavailablePicker):this.updateState(e,new s.QueuePicker(this))}else this.updateState(i.ConnectivityState.CONNECTING,new s.QueuePicker(this));else this.updateState(i.ConnectivityState.IDLE,new s.QueuePicker(this))},this.connectionDelayTimeout=setTimeout((()=>{}),0),clearTimeout(this.connectionDelayTimeout)}startNextSubchannelConnecting(){if(!this.triedAllSubchannels){for(const[e,t]of this.subchannels.entries())if(e>this.currentSubchannelIndex){const n=t.getConnectivityState();if(n===i.ConnectivityState.IDLE||n===i.ConnectivityState.CONNECTING)return void this.startConnecting(e)}this.triedAllSubchannels=!0}}startConnecting(e){clearTimeout(this.connectionDelayTimeout),this.currentSubchannelIndex=e,this.subchannels[e].getConnectivityState()===i.ConnectivityState.IDLE&&(l("Start connecting to subchannel with address "+this.subchannels[e].getAddress()),process.nextTick((()=>{this.subchannels[e].startConnecting()}))),this.connectionDelayTimeout=setTimeout((()=>{this.startNextSubchannelConnecting()}),250)}pickSubchannel(e){l("Pick subchannel with address "+e.getAddress()),null!==this.currentPick&&(this.currentPick.unref(),this.currentPick.removeConnectivityStateListener(this.pickedSubchannelStateListener)),this.currentPick=e,this.updateState(i.ConnectivityState.READY,new h(e)),e.addConnectivityStateListener(this.pickedSubchannelStateListener),e.ref(),this.resetSubchannelList(),clearTimeout(this.connectionDelayTimeout)}updateState(e,t){l(i.ConnectivityState[this.currentState]+" -> "+i.ConnectivityState[e]),this.currentState=e,this.channelControlHelper.updateState(e,t)}resetSubchannelList(){for(const e of this.subchannels)e.removeConnectivityStateListener(this.subchannelStateListener),e.unref();this.currentSubchannelIndex=0,this.subchannelStateCounts={[i.ConnectivityState.CONNECTING]:0,[i.ConnectivityState.IDLE]:0,[i.ConnectivityState.READY]:0,[i.ConnectivityState.SHUTDOWN]:0,[i.ConnectivityState.TRANSIENT_FAILURE]:0},this.subchannels=[],this.triedAllSubchannels=!1}connectToAddressList(){this.resetSubchannelList(),l("Connect to address list "+this.latestAddressList.map((e=>o.subchannelAddressToString(e)))),this.subchannels=this.latestAddressList.map((e=>this.channelControlHelper.createSubchannel(e,{})));for(const e of this.subchannels)e.ref();for(const e of this.subchannels)if(e.addConnectivityStateListener(this.subchannelStateListener),this.subchannelStateCounts[e.getConnectivityState()]+=1,e.getConnectivityState()===i.ConnectivityState.READY)return this.pickSubchannel(e),void this.resetSubchannelList();for(const[e,t]of this.subchannels.entries()){const n=t.getConnectivityState();if(n===i.ConnectivityState.IDLE||n===i.ConnectivityState.CONNECTING)return this.startConnecting(e),void(null===this.currentPick&&this.updateState(i.ConnectivityState.CONNECTING,new s.QueuePicker(this)))}null===this.currentPick&&this.updateState(i.ConnectivityState.TRANSIENT_FAILURE,new s.UnavailablePicker)}updateAddressList(e,t){0!==this.subchannels.length&&this.latestAddressList.every(((t,n)=>e[n]===t))||(this.latestAddressList=e,this.connectToAddressList())}exitIdle(){for(const e of this.subchannels)e.startConnecting();this.currentState===i.ConnectivityState.IDLE&&this.latestAddressList.length>0&&this.connectToAddressList(),(this.currentState===i.ConnectivityState.IDLE||this.triedAllSubchannels)&&this.channelControlHelper.requestReresolution()}resetBackoff(){}destroy(){this.resetSubchannelList(),null!==this.currentPick&&(this.currentPick.unref(),this.currentPick.removeConnectivityStateListener(this.pickedSubchannelStateListener))}getTypeName(){return u}}t.PickFirstLoadBalancer=p,t.setup=function(){r.registerLoadBalancerType(u,p,d)}},5174:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setup=t.RoundRobinLoadBalancer=void 0;const r=n(1192),i=n(2253),s=n(4219),o=n(8825),a=n(6769),c=n(3189);function l(e){a.trace(c.LogVerbosity.DEBUG,"round_robin",e)}const u="round_robin";class d{getLoadBalancerName(){return u}constructor(){}toJsonObject(){return{[u]:{}}}static createFromJson(e){return new d}}class h{constructor(e,t=0){this.subchannelList=e,this.nextIndex=t}pick(e){const t=this.subchannelList[this.nextIndex];return this.nextIndex=(this.nextIndex+1)%this.subchannelList.length,{pickResultType:s.PickResultType.COMPLETE,subchannel:t,status:null,extraFilterFactory:null,onCallStarted:null}}peekNextSubchannel(){return this.subchannelList[this.nextIndex]}}class p{constructor(e){this.channelControlHelper=e,this.subchannels=[],this.currentState=i.ConnectivityState.IDLE,this.currentReadyPicker=null,this.subchannelStateCounts={[i.ConnectivityState.CONNECTING]:0,[i.ConnectivityState.IDLE]:0,[i.ConnectivityState.READY]:0,[i.ConnectivityState.SHUTDOWN]:0,[i.ConnectivityState.TRANSIENT_FAILURE]:0},this.subchannelStateListener=(e,t,n)=>{this.subchannelStateCounts[t]-=1,this.subchannelStateCounts[n]+=1,this.calculateAndUpdateState(),n!==i.ConnectivityState.TRANSIENT_FAILURE&&n!==i.ConnectivityState.IDLE||(this.channelControlHelper.requestReresolution(),e.startConnecting())}}calculateAndUpdateState(){if(this.subchannelStateCounts[i.ConnectivityState.READY]>0){const e=this.subchannels.filter((e=>e.getConnectivityState()===i.ConnectivityState.READY));let t=0;null!==this.currentReadyPicker&&(t=e.indexOf(this.currentReadyPicker.peekNextSubchannel()),t<0&&(t=0)),this.updateState(i.ConnectivityState.READY,new h(e,t))}else this.subchannelStateCounts[i.ConnectivityState.CONNECTING]>0?this.updateState(i.ConnectivityState.CONNECTING,new s.QueuePicker(this)):this.subchannelStateCounts[i.ConnectivityState.TRANSIENT_FAILURE]>0?this.updateState(i.ConnectivityState.TRANSIENT_FAILURE,new s.UnavailablePicker):this.updateState(i.ConnectivityState.IDLE,new s.QueuePicker(this))}updateState(e,t){l(i.ConnectivityState[this.currentState]+" -> "+i.ConnectivityState[e]),e===i.ConnectivityState.READY?this.currentReadyPicker=t:this.currentReadyPicker=null,this.currentState=e,this.channelControlHelper.updateState(e,t)}resetSubchannelList(){for(const e of this.subchannels)e.removeConnectivityStateListener(this.subchannelStateListener),e.unref();this.subchannelStateCounts={[i.ConnectivityState.CONNECTING]:0,[i.ConnectivityState.IDLE]:0,[i.ConnectivityState.READY]:0,[i.ConnectivityState.SHUTDOWN]:0,[i.ConnectivityState.TRANSIENT_FAILURE]:0},this.subchannels=[]}updateAddressList(e,t){this.resetSubchannelList(),l("Connect to address list "+e.map((e=>o.subchannelAddressToString(e)))),this.subchannels=e.map((e=>this.channelControlHelper.createSubchannel(e,{})));for(const e of this.subchannels){e.ref(),e.addConnectivityStateListener(this.subchannelStateListener);const t=e.getConnectivityState();this.subchannelStateCounts[t]+=1,t!==i.ConnectivityState.IDLE&&t!==i.ConnectivityState.TRANSIENT_FAILURE||e.startConnecting()}this.calculateAndUpdateState()}exitIdle(){for(const e of this.subchannels)e.startConnecting()}resetBackoff(){}destroy(){this.resetSubchannelList()}getTypeName(){return u}}t.RoundRobinLoadBalancer=p,t.setup=function(){r.registerLoadBalancerType(u,p,d)}},1192:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registerAll=t.validateLoadBalancingConfig=t.getFirstUsableConfig=t.isLoadBalancerNameRegistered=t.createLoadBalancer=t.registerLoadBalancerType=void 0;const r=n(6659),i=n(5174),s={};t.registerLoadBalancerType=function(e,t,n){s[e]={LoadBalancer:t,LoadBalancingConfig:n}},t.createLoadBalancer=function(e,t){const n=e.getLoadBalancerName();return n in s?new s[n].LoadBalancer(t):null},t.isLoadBalancerNameRegistered=function(e){return e in s},t.getFirstUsableConfig=function(e,t=!1){for(const t of e)if(t.getLoadBalancerName()in s)return t;return t?new r.PickFirstLoadBalancingConfig:null},t.validateLoadBalancingConfig=function(e){if(null===e||"object"!=typeof e)throw new Error("Load balancing config must be an object");const t=Object.keys(e);if(1!==t.length)throw new Error("Provided load balancing config has multiple conflicting entries");const n=t[0];if(n in s)return s[n].LoadBalancingConfig.createFromJson(e[n]);throw new Error(`Unrecognized load balancing config name ${n}`)},t.registerAll=function(){r.setup(),i.setup()}},6769:(e,t,n)=>{"use strict";var r,i,s,o;Object.defineProperty(t,"__esModule",{value:!0}),t.trace=t.log=t.setLoggerVerbosity=t.setLogger=t.getLogger=void 0;const a=n(3189);let c=console,l=a.LogVerbosity.ERROR;switch((null!==(i=null!==(r=process.env.GRPC_NODE_VERBOSITY)&&void 0!==r?r:process.env.GRPC_VERBOSITY)&&void 0!==i?i:"").toUpperCase()){case"DEBUG":l=a.LogVerbosity.DEBUG;break;case"INFO":l=a.LogVerbosity.INFO;break;case"ERROR":l=a.LogVerbosity.ERROR;break;case"NONE":l=a.LogVerbosity.NONE}t.getLogger=()=>c,t.setLogger=e=>{c=e},t.setLoggerVerbosity=e=>{l=e},t.log=(e,...t)=>{e>=l&&"function"==typeof c.error&&c.error(...t)};const u=null!==(o=null!==(s=process.env.GRPC_NODE_TRACE)&&void 0!==s?s:process.env.GRPC_TRACE)&&void 0!==o?o:"",d=new Set,h=new Set;for(const e of u.split(","))e.startsWith("-")?h.add(e.substring(1)):d.add(e);const p=d.has("all");t.trace=function(e,n,r){h.has(n)||!p&&!d.has(n)||t.log(e,(new Date).toISOString()+" | "+n+" | "+r)}},2011:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.loadPackageDefinition=t.makeClientConstructor=void 0;const r=n(8279),i={unary:r.Client.prototype.makeUnaryRequest,server_stream:r.Client.prototype.makeServerStreamRequest,client_stream:r.Client.prototype.makeClientStreamRequest,bidi:r.Client.prototype.makeBidiStreamRequest};function s(e){return["__proto__","prototype","constructor"].includes(e)}function o(e,t,n){n||(n={});class o extends r.Client{}return Object.keys(e).forEach((t=>{if(s(t))return;const n=e[t];let r;if("string"==typeof t&&"$"===t.charAt(0))throw new Error("Method names cannot start with $");r=n.requestStream?n.responseStream?"bidi":"client_stream":n.responseStream?"server_stream":"unary";const a=n.requestSerialize,c=n.responseDeserialize,l=function(e,t,n,r){return function(...i){return e.call(this,t,n,r,...i)}}(i[r],n.path,a,c);o.prototype[t]=l,Object.assign(o.prototype[t],n),n.originalName&&!s(n.originalName)&&(o.prototype[n.originalName]=o.prototype[t])})),o.service=e,o}t.makeClientConstructor=o,t.loadPackageDefinition=function(e){const t={};for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)){const i=e[r],a=r.split(".");if(a.some((e=>s(e))))continue;const c=a[a.length-1];let l=t;for(const e of a.slice(0,-1))l[e]||(l[e]={}),l=l[e];n=i,l[c]="format"in n?i:o(i,0,{})}var n;return t}},2829:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MaxMessageSizeFilterFactory=t.MaxMessageSizeFilter=void 0;const r=n(6994),i=n(3189);class s extends r.BaseFilter{constructor(e,t){super(),this.options=e,this.callStream=t,this.maxSendMessageSize=i.DEFAULT_MAX_SEND_MESSAGE_LENGTH,this.maxReceiveMessageSize=i.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH,"grpc.max_send_message_length"in e&&(this.maxSendMessageSize=e["grpc.max_send_message_length"]),"grpc.max_receive_message_length"in e&&(this.maxReceiveMessageSize=e["grpc.max_receive_message_length"])}async sendMessage(e){if(-1===this.maxSendMessageSize)return e;{const t=await e;return t.message.length>this.maxSendMessageSize?(this.callStream.cancelWithStatus(i.Status.RESOURCE_EXHAUSTED,`Sent message larger than max (${t.message.length} vs. ${this.maxSendMessageSize})`),Promise.reject("Message too large")):t}}async receiveMessage(e){if(-1===this.maxReceiveMessageSize)return e;{const t=await e;return t.length>this.maxReceiveMessageSize?(this.callStream.cancelWithStatus(i.Status.RESOURCE_EXHAUSTED,`Received message larger than max (${t.length} vs. ${this.maxReceiveMessageSize})`),Promise.reject("Message too large")):t}}}t.MaxMessageSizeFilter=s,t.MaxMessageSizeFilterFactory=class{constructor(e){this.options=e}createFilter(e){return new s(this.options,e)}}},4664:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Metadata=void 0;const r=n(6769),i=n(3189),s=/^[0-9a-z_.-]+$/,o=/^[ -~]*$/;function a(e){return e.endsWith("-bin")}function c(e){return e.toLowerCase()}function l(e,t){if(!function(e){return s.test(e)}(e))throw new Error('Metadata key "'+e+'" contains illegal characters');if(null!=t)if(a(e)){if(!(t instanceof Buffer))throw new Error("keys that end with '-bin' must have Buffer values")}else{if(t instanceof Buffer)throw new Error("keys that don't end with '-bin' must have String values");if(!function(e){return o.test(e)}(t))throw new Error('Metadata string value "'+t+'" contains illegal characters')}}class u{constructor(e){this.internalRepr=new Map,this.options=void 0===e?{}:e}set(e,t){l(e=c(e),t),this.internalRepr.set(e,[t])}add(e,t){l(e=c(e),t);const n=this.internalRepr.get(e);void 0===n?this.internalRepr.set(e,[t]):n.push(t)}remove(e){l(e=c(e)),this.internalRepr.delete(e)}get(e){return l(e=c(e)),this.internalRepr.get(e)||[]}getMap(){const e={};return this.internalRepr.forEach(((t,n)=>{if(t.length>0){const r=t[0];e[n]=r instanceof Buffer?r.slice():r}})),e}clone(){const e=new u(this.options),t=e.internalRepr;return this.internalRepr.forEach(((e,n)=>{const r=e.map((e=>e instanceof Buffer?Buffer.from(e):e));t.set(n,r)})),e}merge(e){e.internalRepr.forEach(((e,t)=>{const n=(this.internalRepr.get(t)||[]).concat(e);this.internalRepr.set(t,n)}))}setOptions(e){this.options=e}getOptions(){return this.options}toHttp2Headers(){const e={};return this.internalRepr.forEach(((t,n)=>{e[n]=t.map((e=>e instanceof Buffer?e.toString("base64"):e))})),e}_getCoreRepresentation(){return this.internalRepr}static fromHttp2Headers(e){const t=new u;return Object.keys(e).forEach((n=>{if(":"===n.charAt(0))return;const s=e[n];try{a(n)?Array.isArray(s)?s.forEach((e=>{t.add(n,Buffer.from(e,"base64"))})):void 0!==s&&(function(e){return!e.startsWith("grpc-")}(n)?s.split(",").forEach((e=>{t.add(n,Buffer.from(e.trim(),"base64"))})):t.add(n,Buffer.from(s,"base64"))):Array.isArray(s)?s.forEach((e=>{t.add(n,e)})):void 0!==s&&t.add(n,s)}catch(e){const t=`Failed to add metadata entry ${n}: ${s}. ${e.message}. For more information see https://github.com/grpc/grpc-node/issues/1173`;r.log(i.LogVerbosity.ERROR,t)}})),t}}t.Metadata=u},4219:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QueuePicker=t.UnavailablePicker=t.PickResultType=void 0;const r=n(4664),i=n(3189);var s;!function(e){e[e.COMPLETE=0]="COMPLETE",e[e.QUEUE=1]="QUEUE",e[e.TRANSIENT_FAILURE=2]="TRANSIENT_FAILURE",e[e.DROP=3]="DROP"}(s=t.PickResultType||(t.PickResultType={})),t.UnavailablePicker=class{constructor(e){this.status=void 0!==e?e:{code:i.Status.UNAVAILABLE,details:"No connection established",metadata:new r.Metadata}}pick(e){return{pickResultType:s.TRANSIENT_FAILURE,subchannel:null,status:this.status,extraFilterFactory:null,onCallStarted:null}}},t.QueuePicker=class{constructor(e){this.loadBalancer=e,this.calledExitIdle=!1}pick(e){return this.calledExitIdle||(process.nextTick((()=>{this.loadBalancer.exitIdle()})),this.calledExitIdle=!0),{pickResultType:s.QUEUE,subchannel:null,status:null,extraFilterFactory:null,onCallStarted:null}}}},6982:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setup=void 0;const r=n(3513),i=n(9523),s=n(3837),o=n(235),a=n(3189),c=n(4664),l=n(6769),u=n(3189),d=n(5165),h=n(1808);function p(e){l.trace(u.LogVerbosity.DEBUG,"dns_resolver",e)}const f=s.promisify(i.resolveTxt),y=s.promisify(i.lookup);class g{constructor(e,t,n){var r,i;this.target=e,this.listener=t,this.pendingLookupPromise=null,this.pendingTxtPromise=null,this.latestLookupResult=null,this.latestServiceConfig=null,this.latestServiceConfigError=null,p("Resolver constructed for target "+d.uriToString(e));const s=d.splitHostPort(e.path);null===s?(this.ipResult=null,this.dnsHostname=null,this.port=null):h.isIPv4(s.host)||h.isIPv6(s.host)?(this.ipResult=[{host:s.host,port:null!==(r=s.port)&&void 0!==r?r:443}],this.dnsHostname=null,this.port=null):(this.ipResult=null,this.dnsHostname=s.host,this.port=null!==(i=s.port)&&void 0!==i?i:443),this.percentage=100*Math.random(),this.defaultResolutionError={code:a.Status.UNAVAILABLE,details:`Name resolution failed for target ${d.uriToString(this.target)}`,metadata:new c.Metadata}}startResolution(){if(null!==this.ipResult)return p("Returning IP address for target "+d.uriToString(this.target)),void setImmediate((()=>{this.listener.onSuccessfulResolution(this.ipResult,null,null,null,{})}));if(null===this.dnsHostname)setImmediate((()=>{this.listener.onError({code:a.Status.UNAVAILABLE,details:`Failed to parse DNS address ${d.uriToString(this.target)}`,metadata:new c.Metadata})}));else{this.latestLookupResult=null;const e=this.dnsHostname;this.pendingLookupPromise=y(e,{all:!0}),this.pendingLookupPromise.then((e=>{this.pendingLookupPromise=null;const t=e.filter((e=>4===e.family)),n=e.filter((e=>6===e.family));this.latestLookupResult=function(...e){const t=[];for(let n=0;n<Math.max.apply(null,e.map((e=>e.length)));n++)for(const r of e)n<r.length&&t.push(r[n]);return t}(n,t).map((e=>({host:e.address,port:+this.port})));const r="["+this.latestLookupResult.map((e=>e.host+":"+e.port)).join(",")+"]";p("Resolved addresses for target "+d.uriToString(this.target)+": "+r),0!==this.latestLookupResult.length?this.listener.onSuccessfulResolution(this.latestLookupResult,this.latestServiceConfig,this.latestServiceConfigError,null,{}):this.listener.onError(this.defaultResolutionError)}),(e=>{p("Resolution error for target "+d.uriToString(this.target)+": "+e.message),this.pendingLookupPromise=null,this.listener.onError(this.defaultResolutionError)})),null===this.pendingTxtPromise&&(this.pendingTxtPromise=f(e),this.pendingTxtPromise.then((e=>{this.pendingTxtPromise=null;try{this.latestServiceConfig=o.extractAndSelectServiceConfig(e,this.percentage)}catch(e){this.latestServiceConfigError={code:a.Status.UNAVAILABLE,details:"Parsing service config failed",metadata:new c.Metadata}}null!==this.latestLookupResult&&this.listener.onSuccessfulResolution(this.latestLookupResult,this.latestServiceConfig,this.latestServiceConfigError,null,{})}),(e=>{})))}}updateResolution(){p("Resolution update requested for target "+d.uriToString(this.target)),null===this.pendingLookupPromise&&this.startResolution()}destroy(){}static getDefaultAuthority(e){return e.path}}t.setup=function(){r.registerResolver("dns",g),r.registerDefaultScheme("dns")}},8733:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setup=void 0;const r=n(1808),i=n(3189),s=n(4664),o=n(3513),a=n(5165),c=n(6769);function l(e){c.trace(i.LogVerbosity.DEBUG,"ip_resolver",e)}const u="ipv4",d="ipv6";class h{constructor(e,t,n){var o;this.target=e,this.listener=t,this.addresses=[],this.error=null,l("Resolver constructed for target "+a.uriToString(e));const c=[];if(e.scheme!==u&&e.scheme!==d)return void(this.error={code:i.Status.UNAVAILABLE,details:`Unrecognized scheme ${e.scheme} in IP resolver`,metadata:new s.Metadata});const h=e.path.split(",");for(const t of h){const n=a.splitHostPort(t);if(null===n)return void(this.error={code:i.Status.UNAVAILABLE,details:`Failed to parse ${e.scheme} address ${t}`,metadata:new s.Metadata});if(e.scheme===u&&!r.isIPv4(n.host)||e.scheme===d&&!r.isIPv6(n.host))return void(this.error={code:i.Status.UNAVAILABLE,details:`Failed to parse ${e.scheme} address ${t}`,metadata:new s.Metadata});c.push({host:n.host,port:null!==(o=n.port)&&void 0!==o?o:443})}this.addresses=c,l("Parsed "+e.scheme+" address list "+this.addresses)}updateResolution(){process.nextTick((()=>{this.error?this.listener.onError(this.error):this.listener.onSuccessfulResolution(this.addresses,null,null,null,{})}))}destroy(){}static getDefaultAuthority(e){return e.path.split(",")[0]}}t.setup=function(){o.registerResolver(u,h),o.registerResolver(d,h)}},1350:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setup=void 0;const r=n(3513);class i{constructor(e,t,n){let r;this.listener=t,this.addresses=[],r=""===e.authority?"/"+e.path:e.path,this.addresses=[{path:r}]}updateResolution(){process.nextTick(this.listener.onSuccessfulResolution,this.addresses,null,null,null,{})}destroy(){}static getDefaultAuthority(e){return"localhost"}}t.setup=function(){r.registerResolver("unix",i)}},3513:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registerAll=t.mapUriDefaultScheme=t.getDefaultAuthority=t.createResolver=t.registerDefaultScheme=t.registerResolver=void 0;const r=n(6982),i=n(1350),s=n(8733),o=n(5165),a={};let c=null;t.registerResolver=function(e,t){a[e]=t},t.registerDefaultScheme=function(e){c=e},t.createResolver=function(e,t,n){if(void 0!==e.scheme&&e.scheme in a)return new a[e.scheme](e,t,n);throw new Error(`No resolver could be created for target ${o.uriToString(e)}`)},t.getDefaultAuthority=function(e){if(void 0!==e.scheme&&e.scheme in a)return a[e.scheme].getDefaultAuthority(e);throw new Error(`Invalid target ${o.uriToString(e)}`)},t.mapUriDefaultScheme=function(e){return void 0!==e.scheme&&e.scheme in a?e:null!==c?{scheme:c,authority:void 0,path:o.uriToString(e)}:null},t.registerAll=function(){r.setup(),i.setup(),s.setup()}},3970:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ResolvingLoadBalancer=void 0;const r=n(1192),i=n(235),s=n(2253),o=n(3513),a=n(4219),c=n(3510),l=n(3189),u=n(4664),d=n(6769),h=n(3189),p=n(5165),f=n(4487);t.ResolvingLoadBalancer=class{constructor(e,t,n,d,h){this.target=e,this.channelControlHelper=t,this.channelOptions=n,this.onSuccessfulResolution=d,this.onFailedResolution=h,this.latestChildState=s.ConnectivityState.IDLE,this.latestChildPicker=new a.QueuePicker(this),this.currentState=s.ConnectivityState.IDLE,this.previousServiceConfig=null,this.continueResolving=!1,n["grpc.service_config"]?this.defaultServiceConfig=i.validateServiceConfig(JSON.parse(n["grpc.service_config"])):this.defaultServiceConfig={loadBalancingConfig:[],methodConfig:[]},this.updateState(s.ConnectivityState.IDLE,new a.QueuePicker(this)),this.childLoadBalancer=new f.ChildLoadBalancerHandler({createSubchannel:t.createSubchannel.bind(t),requestReresolution:()=>{this.backoffTimeout.isRunning()?this.continueResolving=!0:this.updateResolution()},updateState:(e,t)=>{this.latestChildState=e,this.latestChildPicker=t,this.updateState(e,t)}}),this.innerResolver=o.createResolver(e,{onSuccessfulResolution:(e,t,n,i,s)=>{var o;let a=null;null===t?null===n?(this.previousServiceConfig=null,a=this.defaultServiceConfig):null===this.previousServiceConfig?this.handleResolutionFailure(n):a=this.previousServiceConfig:(a=t,this.previousServiceConfig=t);const c=null!==(o=null==a?void 0:a.loadBalancingConfig)&&void 0!==o?o:[],d=r.getFirstUsableConfig(c,!0);if(null===d)return void this.handleResolutionFailure({code:l.Status.UNAVAILABLE,details:"All load balancer options in service config are not compatible",metadata:new u.Metadata});this.childLoadBalancer.updateAddressList(e,d,s);const h=null!=a?a:this.defaultServiceConfig;this.onSuccessfulResolution(null!=i?i:function(e){return function(t,n){var r,i;const s=t.split("/").filter((e=>e.length>0)),o=null!==(r=s[0])&&void 0!==r?r:"",a=null!==(i=s[1])&&void 0!==i?i:"";if(e&&e.methodConfig)for(const t of e.methodConfig)for(const e of t.name)if(e.service===o&&(void 0===e.method||e.method===a))return{methodConfig:t,pickInformation:{},status:l.Status.OK};return{methodConfig:{name:[]},pickInformation:{},status:l.Status.OK}}}(h))},onError:e=>{this.handleResolutionFailure(e)}},n),this.backoffTimeout=new c.BackoffTimeout((()=>{this.continueResolving?(this.updateResolution(),this.continueResolving=!1):this.updateState(this.latestChildState,this.latestChildPicker)})),this.backoffTimeout.unref()}updateResolution(){this.innerResolver.updateResolution(),this.currentState===s.ConnectivityState.IDLE&&this.updateState(s.ConnectivityState.CONNECTING,new a.QueuePicker(this))}updateState(e,t){var n;n=p.uriToString(this.target)+" "+s.ConnectivityState[this.currentState]+" -> "+s.ConnectivityState[e],d.trace(h.LogVerbosity.DEBUG,"resolving_load_balancer",n),e===s.ConnectivityState.IDLE&&(t=new a.QueuePicker(this)),this.currentState=e,this.channelControlHelper.updateState(e,t)}handleResolutionFailure(e){this.latestChildState===s.ConnectivityState.IDLE&&(this.updateState(s.ConnectivityState.TRANSIENT_FAILURE,new a.UnavailablePicker(e)),this.onFailedResolution(e)),this.backoffTimeout.runOnce()}exitIdle(){this.childLoadBalancer.exitIdle(),this.currentState===s.ConnectivityState.IDLE&&(this.backoffTimeout.isRunning()?this.continueResolving=!0:this.updateResolution(),this.updateState(s.ConnectivityState.CONNECTING,new a.QueuePicker(this)))}updateAddressList(e,t){throw new Error("updateAddressList not supported on ResolvingLoadBalancer")}resetBackoff(){this.backoffTimeout.reset(),this.childLoadBalancer.resetBackoff()}destroy(){this.childLoadBalancer.destroy(),this.innerResolver.destroy(),this.updateState(s.ConnectivityState.SHUTDOWN,new a.UnavailablePicker)}getTypeName(){return"resolving_load_balancer"}}},777:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Http2ServerCallStream=t.ServerDuplexStreamImpl=t.ServerWritableStreamImpl=t.ServerReadableStreamImpl=t.ServerUnaryCallImpl=void 0;const r=n(2361),i=n(5158),s=n(2781),o=n(3189),a=n(4664),c=n(1524),l=n(6769);function u(e){l.trace(o.LogVerbosity.DEBUG,"server_call",e)}const d="grpc-timeout",h=/(\d{1,8})\s*([HMSmun])/,p={H:36e5,M:6e4,S:1e3,m:1,u:.001,n:1e-6},f={"grpc-accept-encoding":"identity","grpc-encoding":"identity",[i.constants.HTTP2_HEADER_STATUS]:i.constants.HTTP_STATUS_OK,[i.constants.HTTP2_HEADER_CONTENT_TYPE]:"application/grpc+proto"},y={waitForTrailers:!0};class g extends r.EventEmitter{constructor(e,t,n){super(),this.call=e,this.metadata=t,this.request=n,this.cancelled=!1,this.call.setupSurfaceCall(this)}getPeer(){return this.call.getPeer()}sendMetadata(e){this.call.sendMetadata(e)}getDeadline(){return this.call.getDeadline()}}t.ServerUnaryCallImpl=g;class m extends s.Readable{constructor(e,t,n){super({objectMode:!0}),this.call=e,this.metadata=t,this.deserialize=n,this.cancelled=!1,this.call.setupSurfaceCall(this),this.call.setupReadable(this)}_read(e){this.call.consumeUnpushedMessages(this)&&this.call.resume()}getPeer(){return this.call.getPeer()}sendMetadata(e){this.call.sendMetadata(e)}getDeadline(){return this.call.getDeadline()}}t.ServerReadableStreamImpl=m;class v extends s.Writable{constructor(e,t,n,r){super({objectMode:!0}),this.call=e,this.metadata=t,this.serialize=n,this.request=r,this.cancelled=!1,this.trailingMetadata=new a.Metadata,this.call.setupSurfaceCall(this),this.on("error",(e=>{this.call.sendError(e),this.end()}))}getPeer(){return this.call.getPeer()}sendMetadata(e){this.call.sendMetadata(e)}getDeadline(){return this.call.getDeadline()}_write(e,t,n){try{const t=this.call.serializeMessage(e);if(!this.call.write(t))return void this.call.once("drain",n)}catch(e){e.code=o.Status.INTERNAL,this.emit("error",e)}n()}_final(e){this.call.sendStatus({code:o.Status.OK,details:"OK",metadata:this.trailingMetadata}),e(null)}end(e){e&&(this.trailingMetadata=e),super.end()}}t.ServerWritableStreamImpl=v;class S extends s.Duplex{constructor(e,t,n,r){super({objectMode:!0}),this.call=e,this.metadata=t,this.serialize=n,this.deserialize=r,this.cancelled=!1,this.trailingMetadata=new a.Metadata,this.call.setupSurfaceCall(this),this.call.setupReadable(this),this.on("error",(e=>{this.call.sendError(e),this.end()}))}getPeer(){return this.call.getPeer()}sendMetadata(e){this.call.sendMetadata(e)}getDeadline(){return this.call.getDeadline()}end(e){e&&(this.trailingMetadata=e),super.end()}}t.ServerDuplexStreamImpl=S,S.prototype._read=m.prototype._read,S.prototype._write=v.prototype._write,S.prototype._final=v.prototype._final,S.prototype.end=v.prototype.end;class b extends r.EventEmitter{constructor(e,t,n){super(),this.stream=e,this.handler=t,this.options=n,this.cancelled=!1,this.deadlineTimer=setTimeout((()=>{}),0),this.deadline=1/0,this.wantTrailers=!1,this.metadataSent=!1,this.canPush=!1,this.isPushPending=!1,this.bufferedMessages=[],this.messagesToPush=[],this.maxSendMessageSize=o.DEFAULT_MAX_SEND_MESSAGE_LENGTH,this.maxReceiveMessageSize=o.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH,this.stream.once("error",(e=>{})),this.stream.once("close",(()=>{var e;u("Request to method "+(null===(e=this.handler)||void 0===e?void 0:e.path)+" stream closed with rstCode "+this.stream.rstCode),this.cancelled=!0,this.emit("cancelled","cancelled")})),this.stream.on("drain",(()=>{this.emit("drain")})),"grpc.max_send_message_length"in n&&(this.maxSendMessageSize=n["grpc.max_send_message_length"]),"grpc.max_receive_message_length"in n&&(this.maxReceiveMessageSize=n["grpc.max_receive_message_length"]),clearTimeout(this.deadlineTimer)}checkCancelled(){return(this.stream.destroyed||this.stream.closed)&&(this.cancelled=!0),this.cancelled}sendMetadata(e){if(this.checkCancelled())return;if(this.metadataSent)return;this.metadataSent=!0;const t=e?e.toHttp2Headers():null,n=Object.assign({},f,t);this.stream.respond(n,y)}receiveMetadata(e){const t=a.Metadata.fromHttp2Headers(e),n=t.get(d);if(n.length>0){const e=n[0].toString().match(h);if(null===e){const e=new Error("Invalid deadline");return e.code=o.Status.OUT_OF_RANGE,void this.sendError(e)}const r=+e[1]*p[e[2]]|0,i=new Date;this.deadline=i.setMilliseconds(i.getMilliseconds()+r),this.deadlineTimer=setTimeout(E,r,this),t.remove(d)}return t.remove(i.constants.HTTP2_HEADER_ACCEPT_ENCODING),t.remove(i.constants.HTTP2_HEADER_TE),t.remove(i.constants.HTTP2_HEADER_CONTENT_TYPE),t.remove("grpc-encoding"),t.remove("grpc-accept-encoding"),t}receiveUnaryMessage(){return new Promise(((e,t)=>{const n=this.stream,r=[];let i=0;n.on("data",(e=>{r.push(e),i+=e.byteLength})),n.once("end",(async()=>{try{const t=Buffer.concat(r,i);-1!==this.maxReceiveMessageSize&&t.length>this.maxReceiveMessageSize&&(this.sendError({code:o.Status.RESOURCE_EXHAUSTED,details:`Received message larger than max (${t.length} vs. ${this.maxReceiveMessageSize})`}),e()),e(this.deserializeMessage(t))}catch(t){t.code=o.Status.INTERNAL,this.sendError(t),e()}}))}))}serializeMessage(e){const t=this.handler.serialize(e),n=t.byteLength,r=Buffer.allocUnsafe(n+5);return r.writeUInt8(0,0),r.writeUInt32BE(n,1),t.copy(r,5),r}deserializeMessage(e){const t=e.slice(5);return this.handler.deserialize(t)}async sendUnaryMessage(e,t,n,r){if(!this.checkCancelled()){if(n||(n=new a.Metadata),e)return Object.prototype.hasOwnProperty.call(e,"metadata")||(e.metadata=n),void this.sendError(e);try{const e=this.serializeMessage(t);this.write(e),this.sendStatus({code:o.Status.OK,details:"OK",metadata:n})}catch(e){e.code=o.Status.INTERNAL,this.sendError(e)}}}sendStatus(e){var t;this.checkCancelled()||(u("Request to method "+(null===(t=this.handler)||void 0===t?void 0:t.path)+" ended with status code: "+o.Status[e.code]+" details: "+e.details),clearTimeout(this.deadlineTimer),this.wantTrailers||(this.wantTrailers=!0,this.stream.once("wantTrailers",(()=>{const t=Object.assign({"grpc-status":e.code,"grpc-message":encodeURI(e.details)},e.metadata.toHttp2Headers());this.stream.sendTrailers(t)})),this.sendMetadata(),this.stream.end()))}sendError(e){if(this.checkCancelled())return;const t={code:o.Status.UNKNOWN,details:"message"in e?e.message:"Unknown Error",metadata:"metadata"in e&&void 0!==e.metadata?e.metadata:new a.Metadata};"code"in e&&"number"==typeof e.code&&Number.isInteger(e.code)&&(t.code=e.code,"details"in e&&"string"==typeof e.details&&(t.details=e.details)),this.sendStatus(t)}write(e){if(!this.checkCancelled()){if(!(-1!==this.maxSendMessageSize&&e.length>this.maxSendMessageSize))return this.sendMetadata(),this.stream.write(e);this.sendError({code:o.Status.RESOURCE_EXHAUSTED,details:`Sent message larger than max (${e.length} vs. ${this.maxSendMessageSize})`})}}resume(){this.stream.resume()}setupSurfaceCall(e){this.once("cancelled",(t=>{e.cancelled=!0,e.emit("cancelled",t)}))}setupReadable(e){const t=new c.StreamDecoder;this.stream.on("data",(async n=>{const r=t.write(n);for(const t of r){if(-1!==this.maxReceiveMessageSize&&t.length>this.maxReceiveMessageSize)return void this.sendError({code:o.Status.RESOURCE_EXHAUSTED,details:`Received message larger than max (${t.length} vs. ${this.maxReceiveMessageSize})`});this.pushOrBufferMessage(e,t)}})),this.stream.once("end",(()=>{this.pushOrBufferMessage(e,null)}))}consumeUnpushedMessages(e){for(this.canPush=!0;this.messagesToPush.length>0;){const t=this.messagesToPush.shift(),n=e.push(t);if(null===t||!1===n){this.canPush=!1;break}}return this.canPush}pushOrBufferMessage(e,t){this.isPushPending?this.bufferedMessages.push(t):this.pushMessage(e,t)}async pushMessage(e,t){if(null!==t){this.isPushPending=!0;try{const n=await this.deserializeMessage(t);this.canPush?e.push(n)||(this.canPush=!1,this.stream.pause()):this.messagesToPush.push(n)}catch(t){this.bufferedMessages.length=0,"code"in t&&"number"==typeof t.code&&Number.isInteger(t.code)&&t.code>=o.Status.OK&&t.code<=o.Status.UNAUTHENTICATED||(t.code=o.Status.INTERNAL),e.emit("error",t)}this.isPushPending=!1,this.bufferedMessages.length>0&&this.pushMessage(e,this.bufferedMessages.shift())}else this.canPush?e.push(null):this.messagesToPush.push(null)}getPeer(){const e=this.stream.session.socket;return e.remoteAddress?e.remotePort?`${e.remoteAddress}:${e.remotePort}`:e.remoteAddress:"unknown"}getDeadline(){return this.deadline}}function E(e){const t=new Error("Deadline exceeded");t.code=o.Status.DEADLINE_EXCEEDED,e.sendError(t),e.cancelled=!0,e.emit("cancelled","deadline")}t.Http2ServerCallStream=b},5919:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ServerCredentials=void 0;const r=n(8283);class i{static createInsecure(){return new s}static createSsl(e,t,n=!1){if(null!==e&&!Buffer.isBuffer(e))throw new TypeError("rootCerts must be null or a Buffer");if(!Array.isArray(t))throw new TypeError("keyCertPairs must be an array");if("boolean"!=typeof n)throw new TypeError("checkClientCertificate must be a boolean");const i=[],s=[];for(let e=0;e<t.length;e++){const n=t[e];if(null===n||"object"!=typeof n)throw new TypeError(`keyCertPair[${e}] must be an object`);if(!Buffer.isBuffer(n.private_key))throw new TypeError(`keyCertPair[${e}].private_key must be a Buffer`);if(!Buffer.isBuffer(n.cert_chain))throw new TypeError(`keyCertPair[${e}].cert_chain must be a Buffer`);i.push(n.cert_chain),s.push(n.private_key)}return new o({ca:e||r.getDefaultRootsData()||void 0,cert:i,key:s,requestCert:n,ciphers:r.CIPHER_SUITES})}}t.ServerCredentials=i;class s extends i{_isSecure(){return!1}_getSettings(){return null}}class o extends i{constructor(e){super(),this.options=e}_isSecure(){return!0}_getSettings(){return this.options}}},903:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Server=void 0;const r=n(5158),i=n(3189),s=n(4664),o=n(777),a=n(3513),c=n(6769),l=n(8825),u=n(5165);function d(e){c.trace(i.LogVerbosity.DEBUG,"server",e)}function h(){}function p(e){return{code:i.Status.UNIMPLEMENTED,details:`The server does not implement the method ${e}`,metadata:new s.Metadata}}t.Server=class{constructor(e){this.http2ServerList=[],this.handlers=new Map,this.sessions=new Set,this.started=!1,this.options=null!=e?e:{}}addProtoService(){throw new Error("Not implemented. Use addService() instead")}addService(e,t){if(null===e||"object"!=typeof e||null===t||"object"!=typeof t)throw new Error("addService() requires two objects as arguments");const n=Object.keys(e);if(0===n.length)throw new Error("Cannot add an empty service to a server");n.forEach((n=>{const r=e[n];let i;i=r.requestStream?r.responseStream?"bidi":"clientStream":r.responseStream?"serverStream":"unary";let s,o=t[n];if(void 0===o&&"string"==typeof r.originalName&&(o=t[r.originalName]),s=void 0!==o?o.bind(t):function(e,t){const n=p(t);switch(e){case"unary":case"clientStream":return(e,t)=>{t(n,null)};case"serverStream":case"bidi":return e=>{e.emit("error",n)};default:throw new Error(`Invalid handlerType ${e}`)}}(i,n),!1===this.register(r.path,s,r.responseSerialize,r.requestDeserialize,i))throw new Error(`Method handler for ${r.path} already provided.`)}))}removeService(e){if(null===e||"object"!=typeof e)throw new Error("removeService() requires object as argument");Object.keys(e).forEach((t=>{const n=e[t];this.unregister(n.path)}))}bind(e,t){throw new Error("Not implemented. Use bindAsync() instead")}bindAsync(e,t,n){if(!0===this.started)throw new Error("server is already started");if("string"!=typeof e)throw new TypeError("port must be a string");if(null===t||"object"!=typeof t)throw new TypeError("creds must be an object");if("function"!=typeof n)throw new TypeError("callback must be a function");const s=u.parseUri(e);if(null===s)throw new Error(`Could not parse port "${e}"`);const o=a.mapUriDefaultScheme(s);if(null===o)throw new Error(`Could not get a default scheme for port "${e}"`);const p={maxSendHeaderBlockLength:Number.MAX_SAFE_INTEGER};"grpc-node.max_session_memory"in this.options&&(p.maxSessionMemory=this.options["grpc-node.max_session_memory"]),"grpc.max_concurrent_streams"in this.options&&(p.settings={maxConcurrentStreams:this.options["grpc.max_concurrent_streams"]});const f=()=>{let e;if(t._isSecure()){const n=Object.assign(p,t._getSettings());e=r.createSecureServer(n)}else e=r.createServer(p);return e.setTimeout(0,h),this._setupHandlers(e),e},y=(e,t,n)=>0===e.length?Promise.resolve({port:t,count:n}):Promise.all(e.map((e=>{let n;d("Attempting to bind "+l.subchannelAddressToString(e)),n=l.isTcpSubchannelAddress(e)?{host:e.host,port:t}:e;const r=f();return new Promise(((i,s)=>{function o(e){i(e)}r.once("error",o),r.listen(n,(()=>{d("Successfully bound "+l.subchannelAddressToString(e)),this.http2ServerList.push(r);const n=r.address();i("string"==typeof n?t:n.port),r.removeListener("error",o)}))}))}))).then((e=>{let r=0;for(const n of e)if("number"==typeof n&&(r+=1,n!==t))throw new Error("Invalid state: multiple port numbers added from single address");return{port:t,count:r+n}})),g=e=>{if(0===e.length)return Promise.resolve({port:0,count:0});const t=e[0],n=f();return new Promise(((r,i)=>{function s(t){r(g(e.slice(1)))}n.once("error",s),n.listen(t,(()=>{this.http2ServerList.push(n),r(y(e.slice(1),n.address().port,1)),n.removeListener("error",s)}))}))},m={onSuccessfulResolution:(t,r,s)=>{if(m.onSuccessfulResolution=()=>{},0===t.length)return void n(new Error(`No addresses resolved for port ${e}`),0);let o;o=l.isTcpSubchannelAddress(t[0])?0===t[0].port?g(t):y(t,t[0].port,0):y(t,1,0),o.then((e=>{if(0===e.count){const e=`No address added out of total ${t.length} resolved`;c.log(i.LogVerbosity.ERROR,e),n(new Error(e),0)}else e.count<t.length&&c.log(i.LogVerbosity.INFO,`WARNING Only ${e.count} addresses added out of total ${t.length} resolved`),n(null,e.port)}),(e=>{const r=`No address added out of total ${t.length} resolved`;c.log(i.LogVerbosity.ERROR,r),n(new Error(r),0)}))},onError:e=>{n(new Error(e.details),0)}};a.createResolver(o,m,this.options).updateResolution()}forceShutdown(){for(const e of this.http2ServerList)e.listening&&e.close();this.started=!1,this.sessions.forEach((e=>{e.destroy(r.constants.NGHTTP2_CANCEL)})),this.sessions.clear()}register(e,t,n,r,i){return!this.handlers.has(e)&&(this.handlers.set(e,{func:t,serialize:n,deserialize:r,type:i,path:e}),!0)}unregister(e){return this.handlers.delete(e)}start(){if(0===this.http2ServerList.length||this.http2ServerList.every((e=>!0!==e.listening)))throw new Error("server must be bound in order to start");if(!0===this.started)throw new Error("server is already started");this.started=!0}tryShutdown(e){let t=0;function n(){t--,0===t&&e()}this.started=!1;for(const e of this.http2ServerList)e.listening&&(t++,e.close(n));this.sessions.forEach((e=>{e.closed||(t+=1,e.close(n))})),0===t&&e()}addHttp2Port(){throw new Error("Not yet implemented")}_setupHandlers(e){null!==e&&(e.on("stream",((t,n)=>{const s=n[r.constants.HTTP2_HEADER_CONTENT_TYPE];if("string"==typeof s&&s.startsWith("application/grpc"))try{const i=n[r.constants.HTTP2_HEADER_PATH],s=e.address();let a="null";s&&(a="string"==typeof s?s:s.address+":"+s.port),d("Received call to method "+i+" at address "+a);const c=this.handlers.get(i);if(void 0===c)throw d("No handler registered for method "+i+". Sending UNIMPLEMENTED status."),p(i);const l=new o.Http2ServerCallStream(t,c,this.options),u=l.receiveMetadata(n);switch(c.type){case"unary":!async function(e,t,n){const r=await e.receiveUnaryMessage();if(void 0===r||e.cancelled)return;const i=new o.ServerUnaryCallImpl(e,n,r);t.func(i,((t,n,r,i)=>{e.sendUnaryMessage(t,n,r,i)}))}(l,c,u);break;case"clientStream":!function(e,t,n){const r=new o.ServerReadableStreamImpl(e,n,t.deserialize);function i(t,n,i,s){r.destroy(),e.sendUnaryMessage(t,n,i,s)}e.cancelled||(r.on("error",i),t.func(r,i))}(l,c,u);break;case"serverStream":!async function(e,t,n){const r=await e.receiveUnaryMessage();if(void 0===r||e.cancelled)return;const i=new o.ServerWritableStreamImpl(e,n,t.serialize,r);t.func(i)}(l,c,u);break;case"bidi":!function(e,t,n){const r=new o.ServerDuplexStreamImpl(e,n,t.serialize,t.deserialize);e.cancelled||t.func(r)}(l,c,u);break;default:throw new Error(`Unknown handler type: ${c.type}`)}}catch(e){const n=new o.Http2ServerCallStream(t,null,this.options);void 0===e.code&&(e.code=i.Status.INTERNAL),n.sendError(e)}else t.respond({[r.constants.HTTP2_HEADER_STATUS]:r.constants.HTTP_STATUS_UNSUPPORTED_MEDIA_TYPE},{endStream:!0})})),e.on("session",(e=>{this.started?(this.sessions.add(e),e.on("close",(()=>{this.sessions.delete(e)}))):e.destroy()})))}}},235:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.extractAndSelectServiceConfig=t.validateServiceConfig=void 0;const r=n(2037),i=n(1192),s=/^\d+(\.\d{1,9})?s$/;function o(e){if(!("service"in e)||"string"!=typeof e.service)throw new Error("Invalid method config name: invalid service");const t={service:e.service};if("method"in e){if("string"!=typeof e.method)throw new Error("Invalid method config name: invalid method");t.method=e.method}return t}function a(e){const t={name:[]};if(!("name"in e)||!Array.isArray(e.name))throw new Error("Invalid method config: invalid name array");for(const n of e.name)t.name.push(o(n));if("waitForReady"in e){if("boolean"!=typeof e.waitForReady)throw new Error("Invalid method config: invalid waitForReady");t.waitForReady=e.waitForReady}if("timeout"in e){if("string"!=typeof e.timeout||!s.test(e.timeout))throw new Error("Invalid method config: invalid timeout");t.timeout=e.timeout}if("maxRequestBytes"in e){if("number"!=typeof e.maxRequestBytes)throw new Error("Invalid method config: invalid maxRequestBytes");t.maxRequestBytes=e.maxRequestBytes}if("maxResponseBytes"in e){if("number"!=typeof e.maxResponseBytes)throw new Error("Invalid method config: invalid maxRequestBytes");t.maxResponseBytes=e.maxResponseBytes}return t}function c(e){const t={loadBalancingConfig:[],methodConfig:[]};if("loadBalancingPolicy"in e){if("string"!=typeof e.loadBalancingPolicy)throw new Error("Invalid service config: invalid loadBalancingPolicy");t.loadBalancingPolicy=e.loadBalancingPolicy}if("loadBalancingConfig"in e){if(!Array.isArray(e.loadBalancingConfig))throw new Error("Invalid service config: invalid loadBalancingConfig");for(const n of e.loadBalancingConfig)t.loadBalancingConfig.push(i.validateLoadBalancingConfig(n))}if("methodConfig"in e&&Array.isArray(e.methodConfig))for(const n of e.methodConfig)t.methodConfig.push(a(n));const n=[];for(const e of t.methodConfig)for(const t of e.name){for(const e of n)if(t.service===e.service&&t.method===e.method)throw new Error(`Invalid service config: duplicate name ${t.service}/${t.method}`);n.push(t)}return t}function l(e){if(!("serviceConfig"in e))throw new Error("Invalid service config choice: missing service config");const t={serviceConfig:c(e.serviceConfig)};if("clientLanguage"in e){if(!Array.isArray(e.clientLanguage))throw new Error("Invalid service config choice: invalid clientLanguage");t.clientLanguage=[];for(const n of e.clientLanguage){if("string"!=typeof n)throw new Error("Invalid service config choice: invalid clientLanguage");t.clientLanguage.push(n)}}if("clientHostname"in e){if(!Array.isArray(e.clientHostname))throw new Error("Invalid service config choice: invalid clientHostname");t.clientHostname=[];for(const n of e.clientHostname){if("string"!=typeof n)throw new Error("Invalid service config choice: invalid clientHostname");t.clientHostname.push(n)}}if("percentage"in e){if(!("number"==typeof e.percentage&&0<=e.percentage&&e.percentage<=100))throw new Error("Invalid service config choice: invalid percentage");t.percentage=e.percentage}const n=["clientLanguage","percentage","clientHostname","serviceConfig"];for(const t in e)if(!n.includes(t))throw new Error(`Invalid service config choice: unexpected field ${t}`);return t}function u(e,t){if(!Array.isArray(e))throw new Error("Invalid service config list");for(const n of e){const e=l(n);if(!("number"==typeof e.percentage&&t>e.percentage)){if(Array.isArray(e.clientHostname)){let t=!1;for(const n of e.clientHostname)n===r.hostname()&&(t=!0);if(!t)continue}if(Array.isArray(e.clientLanguage)){let t=!1;for(const n of e.clientLanguage)"node"===n&&(t=!0);if(!t)continue}return e.serviceConfig}}throw new Error("No matching service config found")}t.validateServiceConfig=c,t.extractAndSelectServiceConfig=function(e,t){for(const n of e)if(n.length>0&&n[0].startsWith("grpc_config=")){const e=n.join("").substring("grpc_config=".length);return u(JSON.parse(e),t)}return null}},930:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StatusBuilder=void 0,t.StatusBuilder=class{constructor(){this.code=null,this.details=null,this.metadata=null}withCode(e){return this.code=e,this}withDetails(e){return this.details=e,this}withMetadata(e){return this.metadata=e,this}build(){const e={};return null!==this.code&&(e.code=this.code),null!==this.details&&(e.details=this.details),null!==this.metadata&&(e.metadata=this.metadata),e}}},1524:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.StreamDecoder=void 0,function(e){e[e.NO_DATA=0]="NO_DATA",e[e.READING_SIZE=1]="READING_SIZE",e[e.READING_MESSAGE=2]="READING_MESSAGE"}(n||(n={})),t.StreamDecoder=class{constructor(){this.readState=n.NO_DATA,this.readCompressFlag=Buffer.alloc(1),this.readPartialSize=Buffer.alloc(4),this.readSizeRemaining=4,this.readMessageSize=0,this.readPartialMessage=[],this.readMessageRemaining=0}write(e){let t,r=0;const i=[];for(;r<e.length;)switch(this.readState){case n.NO_DATA:this.readCompressFlag=e.slice(r,r+1),r+=1,this.readState=n.READING_SIZE,this.readPartialSize.fill(0),this.readSizeRemaining=4,this.readMessageSize=0,this.readMessageRemaining=0,this.readPartialMessage=[];break;case n.READING_SIZE:if(t=Math.min(e.length-r,this.readSizeRemaining),e.copy(this.readPartialSize,4-this.readSizeRemaining,r,r+t),this.readSizeRemaining-=t,r+=t,0===this.readSizeRemaining)if(this.readMessageSize=this.readPartialSize.readUInt32BE(0),this.readMessageRemaining=this.readMessageSize,this.readMessageRemaining>0)this.readState=n.READING_MESSAGE;else{const e=Buffer.concat([this.readCompressFlag,this.readPartialSize],5);this.readState=n.NO_DATA,i.push(e)}break;case n.READING_MESSAGE:if(t=Math.min(e.length-r,this.readMessageRemaining),this.readPartialMessage.push(e.slice(r,r+t)),this.readMessageRemaining-=t,r+=t,0===this.readMessageRemaining){const e=[this.readCompressFlag,this.readPartialSize].concat(this.readPartialMessage),t=Buffer.concat(e,this.readMessageSize+5);this.readState=n.NO_DATA,i.push(t)}break;default:throw new Error("Unexpected read state")}return i}}},651:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSubchannelPool=t.SubchannelPool=void 0;const r=n(8938),i=n(8825),s=n(5165);class o{constructor(e){this.global=e,this.pool=Object.create(null),this.cleanupTimer=null}unrefUnusedSubchannels(){let e=!0;for(const t in this.pool){const n=this.pool[t].filter((e=>!e.subchannel.unrefIfOneRef()));n.length>0&&(e=!1),this.pool[t]=n}e&&null!==this.cleanupTimer&&(clearInterval(this.cleanupTimer),this.cleanupTimer=null)}ensureCleanupTask(){var e,t;this.global&&null===this.cleanupTimer&&(this.cleanupTimer=setInterval((()=>{this.unrefUnusedSubchannels()}),1e4),null===(t=(e=this.cleanupTimer).unref)||void 0===t||t.call(e))}getOrCreateSubchannel(e,t,n,o){this.ensureCleanupTask();const a=s.uriToString(e);if(a in this.pool){const e=this.pool[a];for(const s of e)if(i.subchannelAddressEqual(t,s.subchannelAddress)&&r.channelOptionsEqual(n,s.channelArguments)&&o._equals(s.channelCredentials))return s.subchannel}const c=new i.Subchannel(e,t,n,o);return a in this.pool||(this.pool[a]=[]),this.pool[a].push({subchannelAddress:t,channelArguments:n,channelCredentials:o,subchannel:c}),this.global&&c.ref(),c}}t.SubchannelPool=o;const a=new o(!0);t.getSubchannelPool=function(e){return e?a:new o(!1)}},8825:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Subchannel=t.subchannelAddressToString=t.subchannelAddressEqual=t.isTcpSubchannelAddress=void 0;const r=n(5158),i=n(4404),s=n(2253),o=n(3510),a=n(3513),c=n(6769),l=n(3189),u=n(6042),d=n(1808),h=n(5165),p=n(6569).i8;function f(e){c.trace(l.LogVerbosity.DEBUG,"subchannel",e)}function y(e){c.trace(l.LogVerbosity.DEBUG,"subchannel_refcount",e)}const g=~(1<<31),{HTTP2_HEADER_AUTHORITY:m,HTTP2_HEADER_CONTENT_TYPE:v,HTTP2_HEADER_METHOD:S,HTTP2_HEADER_PATH:b,HTTP2_HEADER_TE:E,HTTP2_HEADER_USER_AGENT:w}=r.constants,_=Buffer.from("too_many_pings","ascii");function C(e){return"port"in e}function T(e){return C(e)?e.host+":"+e.port:e.path}t.isTcpSubchannelAddress=C,t.subchannelAddressEqual=function(e,t){return C(e)?C(t)&&e.host===t.host&&e.port===t.port:!C(t)&&e.path===t.path},t.subchannelAddressToString=T,t.Subchannel=class{constructor(e,t,n,r){this.channelTarget=e,this.subchannelAddress=t,this.options=n,this.credentials=r,this.connectivityState=s.ConnectivityState.IDLE,this.session=null,this.continueConnecting=!1,this.stateListeners=[],this.disconnectListeners=[],this.keepaliveTimeMs=g,this.keepaliveTimeoutMs=2e4,this.keepaliveWithoutCalls=!1,this.callRefcount=0,this.refcount=0,this.userAgent=[n["grpc.primary_user_agent"],`grpc-node-js/${p}`,n["grpc.secondary_user_agent"]].filter((e=>e)).join(" "),"grpc.keepalive_time_ms"in n&&(this.keepaliveTimeMs=n["grpc.keepalive_time_ms"]),"grpc.keepalive_timeout_ms"in n&&(this.keepaliveTimeoutMs=n["grpc.keepalive_timeout_ms"]),this.keepaliveWithoutCalls="grpc.keepalive_permit_without_calls"in n&&1===n["grpc.keepalive_permit_without_calls"],this.keepaliveIntervalId=setTimeout((()=>{}),0),clearTimeout(this.keepaliveIntervalId),this.keepaliveTimeoutId=setTimeout((()=>{}),0),clearTimeout(this.keepaliveTimeoutId);const i={initialDelay:n["grpc.initial_reconnect_backoff_ms"],maxDelay:n["grpc.max_reconnect_backoff_ms"]};this.backoffTimeout=new o.BackoffTimeout((()=>{this.handleBackoffTimer()}),i),this.subchannelAddressString=T(t)}handleBackoffTimer(){this.continueConnecting?this.transitionToState([s.ConnectivityState.TRANSIENT_FAILURE],s.ConnectivityState.CONNECTING):this.transitionToState([s.ConnectivityState.TRANSIENT_FAILURE],s.ConnectivityState.IDLE)}startBackoff(){this.backoffTimeout.runOnce()}stopBackoff(){this.backoffTimeout.stop(),this.backoffTimeout.reset()}sendPing(){var e,t;c.trace(l.LogVerbosity.DEBUG,"keepalive","Sending ping to "+this.subchannelAddressString),this.keepaliveTimeoutId=setTimeout((()=>{this.transitionToState([s.ConnectivityState.READY],s.ConnectivityState.IDLE)}),this.keepaliveTimeoutMs),null===(t=(e=this.keepaliveTimeoutId).unref)||void 0===t||t.call(e),this.session.ping(((e,t,n)=>{clearTimeout(this.keepaliveTimeoutId)}))}startKeepalivePings(){var e,t;this.keepaliveIntervalId=setInterval((()=>{this.sendPing()}),this.keepaliveTimeMs),null===(t=(e=this.keepaliveIntervalId).unref)||void 0===t||t.call(e)}stopKeepalivePings(){clearInterval(this.keepaliveIntervalId),clearTimeout(this.keepaliveTimeoutId)}createSession(e){var t,n,o;e.realTarget?f(this.subchannelAddressString+" creating HTTP/2 session through proxy to "+e.realTarget):f(this.subchannelAddressString+" creating HTTP/2 session");const u=a.getDefaultAuthority(null!==(t=e.realTarget)&&void 0!==t?t:this.channelTarget);let p=this.credentials._getConnectionOptions()||{};p.maxSendHeaderBlockLength=Number.MAX_SAFE_INTEGER,"grpc-node.max_session_memory"in this.options&&(p.maxSessionMemory=this.options["grpc-node.max_session_memory"]);let y="http://";if("secureContext"in p){if(y="https://",this.options["grpc.ssl_target_name_override"]){const e=this.options["grpc.ssl_target_name_override"];p.checkServerIdentity=(t,n)=>i.checkServerIdentity(e,n),p.servername=e}else{const e=null!==(o=null===(n=h.splitHostPort(u))||void 0===n?void 0:n.host)&&void 0!==o?o:"localhost";p.servername=e}e.socket&&(p.createConnection=(t,n)=>e.socket)}else p.createConnection=(t,n)=>e.socket?e.socket:d.connect(this.subchannelAddress);p=Object.assign(Object.assign({},p),this.subchannelAddress);const m=r.connect(y+u,p);this.session=m,m.unref(),m.once("connect",(()=>{this.session===m&&this.transitionToState([s.ConnectivityState.CONNECTING],s.ConnectivityState.READY)})),m.once("close",(()=>{this.session===m&&(f(this.subchannelAddressString+" connection closed"),this.transitionToState([s.ConnectivityState.CONNECTING],s.ConnectivityState.TRANSIENT_FAILURE),this.transitionToState([s.ConnectivityState.READY],s.ConnectivityState.IDLE))})),m.once("goaway",((e,t,n)=>{this.session===m&&(e===r.constants.NGHTTP2_ENHANCE_YOUR_CALM&&n.equals(_)&&(this.keepaliveTimeMs=Math.min(2*this.keepaliveTimeMs,g),c.log(l.LogVerbosity.ERROR,`Connection to ${h.uriToString(this.channelTarget)} at ${this.subchannelAddressString} rejected by server because of excess pings. Increasing ping interval to ${this.keepaliveTimeMs} ms`)),f(this.subchannelAddressString+" connection closed by GOAWAY with code "+e),this.transitionToState([s.ConnectivityState.CONNECTING,s.ConnectivityState.READY],s.ConnectivityState.IDLE))})),m.once("error",(e=>{f(this.subchannelAddressString+" connection closed with error "+e.message)}))}startConnectingInternal(){var e,t;const n=this.credentials._getConnectionOptions()||{};if("secureContext"in n)if(n.ALPNProtocols=["h2"],this.options["grpc.ssl_target_name_override"]){const e=this.options["grpc.ssl_target_name_override"];n.checkServerIdentity=(t,n)=>i.checkServerIdentity(e,n),n.servername=e}else if("grpc.http_connect_target"in this.options){const r=a.getDefaultAuthority(null!==(e=h.parseUri(this.options["grpc.http_connect_target"]))&&void 0!==e?e:{path:"localhost"}),i=h.splitHostPort(r);n.servername=null!==(t=null==i?void 0:i.host)&&void 0!==t?t:r}u.getProxiedConnection(this.subchannelAddress,this.options,n).then((e=>{this.createSession(e)}),(e=>{this.transitionToState([s.ConnectivityState.CONNECTING],s.ConnectivityState.TRANSIENT_FAILURE)}))}transitionToState(e,t){if(-1===e.indexOf(this.connectivityState))return!1;f(this.subchannelAddressString+" "+s.ConnectivityState[this.connectivityState]+" -> "+s.ConnectivityState[t]);const n=this.connectivityState;switch(this.connectivityState=t,t){case s.ConnectivityState.READY:this.stopBackoff(),this.session.socket.once("close",(()=>{for(const e of this.disconnectListeners)e()})),this.keepaliveWithoutCalls&&this.startKeepalivePings();break;case s.ConnectivityState.CONNECTING:this.startBackoff(),this.startConnectingInternal(),this.continueConnecting=!1;break;case s.ConnectivityState.TRANSIENT_FAILURE:this.session&&this.session.close(),this.session=null,this.stopKeepalivePings(),this.backoffTimeout.isRunning()||process.nextTick((()=>{this.handleBackoffTimer()}));break;case s.ConnectivityState.IDLE:this.session&&this.session.close(),this.session=null,this.stopKeepalivePings();break;default:throw new Error(`Invalid state: unknown ConnectivityState ${t}`)}for(const e of[...this.stateListeners])e(this,n,t);return!0}checkBothRefcounts(){0===this.callRefcount&&0===this.refcount&&this.transitionToState([s.ConnectivityState.CONNECTING,s.ConnectivityState.READY],s.ConnectivityState.TRANSIENT_FAILURE)}callRef(){y(this.subchannelAddressString+" callRefcount "+this.callRefcount+" -> "+(this.callRefcount+1)),0===this.callRefcount&&(this.session&&this.session.ref(),this.backoffTimeout.ref(),this.keepaliveWithoutCalls||this.startKeepalivePings()),this.callRefcount+=1}callUnref(){y(this.subchannelAddressString+" callRefcount "+this.callRefcount+" -> "+(this.callRefcount-1)),this.callRefcount-=1,0===this.callRefcount&&(this.session&&this.session.unref(),this.backoffTimeout.unref(),this.keepaliveWithoutCalls||this.stopKeepalivePings(),this.checkBothRefcounts())}ref(){y(this.subchannelAddressString+" refcount "+this.refcount+" -> "+(this.refcount+1)),this.refcount+=1}unref(){y(this.subchannelAddressString+" refcount "+this.refcount+" -> "+(this.refcount-1)),this.refcount-=1,this.checkBothRefcounts()}unrefIfOneRef(){return 1===this.refcount&&(this.unref(),!0)}startCallStream(e,t,n){const r=e.toHttp2Headers();let i;r[m]=t.getHost(),r[w]=this.userAgent,r[v]="application/grpc",r[S]="POST",r[b]=t.getMethod(),r[E]="trailers";try{i=this.session.request(r)}catch(e){throw this.transitionToState([s.ConnectivityState.READY],s.ConnectivityState.TRANSIENT_FAILURE),e}let o="";for(const e of Object.keys(r))o+="\t\t"+e+": "+r[e]+"\n";c.trace(l.LogVerbosity.DEBUG,"call_stream","Starting stream on subchannel "+this.subchannelAddressString+" with headers\n"+o),t.attachHttp2Stream(i,this,n)}startConnecting(){this.transitionToState([s.ConnectivityState.IDLE],s.ConnectivityState.CONNECTING)||this.connectivityState===s.ConnectivityState.TRANSIENT_FAILURE&&(this.continueConnecting=!0)}getConnectivityState(){return this.connectivityState}addConnectivityStateListener(e){this.stateListeners.push(e)}removeConnectivityStateListener(e){const t=this.stateListeners.indexOf(e);t>-1&&this.stateListeners.splice(t,1)}addDisconnectListener(e){this.disconnectListeners.push(e)}removeDisconnectListener(e){const t=this.disconnectListeners.indexOf(e);t>-1&&this.disconnectListeners.splice(t,1)}resetBackoff(){this.backoffTimeout.reset(),this.transitionToState([s.ConnectivityState.TRANSIENT_FAILURE],s.ConnectivityState.CONNECTING)}getAddress(){return this.subchannelAddressString}}},8283:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDefaultRootsData=t.CIPHER_SUITES=void 0;const r=n(7147);t.CIPHER_SUITES=process.env.GRPC_SSL_CIPHER_SUITES;const i=process.env.GRPC_DEFAULT_SSL_ROOTS_FILE_PATH;let s=null;t.getDefaultRootsData=function(){return i?(null===s&&(s=r.readFileSync(i)),s):null}},5165:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uriToString=t.splitHostPort=t.parseUri=void 0;const n=/^(?:([A-Za-z0-9+.-]+):)?(?:\/\/([^/]*)\/)?(.+)$/;t.parseUri=function(e){const t=n.exec(e);return null===t?null:{scheme:t[1],authority:t[2],path:t[3]}};const r=/^\d+$/;t.splitHostPort=function(e){if(e.startsWith("[")){const t=e.indexOf("]");if(-1===t)return null;const n=e.substring(1,t);if(-1===n.indexOf(":"))return null;if(e.length>t+1){if(":"===e[t+1]){const i=e.substring(t+2);return r.test(i)?{host:n,port:+i}:null}return null}return{host:n}}{const t=e.split(":");return 2===t.length?r.test(t[1])?{host:t[0],port:+t[1]}:null:{host:e}}},t.uriToString=function(e){let t="";return void 0!==e.scheme&&(t+=e.scheme+":"),void 0!==e.authority&&(t+="//"+e.authority+"/"),t+=e.path,t}},9421:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(6884),i=n(3281),s=n(3961),o=n(5969);t.isAnyExtension=function(e){return"@type"in e&&"string"==typeof e["@type"]};const a={longs:String,enums:String,bytes:String,defaults:!0,oneofs:!0,json:!0};function c(e,t){const n=(r=t,s=e.name,""===r?s:r+"."+s);var r,s;return function(e){return e instanceof i.Service||e instanceof i.Type||e instanceof i.Enum}(e)?[[n,e]]:function(e){return e instanceof i.Namespace||e instanceof i.Root}(e)&&void 0!==e.nested?Object.keys(e.nested).map((t=>c(e.nested[t],n))).reduce(((e,t)=>e.concat(t)),[]):[]}function l(e,t){return function(n){return e.toObject(e.decode(n),t)}}function u(e){return function(t){const n=e.fromObject(t);return e.encode(n).finish()}}function d(e,t,n,i){const s=e.resolvedRequestType,o=e.resolvedResponseType;return{path:"/"+t+"/"+e.name,requestStream:!!e.requestStream,responseStream:!!e.responseStream,requestSerialize:u(s),requestDeserialize:l(s,n),responseSerialize:u(o),responseDeserialize:l(o,n),originalName:r(e.name),requestType:h(s,i),responseType:h(o,i)}}function h(e,t){const n=e.toDescriptor("proto3");return{format:"Protocol Buffer 3 DescriptorProto",type:n.$type.toObject(n,a),fileDescriptorProtos:t}}function p(e,t,n,r){if(e instanceof i.Service)return function(e,t,n,r){const i={};for(const s of e.methodsArray)i[s.name]=d(s,t,n,r);return i}(e,t,n,r);if(e instanceof i.Type)return h(e,r);if(e instanceof i.Enum)return function(e,t){const n=e.toDescriptor("proto3");return{format:"Protocol Buffer 3 EnumDescriptorProto",type:n.$type.toObject(n,a),fileDescriptorProtos:t}}(e,r);throw new Error("Type mismatch in reflection object handling")}function f(e,t){const n={};e.resolveAll();const r=e.toDescriptor("proto3").file.map((e=>Buffer.from(s.FileDescriptorProto.encode(e).finish())));for(const[i,s]of c(e,""))n[i]=p(s,i,t,r);return n}function y(e,t){t=t||{};const n=i.Root.fromDescriptor(e);return n.resolveAll(),f(n,t)}t.load=function(e,t){return o.loadProtosWithOptions(e,t).then((e=>f(e,t)))},t.loadSync=function(e,t){return f(o.loadProtosWithOptionsSync(e,t),t)},t.fromJSON=function(e,t){t=t||{};const n=i.Root.fromJSON(e);return n.resolveAll(),f(n,t)},t.loadFileDescriptorSetFromBuffer=function(e,t){return y(s.FileDescriptorSet.decode(e),t)},t.loadFileDescriptorSetFromObject=function(e,t){return y(s.FileDescriptorSet.fromObject(e),t)},o.addCommonProtos()},5969:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(7147),i=n(1017),s=n(3281);function o(e,t){const n=e.resolvePath;e.resolvePath=(e,s)=>{if(i.isAbsolute(s))return s;for(const e of t){const t=i.join(e,s);try{return r.accessSync(t,r.constants.R_OK),t}catch(e){continue}}return process.emitWarning(`${s} not found in any of the include paths ${t}`),n(e,s)}}t.loadProtosWithOptions=async function(e,t){const n=new s.Root;if((t=t||{}).includeDirs){if(!Array.isArray(t.includeDirs))return Promise.reject(new Error("The includeDirs option must be an array"));o(n,t.includeDirs)}const r=await n.load(e,t);return r.resolveAll(),r},t.loadProtosWithOptionsSync=function(e,t){const n=new s.Root;if((t=t||{}).includeDirs){if(!Array.isArray(t.includeDirs))throw new Error("The includeDirs option must be an array");o(n,t.includeDirs)}const r=n.loadSync(e,t);return r.resolveAll(),r},t.addCommonProtos=function(){const e=n(4784),t=n(3571),r=n(3342),i=n(8783);s.common("api",e.nested.google.nested.protobuf.nested),s.common("descriptor",t.nested.google.nested.protobuf.nested),s.common("source_context",r.nested.google.nested.protobuf.nested),s.common("type",i.nested.google.nested.protobuf.nested)}},4537:e=>{"use strict";e.exports=function(e,t){for(var n=new Array(arguments.length-1),r=0,i=2,s=!0;i<arguments.length;)n[r++]=arguments[i++];return new Promise((function(i,o){n[r]=function(e){if(s)if(s=!1,e)o(e);else{for(var t=new Array(arguments.length-1),n=0;n<t.length;)t[n++]=arguments[n];i.apply(null,t)}};try{e.apply(t||null,n)}catch(e){s&&(s=!1,o(e))}}))}},7419:(e,t)=>{"use strict";var n=t;n.length=function(e){var t=e.length;if(!t)return 0;for(var n=0;--t%4>1&&"="===e.charAt(t);)++n;return Math.ceil(3*e.length)/4-n};for(var r=new Array(64),i=new Array(123),s=0;s<64;)i[r[s]=s<26?s+65:s<52?s+71:s<62?s-4:s-59|43]=s++;n.encode=function(e,t,n){for(var i,s=null,o=[],a=0,c=0;t<n;){var l=e[t++];switch(c){case 0:o[a++]=r[l>>2],i=(3&l)<<4,c=1;break;case 1:o[a++]=r[i|l>>4],i=(15&l)<<2,c=2;break;case 2:o[a++]=r[i|l>>6],o[a++]=r[63&l],c=0}a>8191&&((s||(s=[])).push(String.fromCharCode.apply(String,o)),a=0)}return c&&(o[a++]=r[i],o[a++]=61,1===c&&(o[a++]=61)),s?(a&&s.push(String.fromCharCode.apply(String,o.slice(0,a))),s.join("")):String.fromCharCode.apply(String,o.slice(0,a))};var o="invalid encoding";n.decode=function(e,t,n){for(var r,s=n,a=0,c=0;c<e.length;){var l=e.charCodeAt(c++);if(61===l&&a>1)break;if(void 0===(l=i[l]))throw Error(o);switch(a){case 0:r=l,a=1;break;case 1:t[n++]=r<<2|(48&l)>>4,r=l,a=2;break;case 2:t[n++]=(15&r)<<4|(60&l)>>2,r=l,a=3;break;case 3:t[n++]=(3&r)<<6|l,a=0}}if(1===a)throw Error(o);return n-s},n.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}},5124:e=>{"use strict";function t(e,n){"string"==typeof e&&(n=e,e=void 0);var r=[];function i(e){if("string"!=typeof e){var n=s();if(t.verbose&&console.log("codegen: "+n),n="return "+n,e){for(var o=Object.keys(e),a=new Array(o.length+1),c=new Array(o.length),l=0;l<o.length;)a[l]=o[l],c[l]=e[o[l++]];return a[l]=n,Function.apply(null,a).apply(null,c)}return Function(n)()}for(var u=new Array(arguments.length-1),d=0;d<u.length;)u[d]=arguments[++d];if(d=0,e=e.replace(/%([%dfijs])/g,(function(e,t){var n=u[d++];switch(t){case"d":case"f":return String(Number(n));case"i":return String(Math.floor(n));case"j":return JSON.stringify(n);case"s":return String(n)}return"%"})),d!==u.length)throw Error("parameter count mismatch");return r.push(e),i}function s(t){return"function "+(t||n||"")+"("+(e&&e.join(",")||"")+"){\n  "+r.join("\n  ")+"\n}"}return i.toString=s,i}e.exports=t,t.verbose=!1},9211:e=>{"use strict";function t(){this._listeners={}}e.exports=t,t.prototype.on=function(e,t,n){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:n||this}),this},t.prototype.off=function(e,t){if(void 0===e)this._listeners={};else if(void 0===t)this._listeners[e]=[];else for(var n=this._listeners[e],r=0;r<n.length;)n[r].fn===t?n.splice(r,1):++r;return this},t.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var n=[],r=1;r<arguments.length;)n.push(arguments[r++]);for(r=0;r<t.length;)t[r].fn.apply(t[r++].ctx,n)}return this}},9054:(e,t,n)=>{"use strict";e.exports=s;var r=n(4537),i=n(7199)("fs");function s(e,t,n){return"function"==typeof t?(n=t,t={}):t||(t={}),n?!t.xhr&&i&&i.readFile?i.readFile(e,(function(r,i){return r&&"undefined"!=typeof XMLHttpRequest?s.xhr(e,t,n):r?n(r):n(null,t.binary?i:i.toString("utf8"))})):s.xhr(e,t,n):r(s,this,e,t)}s.xhr=function(e,t,n){var r=new XMLHttpRequest;r.onreadystatechange=function(){if(4===r.readyState){if(0!==r.status&&200!==r.status)return n(Error("status "+r.status));if(t.binary){var e=r.response;if(!e){e=[];for(var i=0;i<r.responseText.length;++i)e.push(255&r.responseText.charCodeAt(i))}return n(null,"undefined"!=typeof Uint8Array?new Uint8Array(e):e)}return n(null,r.responseText)}},t.binary&&("overrideMimeType"in r&&r.overrideMimeType("text/plain; charset=x-user-defined"),r.responseType="arraybuffer"),r.open("GET",e),r.send()}},945:e=>{"use strict";function t(e){return"undefined"!=typeof Float32Array?function(){var t=new Float32Array([-0]),n=new Uint8Array(t.buffer),r=128===n[3];function i(e,r,i){t[0]=e,r[i]=n[0],r[i+1]=n[1],r[i+2]=n[2],r[i+3]=n[3]}function s(e,r,i){t[0]=e,r[i]=n[3],r[i+1]=n[2],r[i+2]=n[1],r[i+3]=n[0]}function o(e,r){return n[0]=e[r],n[1]=e[r+1],n[2]=e[r+2],n[3]=e[r+3],t[0]}function a(e,r){return n[3]=e[r],n[2]=e[r+1],n[1]=e[r+2],n[0]=e[r+3],t[0]}e.writeFloatLE=r?i:s,e.writeFloatBE=r?s:i,e.readFloatLE=r?o:a,e.readFloatBE=r?a:o}():function(){function t(e,t,n,r){var i=t<0?1:0;if(i&&(t=-t),0===t)e(1/t>0?0:2147483648,n,r);else if(isNaN(t))e(2143289344,n,r);else if(t>34028234663852886e22)e((i<<31|2139095040)>>>0,n,r);else if(t<11754943508222875e-54)e((i<<31|Math.round(t/1401298464324817e-60))>>>0,n,r);else{var s=Math.floor(Math.log(t)/Math.LN2);e((i<<31|s+127<<23|8388607&Math.round(t*Math.pow(2,-s)*8388608))>>>0,n,r)}}function o(e,t,n){var r=e(t,n),i=2*(r>>31)+1,s=r>>>23&255,o=8388607&r;return 255===s?o?NaN:i*(1/0):0===s?1401298464324817e-60*i*o:i*Math.pow(2,s-150)*(o+8388608)}e.writeFloatLE=t.bind(null,n),e.writeFloatBE=t.bind(null,r),e.readFloatLE=o.bind(null,i),e.readFloatBE=o.bind(null,s)}(),"undefined"!=typeof Float64Array?function(){var t=new Float64Array([-0]),n=new Uint8Array(t.buffer),r=128===n[7];function i(e,r,i){t[0]=e,r[i]=n[0],r[i+1]=n[1],r[i+2]=n[2],r[i+3]=n[3],r[i+4]=n[4],r[i+5]=n[5],r[i+6]=n[6],r[i+7]=n[7]}function s(e,r,i){t[0]=e,r[i]=n[7],r[i+1]=n[6],r[i+2]=n[5],r[i+3]=n[4],r[i+4]=n[3],r[i+5]=n[2],r[i+6]=n[1],r[i+7]=n[0]}function o(e,r){return n[0]=e[r],n[1]=e[r+1],n[2]=e[r+2],n[3]=e[r+3],n[4]=e[r+4],n[5]=e[r+5],n[6]=e[r+6],n[7]=e[r+7],t[0]}function a(e,r){return n[7]=e[r],n[6]=e[r+1],n[5]=e[r+2],n[4]=e[r+3],n[3]=e[r+4],n[2]=e[r+5],n[1]=e[r+6],n[0]=e[r+7],t[0]}e.writeDoubleLE=r?i:s,e.writeDoubleBE=r?s:i,e.readDoubleLE=r?o:a,e.readDoubleBE=r?a:o}():function(){function t(e,t,n,r,i,s){var o=r<0?1:0;if(o&&(r=-r),0===r)e(0,i,s+t),e(1/r>0?0:2147483648,i,s+n);else if(isNaN(r))e(0,i,s+t),e(2146959360,i,s+n);else if(r>17976931348623157e292)e(0,i,s+t),e((o<<31|2146435072)>>>0,i,s+n);else{var a;if(r<22250738585072014e-324)e((a=r/5e-324)>>>0,i,s+t),e((o<<31|a/4294967296)>>>0,i,s+n);else{var c=Math.floor(Math.log(r)/Math.LN2);1024===c&&(c=1023),e(4503599627370496*(a=r*Math.pow(2,-c))>>>0,i,s+t),e((o<<31|c+1023<<20|1048576*a&1048575)>>>0,i,s+n)}}}function o(e,t,n,r,i){var s=e(r,i+t),o=e(r,i+n),a=2*(o>>31)+1,c=o>>>20&2047,l=4294967296*(1048575&o)+s;return 2047===c?l?NaN:a*(1/0):0===c?5e-324*a*l:a*Math.pow(2,c-1075)*(l+4503599627370496)}e.writeDoubleLE=t.bind(null,n,0,4),e.writeDoubleBE=t.bind(null,r,4,0),e.readDoubleLE=o.bind(null,i,0,4),e.readDoubleBE=o.bind(null,s,4,0)}(),e}function n(e,t,n){t[n]=255&e,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24}function r(e,t,n){t[n]=e>>>24,t[n+1]=e>>>16&255,t[n+2]=e>>>8&255,t[n+3]=255&e}function i(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}function s(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}e.exports=t(t)},7199:module=>{"use strict";function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}module.exports=inquire},8626:(e,t)=>{"use strict";var n=t,r=n.isAbsolute=function(e){return/^(?:\/|\w+:)/.test(e)},i=n.normalize=function(e){var t=(e=e.replace(/\\/g,"/").replace(/\/{2,}/g,"/")).split("/"),n=r(e),i="";n&&(i=t.shift()+"/");for(var s=0;s<t.length;)".."===t[s]?s>0&&".."!==t[s-1]?t.splice(--s,2):n?t.splice(s,1):++s:"."===t[s]?t.splice(s,1):++s;return i+t.join("/")};n.resolve=function(e,t,n){return n||(t=i(t)),r(t)?t:(n||(e=i(e)),(e=e.replace(/(?:\/|^)[^/]+$/,"")).length?i(e+"/"+t):t)}},6662:e=>{"use strict";e.exports=function(e,t,n){var r=n||8192,i=r>>>1,s=null,o=r;return function(n){if(n<1||n>i)return e(n);o+n>r&&(s=e(r),o=0);var a=t.call(s,o,o+=n);return 7&o&&(o=1+(7|o)),a}}},4997:(e,t)=>{"use strict";var n=t;n.length=function(e){for(var t=0,n=0,r=0;r<e.length;++r)(n=e.charCodeAt(r))<128?t+=1:n<2048?t+=2:55296==(64512&n)&&56320==(64512&e.charCodeAt(r+1))?(++r,t+=4):t+=3;return t},n.read=function(e,t,n){if(n-t<1)return"";for(var r,i=null,s=[],o=0;t<n;)(r=e[t++])<128?s[o++]=r:r>191&&r<224?s[o++]=(31&r)<<6|63&e[t++]:r>239&&r<365?(r=((7&r)<<18|(63&e[t++])<<12|(63&e[t++])<<6|63&e[t++])-65536,s[o++]=55296+(r>>10),s[o++]=56320+(1023&r)):s[o++]=(15&r)<<12|(63&e[t++])<<6|63&e[t++],o>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,s)),o=0);return i?(o&&i.push(String.fromCharCode.apply(String,s.slice(0,o))),i.join("")):String.fromCharCode.apply(String,s.slice(0,o))},n.write=function(e,t,n){for(var r,i,s=n,o=0;o<e.length;++o)(r=e.charCodeAt(o))<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=63&r|128):55296==(64512&r)&&56320==(64512&(i=e.charCodeAt(o+1)))?(r=65536+((1023&r)<<10)+(1023&i),++o,t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=63&r|128):(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=63&r|128);return n-s}},3182:(e,t,n)=>{"use strict";const r=n(852),i=new Map;let s=0;const o=/\((internal\/)?async_hooks\.js:/;function a(){const e=process.hrtime();return 1e6*e[0]+e[1]/1e3}e.exports=(e,t)=>{let n;(t=t||{}).threshold=t.threshold||20,t.resourcesCap=t.resourcesCap||0,Error.stackTraceLimit=1/0;const c=r.createHook({init:function(e,n,r,o){const a={};Error.captureStackTrace(a),l("init",e);const c={asyncId:e,type:n,stack:a.stack};t.resourcesCap>s&&(c.resource=o,s+=1),i.set(e,c)},before:function(e){l("before",e),t.trimFalsePositives&&(n=e);const r=i.get(e);r&&(r.t0=a())},after:function(r){if(l("after",r),t.trimFalsePositives&&n!==r)return;const s=i.get(r);if(!s)return;const c=(a()-s.t0)/1e3;c>t.threshold&&(l("stack",s.stack),e(c,function(e){const t=e.split("\n");let n=t.length-1;for(;n&&!o.test(t[n]);)n--;return t.slice(n+1,e.length-1)}(s.stack),{type:s.type,resource:s.resource}))},destroy:function(e){const t=i.get(e);t&&(t.resource&&(s-=1),i.delete(e))}}),l=(e,n)=>t.debug&&process._rawDebug(e,n);return c.enable(),{stop:()=>{c.disable()}}}},3873:(e,t,n)=>{"use strict";const r=n(77),i=n(1017),s=n(1381).mkdirsSync,o=n(318).utimesMillisSync,a=n(2733);function c(e,t,n,s){const o=(s.dereference?r.statSync:r.lstatSync)(t);if(o.isDirectory())return function(e,t,n,i,s){return t?d(n,i,s):function(e,t,n,i){return r.mkdirSync(n),d(t,n,i),u(n,e)}(e.mode,n,i,s)}(o,e,t,n,s);if(o.isFile()||o.isCharacterDevice()||o.isBlockDevice())return function(e,t,n,i,s){return t?function(e,t,n,i){if(i.overwrite)return r.unlinkSync(n),l(e,t,n,i);if(i.errorOnExist)throw new Error(`'${n}' already exists`)}(e,n,i,s):l(e,n,i,s)}(o,e,t,n,s);if(o.isSymbolicLink())return function(e,t,n,s){let o=r.readlinkSync(t);if(s.dereference&&(o=i.resolve(process.cwd(),o)),e){let e;try{e=r.readlinkSync(n)}catch(e){if("EINVAL"===e.code||"UNKNOWN"===e.code)return r.symlinkSync(o,n);throw e}if(s.dereference&&(e=i.resolve(process.cwd(),e)),a.isSrcSubdir(o,e))throw new Error(`Cannot copy '${o}' to a subdirectory of itself, '${e}'.`);if(r.statSync(n).isDirectory()&&a.isSrcSubdir(e,o))throw new Error(`Cannot overwrite '${e}' with '${o}'.`);return function(e,t){return r.unlinkSync(t),r.symlinkSync(e,t)}(o,n)}return r.symlinkSync(o,n)}(e,t,n,s);if(o.isSocket())throw new Error(`Cannot copy a socket file: ${t}`);if(o.isFIFO())throw new Error(`Cannot copy a FIFO pipe: ${t}`);throw new Error(`Unknown file: ${t}`)}function l(e,t,n,i){return r.copyFileSync(t,n),i.preserveTimestamps&&function(e,t,n){(function(e){return 0==(128&e)})(e)&&function(e,t){u(e,128|t)}(n,e),function(e,t){const n=r.statSync(e);o(t,n.atime,n.mtime)}(t,n)}(e.mode,t,n),u(n,e.mode)}function u(e,t){return r.chmodSync(e,t)}function d(e,t,n){r.readdirSync(e).forEach((r=>function(e,t,n,r){const s=i.join(t,e),o=i.join(n,e),{destStat:l}=a.checkPathsSync(s,o,"copy",r);return function(e,t,n,r){if(!r.filter||r.filter(t,n))return c(e,t,n,r)}(l,s,o,r)}(r,e,t,n)))}e.exports=function(e,t,n){"function"==typeof n&&(n={filter:n}),(n=n||{}).clobber=!("clobber"in n)||!!n.clobber,n.overwrite="overwrite"in n?!!n.overwrite:n.clobber,n.preserveTimestamps&&"ia32"===process.arch&&console.warn("fs-extra: Using the preserveTimestamps option in 32-bit node is not recommended;\n\n    see https://github.com/jprichardson/node-fs-extra/issues/269");const{srcStat:o,destStat:l}=a.checkPathsSync(e,t,"copy",n);return a.checkParentPathsSync(e,o,t,"copy"),function(e,t,n,o){if(o.filter&&!o.filter(t,n))return;const a=i.dirname(n);return r.existsSync(a)||s(a),c(e,t,n,o)}(l,e,t,n)}},7189:(e,t,n)=>{"use strict";const r=n(77),i=n(1017),s=n(1381).mkdirs,o=n(9257).pathExists,a=n(318).utimesMillis,c=n(2733);function l(e,t,n,r,a){const c=i.dirname(n);o(c,((i,o)=>i?a(i):o?d(e,t,n,r,a):void s(c,(i=>i?a(i):d(e,t,n,r,a)))))}function u(e,t,n,r,i,s){Promise.resolve(i.filter(n,r)).then((o=>o?e(t,n,r,i,s):s()),(e=>s(e)))}function d(e,t,n,s,o){(s.dereference?r.stat:r.lstat)(t,((a,l)=>a?o(a):l.isDirectory()?function(e,t,n,i,s,o){return t?y(n,i,s,o):function(e,t,n,i,s){r.mkdir(n,(r=>{if(r)return s(r);y(t,n,i,(t=>t?s(t):f(n,e,s)))}))}(e.mode,n,i,s,o)}(l,e,t,n,s,o):l.isFile()||l.isCharacterDevice()||l.isBlockDevice()?function(e,t,n,i,s,o){return t?function(e,t,n,i,s){if(!i.overwrite)return i.errorOnExist?s(new Error(`'${n}' already exists`)):s();r.unlink(n,(r=>r?s(r):h(e,t,n,i,s)))}(e,n,i,s,o):h(e,n,i,s,o)}(l,e,t,n,s,o):l.isSymbolicLink()?function(e,t,n,s,o){r.readlink(t,((t,a)=>t?o(t):(s.dereference&&(a=i.resolve(process.cwd(),a)),e?void r.readlink(n,((t,l)=>t?"EINVAL"===t.code||"UNKNOWN"===t.code?r.symlink(a,n,o):o(t):(s.dereference&&(l=i.resolve(process.cwd(),l)),c.isSrcSubdir(a,l)?o(new Error(`Cannot copy '${a}' to a subdirectory of itself, '${l}'.`)):e.isDirectory()&&c.isSrcSubdir(l,a)?o(new Error(`Cannot overwrite '${l}' with '${a}'.`)):function(e,t,n){r.unlink(t,(i=>i?n(i):r.symlink(e,t,n)))}(a,n,o)))):r.symlink(a,n,o))))}(e,t,n,s,o):l.isSocket()?o(new Error(`Cannot copy a socket file: ${t}`)):l.isFIFO()?o(new Error(`Cannot copy a FIFO pipe: ${t}`)):o(new Error(`Unknown file: ${t}`))))}function h(e,t,n,i,s){r.copyFile(t,n,(r=>r?s(r):i.preserveTimestamps?function(e,t,n,r){return function(e){return 0==(128&e)}(e)?function(e,t,n){return f(e,128|t,n)}(n,e,(i=>i?r(i):p(e,t,n,r))):p(e,t,n,r)}(e.mode,t,n,s):f(n,e.mode,s)))}function p(e,t,n,i){!function(e,t,n){r.stat(e,((e,r)=>e?n(e):a(t,r.atime,r.mtime,n)))}(t,n,(t=>t?i(t):f(n,e,i)))}function f(e,t,n){return r.chmod(e,t,n)}function y(e,t,n,i){r.readdir(e,((r,s)=>r?i(r):g(s,e,t,n,i)))}function g(e,t,n,r,s){const o=e.pop();return o?function(e,t,n,r,s,o){const a=i.join(n,t),l=i.join(r,t);c.checkPaths(a,l,"copy",s,((t,i)=>{if(t)return o(t);const{destStat:c}=i;!function(e,t,n,r,i){r.filter?u(d,e,t,n,r,i):d(e,t,n,r,i)}(c,a,l,s,(t=>t?o(t):g(e,n,r,s,o)))}))}(e,o,t,n,r,s):s()}e.exports=function(e,t,n,r){"function"!=typeof n||r?"function"==typeof n&&(n={filter:n}):(r=n,n={}),r=r||function(){},(n=n||{}).clobber=!("clobber"in n)||!!n.clobber,n.overwrite="overwrite"in n?!!n.overwrite:n.clobber,n.preserveTimestamps&&"ia32"===process.arch&&console.warn("fs-extra: Using the preserveTimestamps option in 32-bit node is not recommended;\n\n    see https://github.com/jprichardson/node-fs-extra/issues/269"),c.checkPaths(e,t,"copy",n,((i,s)=>{if(i)return r(i);const{srcStat:o,destStat:a}=s;c.checkParentPaths(e,o,t,"copy",(i=>i?r(i):n.filter?u(l,a,e,t,n,r):l(a,e,t,n,r)))}))}},6464:(e,t,n)=>{"use strict";const r=n(8981).fromCallback;e.exports={copy:r(n(7189)),copySync:n(3873)}},5590:(e,t,n)=>{"use strict";const r=n(8981).fromPromise,i=n(7749),s=n(1017),o=n(1381),a=n(4542),c=r((async function(e){let t;try{t=await i.readdir(e)}catch{return o.mkdirs(e)}return Promise.all(t.map((t=>a.remove(s.join(e,t)))))}));function l(e){let t;try{t=i.readdirSync(e)}catch{return o.mkdirsSync(e)}t.forEach((t=>{t=s.join(e,t),a.removeSync(t)}))}e.exports={emptyDirSync:l,emptydirSync:l,emptyDir:c,emptydir:c}},6530:(e,t,n)=>{"use strict";const r=n(8981).fromCallback,i=n(1017),s=n(77),o=n(1381);e.exports={createFile:r((function(e,t){function n(){s.writeFile(e,"",(e=>{if(e)return t(e);t()}))}s.stat(e,((r,a)=>{if(!r&&a.isFile())return t();const c=i.dirname(e);s.stat(c,((e,r)=>{if(e)return"ENOENT"===e.code?o.mkdirs(c,(e=>{if(e)return t(e);n()})):t(e);r.isDirectory()?n():s.readdir(c,(e=>{if(e)return t(e)}))}))}))})),createFileSync:function(e){let t;try{t=s.statSync(e)}catch{}if(t&&t.isFile())return;const n=i.dirname(e);try{s.statSync(n).isDirectory()||s.readdirSync(n)}catch(e){if(!e||"ENOENT"!==e.code)throw e;o.mkdirsSync(n)}s.writeFileSync(e,"")}}},1720:(e,t,n)=>{"use strict";const{createFile:r,createFileSync:i}=n(6530),{createLink:s,createLinkSync:o}=n(4147),{createSymlink:a,createSymlinkSync:c}=n(3635);e.exports={createFile:r,createFileSync:i,ensureFile:r,ensureFileSync:i,createLink:s,createLinkSync:o,ensureLink:s,ensureLinkSync:o,createSymlink:a,createSymlinkSync:c,ensureSymlink:a,ensureSymlinkSync:c}},4147:(e,t,n)=>{"use strict";const r=n(8981).fromCallback,i=n(1017),s=n(77),o=n(1381),a=n(9257).pathExists,{areIdentical:c}=n(2733);e.exports={createLink:r((function(e,t,n){function r(e,t){s.link(e,t,(e=>{if(e)return n(e);n(null)}))}s.lstat(t,((l,u)=>{s.lstat(e,((s,l)=>{if(s)return s.message=s.message.replace("lstat","ensureLink"),n(s);if(u&&c(l,u))return n(null);const d=i.dirname(t);a(d,((i,s)=>i?n(i):s?r(e,t):void o.mkdirs(d,(i=>{if(i)return n(i);r(e,t)}))))}))}))})),createLinkSync:function(e,t){let n;try{n=s.lstatSync(t)}catch{}try{const t=s.lstatSync(e);if(n&&c(t,n))return}catch(e){throw e.message=e.message.replace("lstat","ensureLink"),e}const r=i.dirname(t);return s.existsSync(r)||o.mkdirsSync(r),s.linkSync(e,t)}}},6072:(e,t,n)=>{"use strict";const r=n(1017),i=n(77),s=n(9257).pathExists;e.exports={symlinkPaths:function(e,t,n){if(r.isAbsolute(e))return i.lstat(e,(t=>t?(t.message=t.message.replace("lstat","ensureSymlink"),n(t)):n(null,{toCwd:e,toDst:e})));{const o=r.dirname(t),a=r.join(o,e);return s(a,((t,s)=>t?n(t):s?n(null,{toCwd:a,toDst:e}):i.lstat(e,(t=>t?(t.message=t.message.replace("lstat","ensureSymlink"),n(t)):n(null,{toCwd:e,toDst:r.relative(o,e)})))))}},symlinkPathsSync:function(e,t){let n;if(r.isAbsolute(e)){if(n=i.existsSync(e),!n)throw new Error("absolute srcpath does not exist");return{toCwd:e,toDst:e}}{const s=r.dirname(t),o=r.join(s,e);if(n=i.existsSync(o),n)return{toCwd:o,toDst:e};if(n=i.existsSync(e),!n)throw new Error("relative srcpath does not exist");return{toCwd:e,toDst:r.relative(s,e)}}}}},9259:(e,t,n)=>{"use strict";const r=n(77);e.exports={symlinkType:function(e,t,n){if(n="function"==typeof t?t:n,t="function"!=typeof t&&t)return n(null,t);r.lstat(e,((e,r)=>{if(e)return n(null,"file");t=r&&r.isDirectory()?"dir":"file",n(null,t)}))},symlinkTypeSync:function(e,t){let n;if(t)return t;try{n=r.lstatSync(e)}catch{return"file"}return n&&n.isDirectory()?"dir":"file"}}},3635:(e,t,n)=>{"use strict";const r=n(8981).fromCallback,i=n(1017),s=n(7749),o=n(1381),a=o.mkdirs,c=o.mkdirsSync,l=n(6072),u=l.symlinkPaths,d=l.symlinkPathsSync,h=n(9259),p=h.symlinkType,f=h.symlinkTypeSync,y=n(9257).pathExists,{areIdentical:g}=n(2733);function m(e,t,n,r){u(e,t,((o,c)=>{if(o)return r(o);e=c.toDst,p(c.toCwd,n,((n,o)=>{if(n)return r(n);const c=i.dirname(t);y(c,((n,i)=>n?r(n):i?s.symlink(e,t,o,r):void a(c,(n=>{if(n)return r(n);s.symlink(e,t,o,r)}))))}))}))}e.exports={createSymlink:r((function(e,t,n,r){r="function"==typeof n?n:r,n="function"!=typeof n&&n,s.lstat(t,((i,o)=>{!i&&o.isSymbolicLink()?Promise.all([s.stat(e),s.stat(t)]).then((([i,s])=>{if(g(i,s))return r(null);m(e,t,n,r)})):m(e,t,n,r)}))})),createSymlinkSync:function(e,t,n){let r;try{r=s.lstatSync(t)}catch{}if(r&&r.isSymbolicLink()){const n=s.statSync(e),r=s.statSync(t);if(g(n,r))return}const o=d(e,t);e=o.toDst,n=f(o.toCwd,n);const a=i.dirname(t);return s.existsSync(a)||c(a),s.symlinkSync(e,t,n)}}},7749:(e,t,n)=>{"use strict";const r=n(8981).fromCallback,i=n(77),s=["access","appendFile","chmod","chown","close","copyFile","fchmod","fchown","fdatasync","fstat","fsync","ftruncate","futimes","lchmod","lchown","link","lstat","mkdir","mkdtemp","open","opendir","readdir","readFile","readlink","realpath","rename","rm","rmdir","stat","symlink","truncate","unlink","utimes","writeFile"].filter((e=>"function"==typeof i[e]));Object.assign(t,i),s.forEach((e=>{t[e]=r(i[e])})),t.realpath.native=r(i.realpath.native),t.exists=function(e,t){return"function"==typeof t?i.exists(e,t):new Promise((t=>i.exists(e,t)))},t.read=function(e,t,n,r,s,o){return"function"==typeof o?i.read(e,t,n,r,s,o):new Promise(((o,a)=>{i.read(e,t,n,r,s,((e,t,n)=>{if(e)return a(e);o({bytesRead:t,buffer:n})}))}))},t.write=function(e,t,...n){return"function"==typeof n[n.length-1]?i.write(e,t,...n):new Promise(((r,s)=>{i.write(e,t,...n,((e,t,n)=>{if(e)return s(e);r({bytesWritten:t,buffer:n})}))}))},"function"==typeof i.writev&&(t.writev=function(e,t,...n){return"function"==typeof n[n.length-1]?i.writev(e,t,...n):new Promise(((r,s)=>{i.writev(e,t,...n,((e,t,n)=>{if(e)return s(e);r({bytesWritten:t,buffers:n})}))}))})},5674:(e,t,n)=>{"use strict";e.exports={...n(7749),...n(6464),...n(5590),...n(1720),...n(6573),...n(1381),...n(530),...n(4670),...n(9257),...n(4542)}},6573:(e,t,n)=>{"use strict";const r=n(8981).fromPromise,i=n(7183);i.outputJson=r(n(3508)),i.outputJsonSync=n(9578),i.outputJSON=i.outputJson,i.outputJSONSync=i.outputJsonSync,i.writeJSON=i.writeJson,i.writeJSONSync=i.writeJsonSync,i.readJSON=i.readJson,i.readJSONSync=i.readJsonSync,e.exports=i},7183:(e,t,n)=>{"use strict";const r=n(6813);e.exports={readJson:r.readFile,readJsonSync:r.readFileSync,writeJson:r.writeFile,writeJsonSync:r.writeFileSync}},9578:(e,t,n)=>{"use strict";const{stringify:r}=n(6780),{outputFileSync:i}=n(4670);e.exports=function(e,t,n){const s=r(t,n);i(e,s,n)}},3508:(e,t,n)=>{"use strict";const{stringify:r}=n(6780),{outputFile:i}=n(4670);e.exports=async function(e,t,n={}){const s=r(t,n);await i(e,s,n)}},1381:(e,t,n)=>{"use strict";const r=n(8981).fromPromise,{makeDir:i,makeDirSync:s}=n(8233),o=r(i);e.exports={mkdirs:o,mkdirsSync:s,mkdirp:o,mkdirpSync:s,ensureDir:o,ensureDirSync:s}},8233:(e,t,n)=>{"use strict";const r=n(7749),{checkPath:i}=n(3468),s=e=>"number"==typeof e?e:{mode:511,...e}.mode;e.exports.makeDir=async(e,t)=>(i(e),r.mkdir(e,{mode:s(t),recursive:!0})),e.exports.makeDirSync=(e,t)=>(i(e),r.mkdirSync(e,{mode:s(t),recursive:!0}))},3468:(e,t,n)=>{"use strict";const r=n(1017);e.exports.checkPath=function(e){if("win32"===process.platform&&/[<>:"|?*]/.test(e.replace(r.parse(e).root,""))){const t=new Error(`Path contains invalid characters: ${e}`);throw t.code="EINVAL",t}}},530:(e,t,n)=>{"use strict";const r=n(8981).fromCallback;e.exports={move:r(n(436)),moveSync:n(3736)}},3736:(e,t,n)=>{"use strict";const r=n(77),i=n(1017),s=n(6464).copySync,o=n(4542).removeSync,a=n(1381).mkdirpSync,c=n(2733);function l(e,t,n){try{r.renameSync(e,t)}catch(r){if("EXDEV"!==r.code)throw r;return function(e,t,n){return s(e,t,{overwrite:n,errorOnExist:!0}),o(e)}(e,t,n)}}e.exports=function(e,t,n){const s=(n=n||{}).overwrite||n.clobber||!1,{srcStat:u,isChangingCase:d=!1}=c.checkPathsSync(e,t,"move",n);return c.checkParentPathsSync(e,u,t,"move"),function(e){const t=i.dirname(e);return i.parse(t).root===t}(t)||a(i.dirname(t)),function(e,t,n,i){if(i)return l(e,t,n);if(n)return o(t),l(e,t,n);if(r.existsSync(t))throw new Error("dest already exists.");return l(e,t,n)}(e,t,s,d)}},436:(e,t,n)=>{"use strict";const r=n(77),i=n(1017),s=n(6464).copy,o=n(4542).remove,a=n(1381).mkdirp,c=n(9257).pathExists,l=n(2733);function u(e,t,n,r,i){return r?d(e,t,n,i):n?o(t,(r=>r?i(r):d(e,t,n,i))):void c(t,((r,s)=>r?i(r):s?i(new Error("dest already exists.")):d(e,t,n,i)))}function d(e,t,n,i){r.rename(e,t,(r=>r?"EXDEV"!==r.code?i(r):function(e,t,n,r){s(e,t,{overwrite:n,errorOnExist:!0},(t=>t?r(t):o(e,r)))}(e,t,n,i):i()))}e.exports=function(e,t,n,r){"function"==typeof n&&(r=n,n={});const s=n.overwrite||n.clobber||!1;l.checkPaths(e,t,"move",n,((n,o)=>{if(n)return r(n);const{srcStat:c,isChangingCase:d=!1}=o;l.checkParentPaths(e,c,t,"move",(n=>n?r(n):function(e){const t=i.dirname(e);return i.parse(t).root===t}(t)?u(e,t,s,d,r):void a(i.dirname(t),(n=>n?r(n):u(e,t,s,d,r)))))}))}},4670:(e,t,n)=>{"use strict";const r=n(8981).fromCallback,i=n(77),s=n(1017),o=n(1381),a=n(9257).pathExists;e.exports={outputFile:r((function(e,t,n,r){"function"==typeof n&&(r=n,n="utf8");const c=s.dirname(e);a(c,((s,a)=>s?r(s):a?i.writeFile(e,t,n,r):void o.mkdirs(c,(s=>{if(s)return r(s);i.writeFile(e,t,n,r)}))))})),outputFileSync:function(e,...t){const n=s.dirname(e);if(i.existsSync(n))return i.writeFileSync(e,...t);o.mkdirsSync(n),i.writeFileSync(e,...t)}}},9257:(e,t,n)=>{"use strict";const r=n(8981).fromPromise,i=n(7749);e.exports={pathExists:r((function(e){return i.access(e).then((()=>!0)).catch((()=>!1))})),pathExistsSync:i.existsSync}},4542:(e,t,n)=>{"use strict";const r=n(77),i=n(8981).fromCallback,s=n(3456);e.exports={remove:i((function(e,t){if(r.rm)return r.rm(e,{recursive:!0,force:!0},t);s(e,t)})),removeSync:function(e){if(r.rmSync)return r.rmSync(e,{recursive:!0,force:!0});s.sync(e)}}},3456:(e,t,n)=>{"use strict";const r=n(77),i=n(1017),s=n(9491),o="win32"===process.platform;function a(e){["unlink","chmod","stat","lstat","rmdir","readdir"].forEach((t=>{e[t]=e[t]||r[t],e[t+="Sync"]=e[t]||r[t]})),e.maxBusyTries=e.maxBusyTries||3}function c(e,t,n){let r=0;"function"==typeof t&&(n=t,t={}),s(e,"rimraf: missing path"),s.strictEqual(typeof e,"string","rimraf: path should be a string"),s.strictEqual(typeof n,"function","rimraf: callback function required"),s(t,"rimraf: invalid options argument provided"),s.strictEqual(typeof t,"object","rimraf: options should be object"),a(t),l(e,t,(function i(s){if(s){if(("EBUSY"===s.code||"ENOTEMPTY"===s.code||"EPERM"===s.code)&&r<t.maxBusyTries)return r++,setTimeout((()=>l(e,t,i)),100*r);"ENOENT"===s.code&&(s=null)}n(s)}))}function l(e,t,n){s(e),s(t),s("function"==typeof n),t.lstat(e,((r,i)=>r&&"ENOENT"===r.code?n(null):r&&"EPERM"===r.code&&o?u(e,t,r,n):i&&i.isDirectory()?h(e,t,r,n):void t.unlink(e,(r=>{if(r){if("ENOENT"===r.code)return n(null);if("EPERM"===r.code)return o?u(e,t,r,n):h(e,t,r,n);if("EISDIR"===r.code)return h(e,t,r,n)}return n(r)}))))}function u(e,t,n,r){s(e),s(t),s("function"==typeof r),t.chmod(e,438,(i=>{i?r("ENOENT"===i.code?null:n):t.stat(e,((i,s)=>{i?r("ENOENT"===i.code?null:n):s.isDirectory()?h(e,t,n,r):t.unlink(e,r)}))}))}function d(e,t,n){let r;s(e),s(t);try{t.chmodSync(e,438)}catch(e){if("ENOENT"===e.code)return;throw n}try{r=t.statSync(e)}catch(e){if("ENOENT"===e.code)return;throw n}r.isDirectory()?f(e,t,n):t.unlinkSync(e)}function h(e,t,n,r){s(e),s(t),s("function"==typeof r),t.rmdir(e,(o=>{!o||"ENOTEMPTY"!==o.code&&"EEXIST"!==o.code&&"EPERM"!==o.code?o&&"ENOTDIR"===o.code?r(n):r(o):function(e,t,n){s(e),s(t),s("function"==typeof n),t.readdir(e,((r,s)=>{if(r)return n(r);let o,a=s.length;if(0===a)return t.rmdir(e,n);s.forEach((r=>{c(i.join(e,r),t,(r=>{if(!o)return r?n(o=r):void(0==--a&&t.rmdir(e,n))}))}))}))}(e,t,r)}))}function p(e,t){let n;a(t=t||{}),s(e,"rimraf: missing path"),s.strictEqual(typeof e,"string","rimraf: path should be a string"),s(t,"rimraf: missing options"),s.strictEqual(typeof t,"object","rimraf: options should be object");try{n=t.lstatSync(e)}catch(n){if("ENOENT"===n.code)return;"EPERM"===n.code&&o&&d(e,t,n)}try{n&&n.isDirectory()?f(e,t,null):t.unlinkSync(e)}catch(n){if("ENOENT"===n.code)return;if("EPERM"===n.code)return o?d(e,t,n):f(e,t,n);if("EISDIR"!==n.code)throw n;f(e,t,n)}}function f(e,t,n){s(e),s(t);try{t.rmdirSync(e)}catch(r){if("ENOTDIR"===r.code)throw n;if("ENOTEMPTY"===r.code||"EEXIST"===r.code||"EPERM"===r.code)!function(e,t){if(s(e),s(t),t.readdirSync(e).forEach((n=>p(i.join(e,n),t))),!o)return t.rmdirSync(e,t);{const n=Date.now();do{try{return t.rmdirSync(e,t)}catch{}}while(Date.now()-n<500)}}(e,t);else if("ENOENT"!==r.code)throw r}}e.exports=c,c.sync=p},2733:(e,t,n)=>{"use strict";const r=n(7749),i=n(1017),s=n(3837);function o(e,t,n){const i=n.dereference?e=>r.stat(e,{bigint:!0}):e=>r.lstat(e,{bigint:!0});return Promise.all([i(e),i(t).catch((e=>{if("ENOENT"===e.code)return null;throw e}))]).then((([e,t])=>({srcStat:e,destStat:t})))}function a(e,t){return t.ino&&t.dev&&t.ino===e.ino&&t.dev===e.dev}function c(e,t){const n=i.resolve(e).split(i.sep).filter((e=>e)),r=i.resolve(t).split(i.sep).filter((e=>e));return n.reduce(((e,t,n)=>e&&r[n]===t),!0)}function l(e,t,n){return`Cannot ${n} '${e}' to a subdirectory of itself, '${t}'.`}e.exports={checkPaths:function(e,t,n,r,u){s.callbackify(o)(e,t,r,((r,s)=>{if(r)return u(r);const{srcStat:o,destStat:d}=s;if(d){if(a(o,d)){const r=i.basename(e),s=i.basename(t);return"move"===n&&r!==s&&r.toLowerCase()===s.toLowerCase()?u(null,{srcStat:o,destStat:d,isChangingCase:!0}):u(new Error("Source and destination must not be the same."))}if(o.isDirectory()&&!d.isDirectory())return u(new Error(`Cannot overwrite non-directory '${t}' with directory '${e}'.`));if(!o.isDirectory()&&d.isDirectory())return u(new Error(`Cannot overwrite directory '${t}' with non-directory '${e}'.`))}return o.isDirectory()&&c(e,t)?u(new Error(l(e,t,n))):u(null,{srcStat:o,destStat:d})}))},checkPathsSync:function(e,t,n,s){const{srcStat:o,destStat:u}=function(e,t,n){let i;const s=n.dereference?e=>r.statSync(e,{bigint:!0}):e=>r.lstatSync(e,{bigint:!0}),o=s(e);try{i=s(t)}catch(e){if("ENOENT"===e.code)return{srcStat:o,destStat:null};throw e}return{srcStat:o,destStat:i}}(e,t,s);if(u){if(a(o,u)){const r=i.basename(e),s=i.basename(t);if("move"===n&&r!==s&&r.toLowerCase()===s.toLowerCase())return{srcStat:o,destStat:u,isChangingCase:!0};throw new Error("Source and destination must not be the same.")}if(o.isDirectory()&&!u.isDirectory())throw new Error(`Cannot overwrite non-directory '${t}' with directory '${e}'.`);if(!o.isDirectory()&&u.isDirectory())throw new Error(`Cannot overwrite directory '${t}' with non-directory '${e}'.`)}if(o.isDirectory()&&c(e,t))throw new Error(l(e,t,n));return{srcStat:o,destStat:u}},checkParentPaths:function e(t,n,s,o,c){const u=i.resolve(i.dirname(t)),d=i.resolve(i.dirname(s));if(d===u||d===i.parse(d).root)return c();r.stat(d,{bigint:!0},((r,i)=>r?"ENOENT"===r.code?c():c(r):a(n,i)?c(new Error(l(t,s,o))):e(t,n,d,o,c)))},checkParentPathsSync:function e(t,n,s,o){const c=i.resolve(i.dirname(t)),u=i.resolve(i.dirname(s));if(u===c||u===i.parse(u).root)return;let d;try{d=r.statSync(u,{bigint:!0})}catch(e){if("ENOENT"===e.code)return;throw e}if(a(n,d))throw new Error(l(t,s,o));return e(t,n,u,o)},isSrcSubdir:c,areIdentical:a}},318:(e,t,n)=>{"use strict";const r=n(77);e.exports={utimesMillis:function(e,t,n,i){r.open(e,"r+",((e,s)=>{if(e)return i(e);r.futimes(s,t,n,(e=>{r.close(s,(t=>{i&&i(e||t)}))}))}))},utimesMillisSync:function(e,t,n){const i=r.openSync(e,"r+");return r.futimesSync(i,t,n),r.closeSync(i)}}},6458:e=>{"use strict";e.exports=function(e){if(null===e||"object"!=typeof e)return e;if(e instanceof Object)var n={__proto__:t(e)};else n=Object.create(null);return Object.getOwnPropertyNames(e).forEach((function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(e,t))})),n};var t=Object.getPrototypeOf||function(e){return e.__proto__}},77:(e,t,n)=>{var r,i,s=n(7147),o=n(2161),a=n(8520),c=n(6458),l=n(3837);function u(e,t){Object.defineProperty(e,r,{get:function(){return t}})}"function"==typeof Symbol&&"function"==typeof Symbol.for?(r=Symbol.for("graceful-fs.queue"),i=Symbol.for("graceful-fs.previous")):(r="___graceful-fs.queue",i="___graceful-fs.previous");var d,h=function(){};if(l.debuglog?h=l.debuglog("gfs4"):/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&(h=function(){var e=l.format.apply(l,arguments);e="GFS4: "+e.split(/\n/).join("\nGFS4: "),console.error(e)}),!s[r]){var p=global[r]||[];u(s,p),s.close=function(e){function t(t,n){return e.call(s,t,(function(e){e||g(),"function"==typeof n&&n.apply(this,arguments)}))}return Object.defineProperty(t,i,{value:e}),t}(s.close),s.closeSync=function(e){function t(t){e.apply(s,arguments),g()}return Object.defineProperty(t,i,{value:e}),t}(s.closeSync),/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&process.on("exit",(function(){h(s[r]),n(9491).equal(s[r].length,0)}))}function f(e){o(e),e.gracefulify=f,e.createReadStream=function(t,n){return new e.ReadStream(t,n)},e.createWriteStream=function(t,n){return new e.WriteStream(t,n)};var t=e.readFile;e.readFile=function(e,n,r){return"function"==typeof n&&(r=n,n=null),function e(n,r,i,s){return t(n,r,(function(t){!t||"EMFILE"!==t.code&&"ENFILE"!==t.code?"function"==typeof i&&i.apply(this,arguments):y([e,[n,r,i],t,s||Date.now(),Date.now()])}))}(e,n,r)};var n=e.writeFile;e.writeFile=function(e,t,r,i){return"function"==typeof r&&(i=r,r=null),function e(t,r,i,s,o){return n(t,r,i,(function(n){!n||"EMFILE"!==n.code&&"ENFILE"!==n.code?"function"==typeof s&&s.apply(this,arguments):y([e,[t,r,i,s],n,o||Date.now(),Date.now()])}))}(e,t,r,i)};var r=e.appendFile;r&&(e.appendFile=function(e,t,n,i){return"function"==typeof n&&(i=n,n=null),function e(t,n,i,s,o){return r(t,n,i,(function(r){!r||"EMFILE"!==r.code&&"ENFILE"!==r.code?"function"==typeof s&&s.apply(this,arguments):y([e,[t,n,i,s],r,o||Date.now(),Date.now()])}))}(e,t,n,i)});var i=e.copyFile;i&&(e.copyFile=function(e,t,n,r){return"function"==typeof n&&(r=n,n=0),function e(t,n,r,s,o){return i(t,n,r,(function(i){!i||"EMFILE"!==i.code&&"ENFILE"!==i.code?"function"==typeof s&&s.apply(this,arguments):y([e,[t,n,r,s],i,o||Date.now(),Date.now()])}))}(e,t,n,r)});var s=e.readdir;e.readdir=function(e,t,n){"function"==typeof t&&(n=t,t=null);var r=c.test(process.version)?function(e,t,n,r){return s(e,i(e,t,n,r))}:function(e,t,n,r){return s(e,t,i(e,t,n,r))};return r(e,t,n);function i(e,t,n,i){return function(s,o){!s||"EMFILE"!==s.code&&"ENFILE"!==s.code?(o&&o.sort&&o.sort(),"function"==typeof n&&n.call(this,s,o)):y([r,[e,t,n],s,i||Date.now(),Date.now()])}}};var c=/^v[0-5]\./;if("v0.8"===process.version.substr(0,4)){var l=a(e);g=l.ReadStream,m=l.WriteStream}var u=e.ReadStream;u&&(g.prototype=Object.create(u.prototype),g.prototype.open=function(){var e=this;S(e.path,e.flags,e.mode,(function(t,n){t?(e.autoClose&&e.destroy(),e.emit("error",t)):(e.fd=n,e.emit("open",n),e.read())}))});var d=e.WriteStream;d&&(m.prototype=Object.create(d.prototype),m.prototype.open=function(){var e=this;S(e.path,e.flags,e.mode,(function(t,n){t?(e.destroy(),e.emit("error",t)):(e.fd=n,e.emit("open",n))}))}),Object.defineProperty(e,"ReadStream",{get:function(){return g},set:function(e){g=e},enumerable:!0,configurable:!0}),Object.defineProperty(e,"WriteStream",{get:function(){return m},set:function(e){m=e},enumerable:!0,configurable:!0});var h=g;Object.defineProperty(e,"FileReadStream",{get:function(){return h},set:function(e){h=e},enumerable:!0,configurable:!0});var p=m;function g(e,t){return this instanceof g?(u.apply(this,arguments),this):g.apply(Object.create(g.prototype),arguments)}function m(e,t){return this instanceof m?(d.apply(this,arguments),this):m.apply(Object.create(m.prototype),arguments)}Object.defineProperty(e,"FileWriteStream",{get:function(){return p},set:function(e){p=e},enumerable:!0,configurable:!0});var v=e.open;function S(e,t,n,r){return"function"==typeof n&&(r=n,n=null),function e(t,n,r,i,s){return v(t,n,r,(function(o,a){!o||"EMFILE"!==o.code&&"ENFILE"!==o.code?"function"==typeof i&&i.apply(this,arguments):y([e,[t,n,r,i],o,s||Date.now(),Date.now()])}))}(e,t,n,r)}return e.open=S,e}function y(e){h("ENQUEUE",e[0].name,e[1]),s[r].push(e),m()}function g(){for(var e=Date.now(),t=0;t<s[r].length;++t)s[r][t].length>2&&(s[r][t][3]=e,s[r][t][4]=e);m()}function m(){if(clearTimeout(d),d=void 0,0!==s[r].length){var e=s[r].shift(),t=e[0],n=e[1],i=e[2],o=e[3],a=e[4];if(void 0===o)h("RETRY",t.name,n),t.apply(null,n);else if(Date.now()-o>=6e4){h("TIMEOUT",t.name,n);var c=n.pop();"function"==typeof c&&c.call(null,i)}else{var l=Date.now()-a,u=Math.max(a-o,1);l>=Math.min(1.2*u,100)?(h("RETRY",t.name,n),t.apply(null,n.concat([o]))):s[r].push(e)}void 0===d&&(d=setTimeout(m,0))}}global[r]||u(global,s[r]),e.exports=f(c(s)),process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!s.__patched&&(e.exports=f(s),s.__patched=!0)},8520:(e,t,n)=>{var r=n(2781).Stream;e.exports=function(e){return{ReadStream:function t(n,i){if(!(this instanceof t))return new t(n,i);r.call(this);var s=this;this.path=n,this.fd=null,this.readable=!0,this.paused=!1,this.flags="r",this.mode=438,this.bufferSize=65536,i=i||{};for(var o=Object.keys(i),a=0,c=o.length;a<c;a++){var l=o[a];this[l]=i[l]}if(this.encoding&&this.setEncoding(this.encoding),void 0!==this.start){if("number"!=typeof this.start)throw TypeError("start must be a Number");if(void 0===this.end)this.end=1/0;else if("number"!=typeof this.end)throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start}null===this.fd?e.open(this.path,this.flags,this.mode,(function(e,t){if(e)return s.emit("error",e),void(s.readable=!1);s.fd=t,s.emit("open",t),s._read()})):process.nextTick((function(){s._read()}))},WriteStream:function t(n,i){if(!(this instanceof t))return new t(n,i);r.call(this),this.path=n,this.fd=null,this.writable=!0,this.flags="w",this.encoding="binary",this.mode=438,this.bytesWritten=0,i=i||{};for(var s=Object.keys(i),o=0,a=s.length;o<a;o++){var c=s[o];this[c]=i[c]}if(void 0!==this.start){if("number"!=typeof this.start)throw TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}this.busy=!1,this._queue=[],null===this.fd&&(this._open=e.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush())}}}},2161:(e,t,n)=>{var r=n(2057),i=process.cwd,s=null,o=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){return s||(s=i.call(process)),s};try{process.cwd()}catch(e){}if("function"==typeof process.chdir){var a=process.chdir;process.chdir=function(e){s=null,a.call(process,e)},Object.setPrototypeOf&&Object.setPrototypeOf(process.chdir,a)}e.exports=function(e){function t(t){return t?function(n,r,i){return t.call(e,n,r,(function(e){l(e)&&(e=null),i&&i.apply(this,arguments)}))}:t}function n(t){return t?function(n,r){try{return t.call(e,n,r)}catch(e){if(!l(e))throw e}}:t}function i(t){return t?function(n,r,i,s){return t.call(e,n,r,i,(function(e){l(e)&&(e=null),s&&s.apply(this,arguments)}))}:t}function s(t){return t?function(n,r,i){try{return t.call(e,n,r,i)}catch(e){if(!l(e))throw e}}:t}function a(t){return t?function(n,r,i){function s(e,t){t&&(t.uid<0&&(t.uid+=4294967296),t.gid<0&&(t.gid+=4294967296)),i&&i.apply(this,arguments)}return"function"==typeof r&&(i=r,r=null),r?t.call(e,n,r,s):t.call(e,n,s)}:t}function c(t){return t?function(n,r){var i=r?t.call(e,n,r):t.call(e,n);return i&&(i.uid<0&&(i.uid+=4294967296),i.gid<0&&(i.gid+=4294967296)),i}:t}function l(e){return!e||"ENOSYS"===e.code||!(process.getuid&&0===process.getuid()||"EINVAL"!==e.code&&"EPERM"!==e.code)}var u;r.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)&&function(e){e.lchmod=function(t,n,i){e.open(t,r.O_WRONLY|r.O_SYMLINK,n,(function(t,r){t?i&&i(t):e.fchmod(r,n,(function(t){e.close(r,(function(e){i&&i(t||e)}))}))}))},e.lchmodSync=function(t,n){var i,s=e.openSync(t,r.O_WRONLY|r.O_SYMLINK,n),o=!0;try{i=e.fchmodSync(s,n),o=!1}finally{if(o)try{e.closeSync(s)}catch(e){}else e.closeSync(s)}return i}}(e),e.lutimes||function(e){r.hasOwnProperty("O_SYMLINK")&&e.futimes?(e.lutimes=function(t,n,i,s){e.open(t,r.O_SYMLINK,(function(t,r){t?s&&s(t):e.futimes(r,n,i,(function(t){e.close(r,(function(e){s&&s(t||e)}))}))}))},e.lutimesSync=function(t,n,i){var s,o=e.openSync(t,r.O_SYMLINK),a=!0;try{s=e.futimesSync(o,n,i),a=!1}finally{if(a)try{e.closeSync(o)}catch(e){}else e.closeSync(o)}return s}):e.futimes&&(e.lutimes=function(e,t,n,r){r&&process.nextTick(r)},e.lutimesSync=function(){})}(e),e.chown=i(e.chown),e.fchown=i(e.fchown),e.lchown=i(e.lchown),e.chmod=t(e.chmod),e.fchmod=t(e.fchmod),e.lchmod=t(e.lchmod),e.chownSync=s(e.chownSync),e.fchownSync=s(e.fchownSync),e.lchownSync=s(e.lchownSync),e.chmodSync=n(e.chmodSync),e.fchmodSync=n(e.fchmodSync),e.lchmodSync=n(e.lchmodSync),e.stat=a(e.stat),e.fstat=a(e.fstat),e.lstat=a(e.lstat),e.statSync=c(e.statSync),e.fstatSync=c(e.fstatSync),e.lstatSync=c(e.lstatSync),e.chmod&&!e.lchmod&&(e.lchmod=function(e,t,n){n&&process.nextTick(n)},e.lchmodSync=function(){}),e.chown&&!e.lchown&&(e.lchown=function(e,t,n,r){r&&process.nextTick(r)},e.lchownSync=function(){}),"win32"===o&&(e.rename="function"!=typeof e.rename?e.rename:function(t){function n(n,r,i){var s=Date.now(),o=0;t(n,r,(function a(c){if(c&&("EACCES"===c.code||"EPERM"===c.code)&&Date.now()-s<6e4)return setTimeout((function(){e.stat(r,(function(e,s){e&&"ENOENT"===e.code?t(n,r,a):i(c)}))}),o),void(o<100&&(o+=10));i&&i(c)}))}return Object.setPrototypeOf&&Object.setPrototypeOf(n,t),n}(e.rename)),e.read="function"!=typeof e.read?e.read:function(t){function n(n,r,i,s,o,a){var c;if(a&&"function"==typeof a){var l=0;c=function(u,d,h){if(u&&"EAGAIN"===u.code&&l<10)return l++,t.call(e,n,r,i,s,o,c);a.apply(this,arguments)}}return t.call(e,n,r,i,s,o,c)}return Object.setPrototypeOf&&Object.setPrototypeOf(n,t),n}(e.read),e.readSync="function"!=typeof e.readSync?e.readSync:(u=e.readSync,function(t,n,r,i,s){for(var o=0;;)try{return u.call(e,t,n,r,i,s)}catch(e){if("EAGAIN"===e.code&&o<10){o++;continue}throw e}})}},6813:(e,t,n)=>{let r;try{r=n(77)}catch(e){r=n(7147)}const i=n(8981),{stringify:s,stripBom:o}=n(6780),a={readFile:i.fromPromise((async function(e,t={}){"string"==typeof t&&(t={encoding:t});const n=t.fs||r,s=!("throws"in t)||t.throws;let a,c=await i.fromCallback(n.readFile)(e,t);c=o(c);try{a=JSON.parse(c,t?t.reviver:null)}catch(t){if(s)throw t.message=`${e}: ${t.message}`,t;return null}return a})),readFileSync:function(e,t={}){"string"==typeof t&&(t={encoding:t});const n=t.fs||r,i=!("throws"in t)||t.throws;try{let r=n.readFileSync(e,t);return r=o(r),JSON.parse(r,t.reviver)}catch(t){if(i)throw t.message=`${e}: ${t.message}`,t;return null}},writeFile:i.fromPromise((async function(e,t,n={}){const o=n.fs||r,a=s(t,n);await i.fromCallback(o.writeFile)(e,a,n)})),writeFileSync:function(e,t,n={}){const i=n.fs||r,o=s(t,n);return i.writeFileSync(e,o,n)}};e.exports=a},6780:e=>{e.exports={stringify:function(e,{EOL:t="\n",finalEOL:n=!0,replacer:r=null,spaces:i}={}){const s=n?t:"";return JSON.stringify(e,r,i).replace(/\n/g,t)+s},stripBom:function(e){return Buffer.isBuffer(e)&&(e=e.toString("utf8")),e.replace(/^\uFEFF/,"")}}},6884:e=>{var t,n=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,r=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,i="a-z\\xdf-\\xf6\\xf8-\\xff",s="A-Z\\xc0-\\xd6\\xd8-\\xde",o="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",a="["+o+"]",c="[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]",l="\\d+",u="["+i+"]",d="[^\\ud800-\\udfff"+o+l+"\\u2700-\\u27bf"+i+s+"]",h="\\ud83c[\\udffb-\\udfff]",p="[^\\ud800-\\udfff]",f="(?:\\ud83c[\\udde6-\\uddff]){2}",y="[\\ud800-\\udbff][\\udc00-\\udfff]",g="["+s+"]",m="(?:"+u+"|"+d+")",v="(?:"+g+"|"+d+")",S="(?:['](?:d|ll|m|re|s|t|ve))?",b="(?:['](?:D|LL|M|RE|S|T|VE))?",E="(?:"+c+"|"+h+")?",w="[\\ufe0e\\ufe0f]?",_=w+E+"(?:\\u200d(?:"+[p,f,y].join("|")+")"+w+E+")*",C="(?:"+["[\\u2700-\\u27bf]",f,y].join("|")+")"+_,T="(?:"+[p+c+"?",c,f,y,"[\\ud800-\\udfff]"].join("|")+")",R=RegExp("[']","g"),k=RegExp(c,"g"),O=RegExp(h+"(?="+h+")|"+T+_,"g"),N=RegExp([g+"?"+u+"+"+S+"(?="+[a,g,"$"].join("|")+")",v+"+"+b+"(?="+[a,g+m,"$"].join("|")+")",g+"?"+m+"+"+S,g+"+"+b,l,C].join("|"),"g"),A=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0\\ufe0e\\ufe0f]"),x=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,P="object"==typeof global&&global&&global.Object===Object&&global,I="object"==typeof self&&self&&self.Object===Object&&self,D=P||I||Function("return this")(),L=(t={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"ss"},function(e){return null==t?void 0:t[e]});function M(e){return A.test(e)}var j=Object.prototype.toString,F=D.Symbol,B=F?F.prototype:void 0,U=B?B.toString:void 0;function H(e){return null==e?"":function(e){if("string"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==j.call(e)}(e))return U?U.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}(e)}var q,$=(q=function(e,t,n){return t=t.toLowerCase(),e+(n?W(H(t).toLowerCase()):t)},function(e){return function(e,t,n,r){for(var i=-1,s=e?e.length:0;++i<s;)n=t(n,e[i],i,e);return n}(function(e,t,r){return e=H(e),void 0===(t=t)?function(e){return x.test(e)}(e)?function(e){return e.match(N)||[]}(e):function(e){return e.match(n)||[]}(e):e.match(t)||[]}(function(e){return(e=H(e))&&e.replace(r,L).replace(k,"")}(e).replace(R,"")),q,"")}),W=("toUpperCase",function(e){var t,n,r,i,s=M(e=H(e))?function(e){return M(e)?function(e){return e.match(O)||[]}(e):function(e){return e.split("")}(e)}(e):void 0,o=s?s[0]:e.charAt(0),a=s?(t=s,n=1,i=t.length,r=void 0===r?i:r,!n&&r>=i?t:function(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var s=Array(i);++r<i;)s[r]=e[r+t];return s}(t,n,r)).join(""):e.slice(1);return o.toUpperCase()+a});e.exports=$},3720:e=>{e.exports=n;var t=null;try{t=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(e){}function n(e,t,n){this.low=0|e,this.high=0|t,this.unsigned=!!n}function r(e){return!0===(e&&e.__isLong__)}n.prototype.__isLong__,Object.defineProperty(n.prototype,"__isLong__",{value:!0}),n.isLong=r;var i={},s={};function o(e,t){var n,r,o;return t?(o=0<=(e>>>=0)&&e<256)&&(r=s[e])?r:(n=c(e,(0|e)<0?-1:0,!0),o&&(s[e]=n),n):(o=-128<=(e|=0)&&e<128)&&(r=i[e])?r:(n=c(e,e<0?-1:0,!1),o&&(i[e]=n),n)}function a(e,t){if(isNaN(e))return t?m:g;if(t){if(e<0)return m;if(e>=p)return w}else{if(e<=-f)return _;if(e+1>=f)return E}return e<0?a(-e,t).neg():c(e%h|0,e/h|0,t)}function c(e,t,r){return new n(e,t,r)}n.fromInt=o,n.fromNumber=a,n.fromBits=c;var l=Math.pow;function u(e,t,n){if(0===e.length)throw Error("empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return g;if("number"==typeof t?(n=t,t=!1):t=!!t,(n=n||10)<2||36<n)throw RangeError("radix");var r;if((r=e.indexOf("-"))>0)throw Error("interior hyphen");if(0===r)return u(e.substring(1),t,n).neg();for(var i=a(l(n,8)),s=g,o=0;o<e.length;o+=8){var c=Math.min(8,e.length-o),d=parseInt(e.substring(o,o+c),n);if(c<8){var h=a(l(n,c));s=s.mul(h).add(a(d))}else s=(s=s.mul(i)).add(a(d))}return s.unsigned=t,s}function d(e,t){return"number"==typeof e?a(e,t):"string"==typeof e?u(e,t):c(e.low,e.high,"boolean"==typeof t?t:e.unsigned)}n.fromString=u,n.fromValue=d;var h=4294967296,p=h*h,f=p/2,y=o(1<<24),g=o(0);n.ZERO=g;var m=o(0,!0);n.UZERO=m;var v=o(1);n.ONE=v;var S=o(1,!0);n.UONE=S;var b=o(-1);n.NEG_ONE=b;var E=c(-1,2147483647,!1);n.MAX_VALUE=E;var w=c(-1,-1,!0);n.MAX_UNSIGNED_VALUE=w;var _=c(0,-2147483648,!1);n.MIN_VALUE=_;var C=n.prototype;C.toInt=function(){return this.unsigned?this.low>>>0:this.low},C.toNumber=function(){return this.unsigned?(this.high>>>0)*h+(this.low>>>0):this.high*h+(this.low>>>0)},C.toString=function(e){if((e=e||10)<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(_)){var t=a(e),n=this.div(t),r=n.mul(t).sub(this);return n.toString(e)+r.toInt().toString(e)}return"-"+this.neg().toString(e)}for(var i=a(l(e,6),this.unsigned),s=this,o="";;){var c=s.div(i),u=(s.sub(c.mul(i)).toInt()>>>0).toString(e);if((s=c).isZero())return u+o;for(;u.length<6;)u="0"+u;o=""+u+o}},C.getHighBits=function(){return this.high},C.getHighBitsUnsigned=function(){return this.high>>>0},C.getLowBits=function(){return this.low},C.getLowBitsUnsigned=function(){return this.low>>>0},C.getNumBitsAbs=function(){if(this.isNegative())return this.eq(_)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;t>0&&0==(e&1<<t);t--);return 0!=this.high?t+33:t+1},C.isZero=function(){return 0===this.high&&0===this.low},C.eqz=C.isZero,C.isNegative=function(){return!this.unsigned&&this.high<0},C.isPositive=function(){return this.unsigned||this.high>=0},C.isOdd=function(){return 1==(1&this.low)},C.isEven=function(){return 0==(1&this.low)},C.equals=function(e){return r(e)||(e=d(e)),(this.unsigned===e.unsigned||this.high>>>31!=1||e.high>>>31!=1)&&this.high===e.high&&this.low===e.low},C.eq=C.equals,C.notEquals=function(e){return!this.eq(e)},C.neq=C.notEquals,C.ne=C.notEquals,C.lessThan=function(e){return this.comp(e)<0},C.lt=C.lessThan,C.lessThanOrEqual=function(e){return this.comp(e)<=0},C.lte=C.lessThanOrEqual,C.le=C.lessThanOrEqual,C.greaterThan=function(e){return this.comp(e)>0},C.gt=C.greaterThan,C.greaterThanOrEqual=function(e){return this.comp(e)>=0},C.gte=C.greaterThanOrEqual,C.ge=C.greaterThanOrEqual,C.compare=function(e){if(r(e)||(e=d(e)),this.eq(e))return 0;var t=this.isNegative(),n=e.isNegative();return t&&!n?-1:!t&&n?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},C.comp=C.compare,C.negate=function(){return!this.unsigned&&this.eq(_)?_:this.not().add(v)},C.neg=C.negate,C.add=function(e){r(e)||(e=d(e));var t=this.high>>>16,n=65535&this.high,i=this.low>>>16,s=65535&this.low,o=e.high>>>16,a=65535&e.high,l=e.low>>>16,u=0,h=0,p=0,f=0;return p+=(f+=s+(65535&e.low))>>>16,h+=(p+=i+l)>>>16,u+=(h+=n+a)>>>16,u+=t+o,c((p&=65535)<<16|(f&=65535),(u&=65535)<<16|(h&=65535),this.unsigned)},C.subtract=function(e){return r(e)||(e=d(e)),this.add(e.neg())},C.sub=C.subtract,C.multiply=function(e){if(this.isZero())return g;if(r(e)||(e=d(e)),t)return c(t.mul(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned);if(e.isZero())return g;if(this.eq(_))return e.isOdd()?_:g;if(e.eq(_))return this.isOdd()?_:g;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(y)&&e.lt(y))return a(this.toNumber()*e.toNumber(),this.unsigned);var n=this.high>>>16,i=65535&this.high,s=this.low>>>16,o=65535&this.low,l=e.high>>>16,u=65535&e.high,h=e.low>>>16,p=65535&e.low,f=0,m=0,v=0,S=0;return v+=(S+=o*p)>>>16,m+=(v+=s*p)>>>16,v&=65535,m+=(v+=o*h)>>>16,f+=(m+=i*p)>>>16,m&=65535,f+=(m+=s*h)>>>16,m&=65535,f+=(m+=o*u)>>>16,f+=n*p+i*h+s*u+o*l,c((v&=65535)<<16|(S&=65535),(f&=65535)<<16|(m&=65535),this.unsigned)},C.mul=C.multiply,C.divide=function(e){if(r(e)||(e=d(e)),e.isZero())throw Error("division by zero");var n,i,s;if(t)return this.unsigned||-2147483648!==this.high||-1!==e.low||-1!==e.high?c((this.unsigned?t.div_u:t.div_s)(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?m:g;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return m;if(e.gt(this.shru(1)))return S;s=m}else{if(this.eq(_))return e.eq(v)||e.eq(b)?_:e.eq(_)?v:(n=this.shr(1).div(e).shl(1)).eq(g)?e.isNegative()?v:b:(i=this.sub(e.mul(n)),s=n.add(i.div(e)));if(e.eq(_))return this.unsigned?m:g;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();s=g}for(i=this;i.gte(e);){n=Math.max(1,Math.floor(i.toNumber()/e.toNumber()));for(var o=Math.ceil(Math.log(n)/Math.LN2),u=o<=48?1:l(2,o-48),h=a(n),p=h.mul(e);p.isNegative()||p.gt(i);)p=(h=a(n-=u,this.unsigned)).mul(e);h.isZero()&&(h=v),s=s.add(h),i=i.sub(p)}return s},C.div=C.divide,C.modulo=function(e){return r(e)||(e=d(e)),t?c((this.unsigned?t.rem_u:t.rem_s)(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):this.sub(this.div(e).mul(e))},C.mod=C.modulo,C.rem=C.modulo,C.not=function(){return c(~this.low,~this.high,this.unsigned)},C.and=function(e){return r(e)||(e=d(e)),c(this.low&e.low,this.high&e.high,this.unsigned)},C.or=function(e){return r(e)||(e=d(e)),c(this.low|e.low,this.high|e.high,this.unsigned)},C.xor=function(e){return r(e)||(e=d(e)),c(this.low^e.low,this.high^e.high,this.unsigned)},C.shiftLeft=function(e){return r(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?c(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):c(0,this.low<<e-32,this.unsigned)},C.shl=C.shiftLeft,C.shiftRight=function(e){return r(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?c(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):c(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},C.shr=C.shiftRight,C.shiftRightUnsigned=function(e){if(r(e)&&(e=e.toInt()),0==(e&=63))return this;var t=this.high;return e<32?c(this.low>>>e|t<<32-e,t>>>e,this.unsigned):c(32===e?t:t>>>e-32,0,this.unsigned)},C.shru=C.shiftRightUnsigned,C.shr_u=C.shiftRightUnsigned,C.toSigned=function(){return this.unsigned?c(this.low,this.high,!1):this},C.toUnsigned=function(){return this.unsigned?this:c(this.low,this.high,!0)},C.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},C.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]},C.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]},n.fromBytes=function(e,t,r){return r?n.fromBytesLE(e,t):n.fromBytesBE(e,t)},n.fromBytesLE=function(e,t){return new n(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)},n.fromBytesBE=function(e,t){return new n(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)}},6562:e=>{function t(e){return"number"==typeof e||!!/^0x[0-9a-f]+$/i.test(e)||/^[-+]?(?:\d+(?:\.\d*)?|\.\d+)(e[-+]?\d+)?$/.test(e)}function n(e,t){return"constructor"===t&&"function"==typeof e[t]||"__proto__"===t}e.exports=function(e,r){r||(r={});var i={bools:{},strings:{},unknownFn:null};"function"==typeof r.unknown&&(i.unknownFn=r.unknown),"boolean"==typeof r.boolean&&r.boolean?i.allBools=!0:[].concat(r.boolean).filter(Boolean).forEach((function(e){i.bools[e]=!0}));var s={};Object.keys(r.alias||{}).forEach((function(e){s[e]=[].concat(r.alias[e]),s[e].forEach((function(t){s[t]=[e].concat(s[e].filter((function(e){return t!==e})))}))})),[].concat(r.string).filter(Boolean).forEach((function(e){i.strings[e]=!0,s[e]&&(i.strings[s[e]]=!0)}));var o=r.default||{},a={_:[]};Object.keys(i.bools).forEach((function(e){l(e,void 0!==o[e]&&o[e])}));var c=[];function l(e,n,r){if(!r||!i.unknownFn||function(e,t){return i.allBools&&/^--[^=]+$/.test(t)||i.strings[e]||i.bools[e]||s[e]}(e,r)||!1!==i.unknownFn(r)){var o=!i.strings[e]&&t(n)?Number(n):n;u(a,e.split("."),o),(s[e]||[]).forEach((function(e){u(a,e.split("."),o)}))}}function u(e,t,r){for(var s=e,o=0;o<t.length-1;o++){if(n(s,a=t[o]))return;void 0===s[a]&&(s[a]={}),s[a]!==Object.prototype&&s[a]!==Number.prototype&&s[a]!==String.prototype||(s[a]={}),s[a]===Array.prototype&&(s[a]=[]),s=s[a]}var a;n(s,a=t[t.length-1])||(s!==Object.prototype&&s!==Number.prototype&&s!==String.prototype||(s={}),s===Array.prototype&&(s=[]),void 0===s[a]||i.bools[a]||"boolean"==typeof s[a]?s[a]=r:Array.isArray(s[a])?s[a].push(r):s[a]=[s[a],r])}function d(e){return s[e].some((function(e){return i.bools[e]}))}-1!==e.indexOf("--")&&(c=e.slice(e.indexOf("--")+1),e=e.slice(0,e.indexOf("--")));for(var h=0;h<e.length;h++){var p=e[h];if(/^--.+=/.test(p)){var f=p.match(/^--([^=]+)=([\s\S]*)$/),y=f[1],g=f[2];i.bools[y]&&(g="false"!==g),l(y,g,p)}else if(/^--no-.+/.test(p))l(y=p.match(/^--no-(.+)/)[1],!1,p);else if(/^--.+/.test(p))y=p.match(/^--(.+)/)[1],void 0===(b=e[h+1])||/^-/.test(b)||i.bools[y]||i.allBools||s[y]&&d(y)?/^(true|false)$/.test(b)?(l(y,"true"===b,p),h++):l(y,!i.strings[y]||"",p):(l(y,b,p),h++);else if(/^-[^-]+/.test(p)){for(var m=p.slice(1,-1).split(""),v=!1,S=0;S<m.length;S++){var b;if("-"!==(b=p.slice(S+2))){if(/[A-Za-z]/.test(m[S])&&/=/.test(b)){l(m[S],b.split("=")[1],p),v=!0;break}if(/[A-Za-z]/.test(m[S])&&/-?\d+(\.\d*)?(e-?\d+)?$/.test(b)){l(m[S],b,p),v=!0;break}if(m[S+1]&&m[S+1].match(/\W/)){l(m[S],p.slice(S+2),p),v=!0;break}l(m[S],!i.strings[m[S]]||"",p)}else l(m[S],b,p)}y=p.slice(-1)[0],v||"-"===y||(!e[h+1]||/^(-|--)[^-]/.test(e[h+1])||i.bools[y]||s[y]&&d(y)?e[h+1]&&/^(true|false)$/.test(e[h+1])?(l(y,"true"===e[h+1],p),h++):l(y,!i.strings[y]||"",p):(l(y,e[h+1],p),h++))}else if(i.unknownFn&&!1===i.unknownFn(p)||a._.push(i.strings._||!t(p)?p:Number(p)),r.stopEarly){a._.push.apply(a._,e.slice(h+1));break}}return Object.keys(o).forEach((function(e){var t,n,r;t=a,n=e.split("."),r=t,n.slice(0,-1).forEach((function(e){r=r[e]||{}})),n[n.length-1]in r||(u(a,e.split("."),o[e]),(s[e]||[]).forEach((function(t){u(a,t.split("."),o[e])})))})),r["--"]?(a["--"]=new Array,c.forEach((function(e){a["--"].push(e)}))):c.forEach((function(e){a._.push(e)})),a}},3961:(e,t,n)=>{"use strict";var r=n(3281);e.exports=t=r.descriptor=r.Root.fromJSON(n(3571)).lookup(".google.protobuf");var i=r.Namespace,s=r.Root,o=r.Enum,a=r.Type,c=r.Field,l=r.MapField,u=r.OneOf,d=r.Service,h=r.Method;function p(e,n,r){var l=t.FileDescriptorProto.create({name:e.filename||(e.fullName.substring(1).replace(/\./g,"_")||"root")+".proto"});r&&(l.syntax=r),e instanceof s||(l.package=e.fullName.substring(1));for(var u,h=0;h<e.nestedArray.length;++h)(u=e._nestedArray[h])instanceof a?l.messageType.push(u.toDescriptor(r)):u instanceof o?l.enumType.push(u.toDescriptor()):u instanceof c?l.extension.push(u.toDescriptor(r)):u instanceof d?l.service.push(u.toDescriptor()):u instanceof i&&p(u,n,r);l.options=w(e.options,t.FileOptions),l.messageType.length+l.enumType.length+l.extension.length+l.service.length&&n.push(l)}s.fromDescriptor=function(e){"number"==typeof e.length&&(e=t.FileDescriptorSet.decode(e));var n=new s;if(e.file)for(var r,i,l,u=0;u<e.file.length;++u){if(i=n,(r=e.file[u]).package&&r.package.length&&(i=n.define(r.package)),r.name&&r.name.length&&n.files.push(i.filename=r.name),r.messageType)for(l=0;l<r.messageType.length;++l)i.add(a.fromDescriptor(r.messageType[l],r.syntax));if(r.enumType)for(l=0;l<r.enumType.length;++l)i.add(o.fromDescriptor(r.enumType[l]));if(r.extension)for(l=0;l<r.extension.length;++l)i.add(c.fromDescriptor(r.extension[l]));if(r.service)for(l=0;l<r.service.length;++l)i.add(d.fromDescriptor(r.service[l]));var h=E(r.options,t.FileOptions);if(h){var p=Object.keys(h);for(l=0;l<p.length;++l)i.setOption(p[l],h[p[l]])}}return n},s.prototype.toDescriptor=function(e){var n=t.FileDescriptorSet.create();return p(this,n.file,e),n};var f=0;a.fromDescriptor=function(e,n){"number"==typeof e.length&&(e=t.DescriptorProto.decode(e));var r,i=new a(e.name.length?e.name:"Type"+f++,E(e.options,t.MessageOptions));if(e.oneofDecl)for(r=0;r<e.oneofDecl.length;++r)i.add(u.fromDescriptor(e.oneofDecl[r]));if(e.field)for(r=0;r<e.field.length;++r){var s=c.fromDescriptor(e.field[r],n);i.add(s),e.field[r].hasOwnProperty("oneofIndex")&&i.oneofsArray[e.field[r].oneofIndex].add(s)}if(e.extension)for(r=0;r<e.extension.length;++r)i.add(c.fromDescriptor(e.extension[r],n));if(e.nestedType)for(r=0;r<e.nestedType.length;++r)i.add(a.fromDescriptor(e.nestedType[r],n)),e.nestedType[r].options&&e.nestedType[r].options.mapEntry&&i.setOption("map_entry",!0);if(e.enumType)for(r=0;r<e.enumType.length;++r)i.add(o.fromDescriptor(e.enumType[r]));if(e.extensionRange&&e.extensionRange.length)for(i.extensions=[],r=0;r<e.extensionRange.length;++r)i.extensions.push([e.extensionRange[r].start,e.extensionRange[r].end]);if(e.reservedRange&&e.reservedRange.length||e.reservedName&&e.reservedName.length){if(i.reserved=[],e.reservedRange)for(r=0;r<e.reservedRange.length;++r)i.reserved.push([e.reservedRange[r].start,e.reservedRange[r].end]);if(e.reservedName)for(r=0;r<e.reservedName.length;++r)i.reserved.push(e.reservedName[r])}return i},a.prototype.toDescriptor=function(e){var n,r=t.DescriptorProto.create({name:this.name});for(n=0;n<this.fieldsArray.length;++n){var i;if(r.field.push(i=this._fieldsArray[n].toDescriptor(e)),this._fieldsArray[n]instanceof l){var s=b(this._fieldsArray[n].keyType,this._fieldsArray[n].resolvedKeyType),u=b(this._fieldsArray[n].type,this._fieldsArray[n].resolvedType),d=11===u||14===u?this._fieldsArray[n].resolvedType&&_(this.parent,this._fieldsArray[n].resolvedType)||this._fieldsArray[n].type:void 0;r.nestedType.push(t.DescriptorProto.create({name:i.typeName,field:[t.FieldDescriptorProto.create({name:"key",number:1,label:1,type:s}),t.FieldDescriptorProto.create({name:"value",number:2,label:1,type:u,typeName:d})],options:t.MessageOptions.create({mapEntry:!0})}))}}for(n=0;n<this.oneofsArray.length;++n)r.oneofDecl.push(this._oneofsArray[n].toDescriptor());for(n=0;n<this.nestedArray.length;++n)this._nestedArray[n]instanceof c?r.field.push(this._nestedArray[n].toDescriptor(e)):this._nestedArray[n]instanceof a?r.nestedType.push(this._nestedArray[n].toDescriptor(e)):this._nestedArray[n]instanceof o&&r.enumType.push(this._nestedArray[n].toDescriptor());if(this.extensions)for(n=0;n<this.extensions.length;++n)r.extensionRange.push(t.DescriptorProto.ExtensionRange.create({start:this.extensions[n][0],end:this.extensions[n][1]}));if(this.reserved)for(n=0;n<this.reserved.length;++n)"string"==typeof this.reserved[n]?r.reservedName.push(this.reserved[n]):r.reservedRange.push(t.DescriptorProto.ReservedRange.create({start:this.reserved[n][0],end:this.reserved[n][1]}));return r.options=w(this.options,t.MessageOptions),r};var y=/^(?![eE])[0-9]*(?:\.[0-9]*)?(?:[eE][+-]?[0-9]+)?$/;c.fromDescriptor=function(e,n){if("number"==typeof e.length&&(e=t.DescriptorProto.decode(e)),"number"!=typeof e.number)throw Error("missing field id");var r,i;switch(r=e.typeName&&e.typeName.length?e.typeName:function(e){switch(e){case 1:return"double";case 2:return"float";case 3:return"int64";case 4:return"uint64";case 5:return"int32";case 6:return"fixed64";case 7:return"fixed32";case 8:return"bool";case 9:return"string";case 12:return"bytes";case 13:return"uint32";case 15:return"sfixed32";case 16:return"sfixed64";case 17:return"sint32";case 18:return"sint64"}throw Error("illegal type: "+e)}(e.type),e.label){case 1:i=void 0;break;case 2:i="required";break;case 3:i="repeated";break;default:throw Error("illegal label: "+e.label)}var s=e.extendee;void 0!==e.extendee&&(s=s.length?s:void 0);var o=new c(e.name.length?e.name:"field"+e.number,e.number,r,i,s);if(o.options=E(e.options,t.FieldOptions),e.defaultValue&&e.defaultValue.length){var a=e.defaultValue;switch(a){case"true":case"TRUE":a=!0;break;case"false":case"FALSE":a=!1;break;default:y.exec(a)&&(a=parseInt(a))}o.setOption("default",a)}return function(e){switch(e){case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 13:case 14:case 15:case 16:case 17:case 18:return!0}return!1}(e.type)&&("proto3"===n?e.options&&!e.options.packed&&o.setOption("packed",!1):e.options&&e.options.packed||o.setOption("packed",!1)),o},c.prototype.toDescriptor=function(e){var n=t.FieldDescriptorProto.create({name:this.name,number:this.id});if(this.map)n.type=11,n.typeName=r.util.ucFirst(this.name),n.label=3;else{switch(n.type=b(this.type,this.resolve().resolvedType)){case 10:case 11:case 14:n.typeName=this.resolvedType?_(this.parent,this.resolvedType):this.type}switch(this.rule){case"repeated":n.label=3;break;case"required":n.label=2;break;default:n.label=1}}if(n.extendee=this.extensionField?this.extensionField.parent.fullName:this.extend,this.partOf&&(n.oneofIndex=this.parent.oneofsArray.indexOf(this.partOf))<0)throw Error("missing oneof");return this.options&&(n.options=w(this.options,t.FieldOptions),null!=this.options.default&&(n.defaultValue=String(this.options.default))),"proto3"===e?this.packed||((n.options||(n.options=t.FieldOptions.create())).packed=!1):this.packed&&((n.options||(n.options=t.FieldOptions.create())).packed=!0),n};var g=0;o.fromDescriptor=function(e){"number"==typeof e.length&&(e=t.EnumDescriptorProto.decode(e));var n={};if(e.value)for(var r=0;r<e.value.length;++r){var i=e.value[r].name,s=e.value[r].number||0;n[i&&i.length?i:"NAME"+s]=s}return new o(e.name&&e.name.length?e.name:"Enum"+g++,n,E(e.options,t.EnumOptions))},o.prototype.toDescriptor=function(){for(var e=[],n=0,r=Object.keys(this.values);n<r.length;++n)e.push(t.EnumValueDescriptorProto.create({name:r[n],number:this.values[r[n]]}));return t.EnumDescriptorProto.create({name:this.name,value:e,options:w(this.options,t.EnumOptions)})};var m=0;u.fromDescriptor=function(e){return"number"==typeof e.length&&(e=t.OneofDescriptorProto.decode(e)),new u(e.name&&e.name.length?e.name:"oneof"+m++)},u.prototype.toDescriptor=function(){return t.OneofDescriptorProto.create({name:this.name})};var v=0;d.fromDescriptor=function(e){"number"==typeof e.length&&(e=t.ServiceDescriptorProto.decode(e));var n=new d(e.name&&e.name.length?e.name:"Service"+v++,E(e.options,t.ServiceOptions));if(e.method)for(var r=0;r<e.method.length;++r)n.add(h.fromDescriptor(e.method[r]));return n},d.prototype.toDescriptor=function(){for(var e=[],n=0;n<this.methodsArray.length;++n)e.push(this._methodsArray[n].toDescriptor());return t.ServiceDescriptorProto.create({name:this.name,method:e,options:w(this.options,t.ServiceOptions)})};var S=0;function b(e,t){switch(e){case"double":return 1;case"float":return 2;case"int64":return 3;case"uint64":return 4;case"int32":return 5;case"fixed64":return 6;case"fixed32":return 7;case"bool":return 8;case"string":return 9;case"bytes":return 12;case"uint32":return 13;case"sfixed32":return 15;case"sfixed64":return 16;case"sint32":return 17;case"sint64":return 18}if(t instanceof o)return 14;if(t instanceof a)return t.group?10:11;throw Error("illegal type: "+e)}function E(e,t){if(e){for(var n,i,s,a,c=[],l=0;l<t.fieldsArray.length;++l)"uninterpretedOption"!==(i=(n=t._fieldsArray[l]).name)&&e.hasOwnProperty(i)&&(s=e[i],n.resolvedType instanceof o&&"number"==typeof s&&void 0!==n.resolvedType.valuesById[s]&&(s=n.resolvedType.valuesById[s]),c.push((a=i).substring(0,1)+a.substring(1).replace(/([A-Z])(?=[a-z]|$)/g,(function(e,t){return"_"+t.toLowerCase()})),s));return c.length?r.util.toObject(c):void 0}}function w(e,t){if(e){for(var n,i,s=[],o=0,a=Object.keys(e);o<a.length;++o)if(i=e[n=a[o]],"default"!==n){var c=t.fields[n];(c||(c=t.fields[n=r.util.camelCase(n)]))&&s.push(n,i)}return s.length?t.fromObject(r.util.toObject(s)):void 0}}function _(e,t){var n=e.fullName.split("."),r=t.fullName.split("."),o=0,a=0,c=r.length-1;if(!(e instanceof s)&&t instanceof i)for(;o<n.length&&a<c&&n[o]===r[a];){var l=t.lookup(n[o++],!0);if(null!==l&&l!==t)break;++a}else for(;o<n.length&&a<c&&n[o]===r[a];++o,++a);return r.slice(a).join(".")}h.fromDescriptor=function(e){return"number"==typeof e.length&&(e=t.MethodDescriptorProto.decode(e)),new h(e.name&&e.name.length?e.name:"Method"+S++,"rpc",e.inputType,e.outputType,Boolean(e.clientStreaming),Boolean(e.serverStreaming),E(e.options,t.MethodOptions))},h.prototype.toDescriptor=function(){return t.MethodDescriptorProto.create({name:this.name,inputType:this.resolvedRequestType?this.resolvedRequestType.fullName:this.requestType,outputType:this.resolvedResponseType?this.resolvedResponseType.fullName:this.responseType,clientStreaming:this.requestStream,serverStreaming:this.responseStream,options:w(this.options,t.MethodOptions)})}},3281:(e,t,n)=>{"use strict";e.exports=n(9050)},4492:(e,t,n)=>{"use strict";e.exports=n(8836)},2967:e=>{"use strict";e.exports=r;var t,n=/\/|\./;function r(e,t){n.test(e)||(e="google/protobuf/"+e+".proto",t={nested:{google:{nested:{protobuf:{nested:t}}}}}),r[e]=t}r("any",{Any:{fields:{type_url:{type:"string",id:1},value:{type:"bytes",id:2}}}}),r("duration",{Duration:t={fields:{seconds:{type:"int64",id:1},nanos:{type:"int32",id:2}}}}),r("timestamp",{Timestamp:t}),r("empty",{Empty:{fields:{}}}),r("struct",{Struct:{fields:{fields:{keyType:"string",type:"Value",id:1}}},Value:{oneofs:{kind:{oneof:["nullValue","numberValue","stringValue","boolValue","structValue","listValue"]}},fields:{nullValue:{type:"NullValue",id:1},numberValue:{type:"double",id:2},stringValue:{type:"string",id:3},boolValue:{type:"bool",id:4},structValue:{type:"Struct",id:5},listValue:{type:"ListValue",id:6}}},NullValue:{values:{NULL_VALUE:0}},ListValue:{fields:{values:{rule:"repeated",type:"Value",id:1}}}}),r("wrappers",{DoubleValue:{fields:{value:{type:"double",id:1}}},FloatValue:{fields:{value:{type:"float",id:1}}},Int64Value:{fields:{value:{type:"int64",id:1}}},UInt64Value:{fields:{value:{type:"uint64",id:1}}},Int32Value:{fields:{value:{type:"int32",id:1}}},UInt32Value:{fields:{value:{type:"uint32",id:1}}},BoolValue:{fields:{value:{type:"bool",id:1}}},StringValue:{fields:{value:{type:"string",id:1}}},BytesValue:{fields:{value:{type:"bytes",id:1}}}}),r("field_mask",{FieldMask:{fields:{paths:{rule:"repeated",type:"string",id:1}}}}),r.get=function(e){return r[e]||null}},3996:(e,t,n)=>{"use strict";var r=t,i=n(7025),s=n(9935);function o(e,t,n,r){if(t.resolvedType)if(t.resolvedType instanceof i){e("switch(d%s){",r);for(var s=t.resolvedType.values,o=Object.keys(s),a=0;a<o.length;++a)t.repeated&&s[o[a]]===t.typeDefault&&e("default:"),e("case%j:",o[a])("case %i:",s[o[a]])("m%s=%j",r,s[o[a]])("break");e("}")}else e('if(typeof d%s!=="object")',r)("throw TypeError(%j)",t.fullName+": object expected")("m%s=types[%i].fromObject(d%s)",r,n,r);else{var c=!1;switch(t.type){case"double":case"float":e("m%s=Number(d%s)",r,r);break;case"uint32":case"fixed32":e("m%s=d%s>>>0",r,r);break;case"int32":case"sint32":case"sfixed32":e("m%s=d%s|0",r,r);break;case"uint64":c=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":e("if(util.Long)")("(m%s=util.Long.fromValue(d%s)).unsigned=%j",r,r,c)('else if(typeof d%s==="string")',r)("m%s=parseInt(d%s,10)",r,r)('else if(typeof d%s==="number")',r)("m%s=d%s",r,r)('else if(typeof d%s==="object")',r)("m%s=new util.LongBits(d%s.low>>>0,d%s.high>>>0).toNumber(%s)",r,r,r,c?"true":"");break;case"bytes":e('if(typeof d%s==="string")',r)("util.base64.decode(d%s,m%s=util.newBuffer(util.base64.length(d%s)),0)",r,r,r)("else if(d%s.length)",r)("m%s=d%s",r,r);break;case"string":e("m%s=String(d%s)",r,r);break;case"bool":e("m%s=Boolean(d%s)",r,r)}}return e}function a(e,t,n,r){if(t.resolvedType)t.resolvedType instanceof i?e("d%s=o.enums===String?types[%i].values[m%s]:m%s",r,n,r,r):e("d%s=types[%i].toObject(m%s,o)",r,n,r);else{var s=!1;switch(t.type){case"double":case"float":e("d%s=o.json&&!isFinite(m%s)?String(m%s):m%s",r,r,r,r);break;case"uint64":s=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":e('if(typeof m%s==="number")',r)("d%s=o.longs===String?String(m%s):m%s",r,r,r)("else")("d%s=o.longs===String?util.Long.prototype.toString.call(m%s):o.longs===Number?new util.LongBits(m%s.low>>>0,m%s.high>>>0).toNumber(%s):m%s",r,r,r,r,s?"true":"",r);break;case"bytes":e("d%s=o.bytes===String?util.base64.encode(m%s,0,m%s.length):o.bytes===Array?Array.prototype.slice.call(m%s):m%s",r,r,r,r,r);break;default:e("d%s=m%s",r,r)}}return e}r.fromObject=function(e){var t=e.fieldsArray,n=s.codegen(["d"],e.name+"$fromObject")("if(d instanceof this.ctor)")("return d");if(!t.length)return n("return new this.ctor");n("var m=new this.ctor");for(var r=0;r<t.length;++r){var a=t[r].resolve(),c=s.safeProp(a.name);a.map?(n("if(d%s){",c)('if(typeof d%s!=="object")',c)("throw TypeError(%j)",a.fullName+": object expected")("m%s={}",c)("for(var ks=Object.keys(d%s),i=0;i<ks.length;++i){",c),o(n,a,r,c+"[ks[i]]")("}")("}")):a.repeated?(n("if(d%s){",c)("if(!Array.isArray(d%s))",c)("throw TypeError(%j)",a.fullName+": array expected")("m%s=[]",c)("for(var i=0;i<d%s.length;++i){",c),o(n,a,r,c+"[i]")("}")("}")):(a.resolvedType instanceof i||n("if(d%s!=null){",c),o(n,a,r,c),a.resolvedType instanceof i||n("}"))}return n("return m")},r.toObject=function(e){var t=e.fieldsArray.slice().sort(s.compareFieldsById);if(!t.length)return s.codegen()("return {}");for(var n=s.codegen(["m","o"],e.name+"$toObject")("if(!o)")("o={}")("var d={}"),r=[],o=[],c=[],l=0;l<t.length;++l)t[l].partOf||(t[l].resolve().repeated?r:t[l].map?o:c).push(t[l]);if(r.length){for(n("if(o.arrays||o.defaults){"),l=0;l<r.length;++l)n("d%s=[]",s.safeProp(r[l].name));n("}")}if(o.length){for(n("if(o.objects||o.defaults){"),l=0;l<o.length;++l)n("d%s={}",s.safeProp(o[l].name));n("}")}if(c.length){for(n("if(o.defaults){"),l=0;l<c.length;++l){var u=c[l],d=s.safeProp(u.name);if(u.resolvedType instanceof i)n("d%s=o.enums===String?%j:%j",d,u.resolvedType.valuesById[u.typeDefault],u.typeDefault);else if(u.long)n("if(util.Long){")("var n=new util.Long(%i,%i,%j)",u.typeDefault.low,u.typeDefault.high,u.typeDefault.unsigned)("d%s=o.longs===String?n.toString():o.longs===Number?n.toNumber():n",d)("}else")("d%s=o.longs===String?%j:%i",d,u.typeDefault.toString(),u.typeDefault.toNumber());else if(u.bytes){var h="["+Array.prototype.slice.call(u.typeDefault).join(",")+"]";n("if(o.bytes===String)d%s=%j",d,String.fromCharCode.apply(String,u.typeDefault))("else{")("d%s=%s",d,h)("if(o.bytes!==Array)d%s=util.newBuffer(d%s)",d,d)("}")}else n("d%s=%j",d,u.typeDefault)}n("}")}var p=!1;for(l=0;l<t.length;++l){u=t[l];var f=e._fieldsArray.indexOf(u);d=s.safeProp(u.name),u.map?(p||(p=!0,n("var ks2")),n("if(m%s&&(ks2=Object.keys(m%s)).length){",d,d)("d%s={}",d)("for(var j=0;j<ks2.length;++j){"),a(n,u,f,d+"[ks2[j]]")("}")):u.repeated?(n("if(m%s&&m%s.length){",d,d)("d%s=[]",d)("for(var j=0;j<m%s.length;++j){",d),a(n,u,f,d+"[j]")("}")):(n("if(m%s!=null&&m.hasOwnProperty(%j)){",d,u.name),a(n,u,f,d),u.partOf&&n("if(o.oneofs)")("d%s=%j",s.safeProp(u.partOf.name),u.name)),n("}")}return n("return d")}},5305:(e,t,n)=>{"use strict";e.exports=function(e){var t=s.codegen(["r","l"],e.name+"$decode")("if(!(r instanceof Reader))")("r=Reader.create(r)")("var c=l===undefined?r.len:r.pos+l,m=new this.ctor"+(e.fieldsArray.filter((function(e){return e.map})).length?",k,value":""))("while(r.pos<c){")("var t=r.uint32()");e.group&&t("if((t&7)===4)")("break"),t("switch(t>>>3){");for(var n=0;n<e.fieldsArray.length;++n){var a=e._fieldsArray[n].resolve(),c=a.resolvedType instanceof r?"int32":a.type,l="m"+s.safeProp(a.name);t("case %i:",a.id),a.map?(t("if(%s===util.emptyObject)",l)("%s={}",l)("var c2 = r.uint32()+r.pos"),void 0!==i.defaults[a.keyType]?t("k=%j",i.defaults[a.keyType]):t("k=null"),void 0!==i.defaults[c]?t("value=%j",i.defaults[c]):t("value=null"),t("while(r.pos<c2){")("var tag2=r.uint32()")("switch(tag2>>>3){")("case 1: k=r.%s(); break",a.keyType)("case 2:"),void 0===i.basic[c]?t("value=types[%i].decode(r,r.uint32())",n):t("value=r.%s()",c),t("break")("default:")("r.skipType(tag2&7)")("break")("}")("}"),void 0!==i.long[a.keyType]?t('%s[typeof k==="object"?util.longToHash(k):k]=value',l):t("%s[k]=value",l)):a.repeated?(t("if(!(%s&&%s.length))",l,l)("%s=[]",l),void 0!==i.packed[c]&&t("if((t&7)===2){")("var c2=r.uint32()+r.pos")("while(r.pos<c2)")("%s.push(r.%s())",l,c)("}else"),void 0===i.basic[c]?t(a.resolvedType.group?"%s.push(types[%i].decode(r))":"%s.push(types[%i].decode(r,r.uint32()))",l,n):t("%s.push(r.%s())",l,c)):void 0===i.basic[c]?t(a.resolvedType.group?"%s=types[%i].decode(r)":"%s=types[%i].decode(r,r.uint32())",l,n):t("%s=r.%s()",l,c),t("break")}for(t("default:")("r.skipType(t&7)")("break")("}")("}"),n=0;n<e._fieldsArray.length;++n){var u=e._fieldsArray[n];u.required&&t("if(!m.hasOwnProperty(%j))",u.name)("throw util.ProtocolError(%j,{instance:m})",o(u))}return t("return m")};var r=n(7025),i=n(7063),s=n(9935);function o(e){return"missing required '"+e.name+"'"}},4928:(e,t,n)=>{"use strict";e.exports=function(e){for(var t,n=s.codegen(["m","w"],e.name+"$encode")("if(!w)")("w=Writer.create()"),a=e.fieldsArray.slice().sort(s.compareFieldsById),c=0;c<a.length;++c){var l=a[c].resolve(),u=e._fieldsArray.indexOf(l),d=l.resolvedType instanceof r?"int32":l.type,h=i.basic[d];t="m"+s.safeProp(l.name),l.map?(n("if(%s!=null&&Object.hasOwnProperty.call(m,%j)){",t,l.name)("for(var ks=Object.keys(%s),i=0;i<ks.length;++i){",t)("w.uint32(%i).fork().uint32(%i).%s(ks[i])",(l.id<<3|2)>>>0,8|i.mapKey[l.keyType],l.keyType),void 0===h?n("types[%i].encode(%s[ks[i]],w.uint32(18).fork()).ldelim().ldelim()",u,t):n(".uint32(%i).%s(%s[ks[i]]).ldelim()",16|h,d,t),n("}")("}")):l.repeated?(n("if(%s!=null&&%s.length){",t,t),l.packed&&void 0!==i.packed[d]?n("w.uint32(%i).fork()",(l.id<<3|2)>>>0)("for(var i=0;i<%s.length;++i)",t)("w.%s(%s[i])",d,t)("w.ldelim()"):(n("for(var i=0;i<%s.length;++i)",t),void 0===h?o(n,l,u,t+"[i]"):n("w.uint32(%i).%s(%s[i])",(l.id<<3|h)>>>0,d,t)),n("}")):(l.optional&&n("if(%s!=null&&Object.hasOwnProperty.call(m,%j))",t,l.name),void 0===h?o(n,l,u,t):n("w.uint32(%i).%s(%s)",(l.id<<3|h)>>>0,d,t))}return n("return w")};var r=n(7025),i=n(7063),s=n(9935);function o(e,t,n,r){return t.resolvedType.group?e("types[%i].encode(%s,w.uint32(%i)).uint32(%i)",n,r,(t.id<<3|3)>>>0,(t.id<<3|4)>>>0):e("types[%i].encode(%s,w.uint32(%i).fork()).ldelim()",n,r,(t.id<<3|2)>>>0)}},7025:(e,t,n)=>{"use strict";e.exports=o;var r=n(3243);((o.prototype=Object.create(r.prototype)).constructor=o).className="Enum";var i=n(9313),s=n(9935);function o(e,t,n,i,s){if(r.call(this,e,n),t&&"object"!=typeof t)throw TypeError("values must be an object");if(this.valuesById={},this.values=Object.create(this.valuesById),this.comment=i,this.comments=s||{},this.reserved=void 0,t)for(var o=Object.keys(t),a=0;a<o.length;++a)"number"==typeof t[o[a]]&&(this.valuesById[this.values[o[a]]=t[o[a]]]=o[a])}o.fromJSON=function(e,t){var n=new o(e,t.values,t.options,t.comment,t.comments);return n.reserved=t.reserved,n},o.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return s.toObject(["options",this.options,"values",this.values,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"comment",t?this.comment:void 0,"comments",t?this.comments:void 0])},o.prototype.add=function(e,t,n){if(!s.isString(e))throw TypeError("name must be a string");if(!s.isInteger(t))throw TypeError("id must be an integer");if(void 0!==this.values[e])throw Error("duplicate name '"+e+"' in "+this);if(this.isReservedId(t))throw Error("id "+t+" is reserved in "+this);if(this.isReservedName(e))throw Error("name '"+e+"' is reserved in "+this);if(void 0!==this.valuesById[t]){if(!this.options||!this.options.allow_alias)throw Error("duplicate id "+t+" in "+this);this.values[e]=t}else this.valuesById[this.values[e]=t]=e;return this.comments[e]=n||null,this},o.prototype.remove=function(e){if(!s.isString(e))throw TypeError("name must be a string");var t=this.values[e];if(null==t)throw Error("name '"+e+"' does not exist in "+this);return delete this.valuesById[t],delete this.values[e],delete this.comments[e],this},o.prototype.isReservedId=function(e){return i.isReservedId(this.reserved,e)},o.prototype.isReservedName=function(e){return i.isReservedName(this.reserved,e)}},3548:(e,t,n)=>{"use strict";e.exports=l;var r=n(3243);((l.prototype=Object.create(r.prototype)).constructor=l).className="Field";var i,s=n(7025),o=n(7063),a=n(9935),c=/^required|optional|repeated$/;function l(e,t,n,i,s,l,u){if(a.isObject(i)?(u=s,l=i,i=s=void 0):a.isObject(s)&&(u=l,l=s,s=void 0),r.call(this,e,l),!a.isInteger(t)||t<0)throw TypeError("id must be a non-negative integer");if(!a.isString(n))throw TypeError("type must be a string");if(void 0!==i&&!c.test(i=i.toString().toLowerCase()))throw TypeError("rule must be a string rule");if(void 0!==s&&!a.isString(s))throw TypeError("extend must be a string");"proto3_optional"===i&&(i="optional"),this.rule=i&&"optional"!==i?i:void 0,this.type=n,this.id=t,this.extend=s||void 0,this.required="required"===i,this.optional=!this.required,this.repeated="repeated"===i,this.map=!1,this.message=null,this.partOf=null,this.typeDefault=null,this.defaultValue=null,this.long=!!a.Long&&void 0!==o.long[n],this.bytes="bytes"===n,this.resolvedType=null,this.extensionField=null,this.declaringField=null,this._packed=null,this.comment=u}l.fromJSON=function(e,t){return new l(e,t.id,t.type,t.rule,t.extend,t.options,t.comment)},Object.defineProperty(l.prototype,"packed",{get:function(){return null===this._packed&&(this._packed=!1!==this.getOption("packed")),this._packed}}),l.prototype.setOption=function(e,t,n){return"packed"===e&&(this._packed=null),r.prototype.setOption.call(this,e,t,n)},l.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return a.toObject(["rule","optional"!==this.rule&&this.rule||void 0,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",t?this.comment:void 0])},l.prototype.resolve=function(){if(this.resolved)return this;if(void 0===(this.typeDefault=o.defaults[this.type])&&(this.resolvedType=(this.declaringField?this.declaringField.parent:this.parent).lookupTypeOrEnum(this.type),this.resolvedType instanceof i?this.typeDefault=null:this.typeDefault=this.resolvedType.values[Object.keys(this.resolvedType.values)[0]]),this.options&&null!=this.options.default&&(this.typeDefault=this.options.default,this.resolvedType instanceof s&&"string"==typeof this.typeDefault&&(this.typeDefault=this.resolvedType.values[this.typeDefault])),this.options&&(!0!==this.options.packed&&(void 0===this.options.packed||!this.resolvedType||this.resolvedType instanceof s)||delete this.options.packed,Object.keys(this.options).length||(this.options=void 0)),this.long)this.typeDefault=a.Long.fromNumber(this.typeDefault,"u"===this.type.charAt(0)),Object.freeze&&Object.freeze(this.typeDefault);else if(this.bytes&&"string"==typeof this.typeDefault){var e;a.base64.test(this.typeDefault)?a.base64.decode(this.typeDefault,e=a.newBuffer(a.base64.length(this.typeDefault)),0):a.utf8.write(this.typeDefault,e=a.newBuffer(a.utf8.length(this.typeDefault)),0),this.typeDefault=e}return this.map?this.defaultValue=a.emptyObject:this.repeated?this.defaultValue=a.emptyArray:this.defaultValue=this.typeDefault,this.parent instanceof i&&(this.parent.ctor.prototype[this.name]=this.defaultValue),r.prototype.resolve.call(this)},l.d=function(e,t,n,r){return"function"==typeof t?t=a.decorateType(t).name:t&&"object"==typeof t&&(t=a.decorateEnum(t).name),function(i,s){a.decorateType(i.constructor).add(new l(s,e,t,n,{default:r}))}},l._configure=function(e){i=e}},8836:(e,t,n)=>{"use strict";var r=e.exports=n(9482);r.build="light",r.load=function(e,t,n){return"function"==typeof t?(n=t,t=new r.Root):t||(t=new r.Root),t.load(e,n)},r.loadSync=function(e,t){return t||(t=new r.Root),t.loadSync(e)},r.encoder=n(4928),r.decoder=n(5305),r.verifier=n(4497),r.converter=n(3996),r.ReflectionObject=n(3243),r.Namespace=n(9313),r.Root=n(9424),r.Enum=n(7025),r.Type=n(7645),r.Field=n(3548),r.OneOf=n(7598),r.MapField=n(6039),r.Service=n(7513),r.Method=n(4429),r.Message=n(8368),r.wrappers=n(1667),r.types=n(7063),r.util=n(9935),r.ReflectionObject._configure(r.Root),r.Namespace._configure(r.Type,r.Service,r.Enum),r.Root._configure(r.Type),r.Field._configure(r.Type)},9482:(e,t,n)=>{"use strict";var r=t;function i(){r.util._configure(),r.Writer._configure(r.BufferWriter),r.Reader._configure(r.BufferReader)}r.build="minimal",r.Writer=n(1173),r.BufferWriter=n(3155),r.Reader=n(1408),r.BufferReader=n(593),r.util=n(9693),r.rpc=n(5994),r.roots=n(5054),r.configure=i,i()},9050:(e,t,n)=>{"use strict";var r=e.exports=n(8836);r.build="full",r.tokenize=n(626),r.parse=n(2228),r.common=n(2967),r.Root._configure(r.Type,r.parse,r.common)},6039:(e,t,n)=>{"use strict";e.exports=o;var r=n(3548);((o.prototype=Object.create(r.prototype)).constructor=o).className="MapField";var i=n(7063),s=n(9935);function o(e,t,n,i,o,a){if(r.call(this,e,t,i,void 0,void 0,o,a),!s.isString(n))throw TypeError("keyType must be a string");this.keyType=n,this.resolvedKeyType=null,this.map=!0}o.fromJSON=function(e,t){return new o(e,t.id,t.keyType,t.type,t.options,t.comment)},o.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return s.toObject(["keyType",this.keyType,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",t?this.comment:void 0])},o.prototype.resolve=function(){if(this.resolved)return this;if(void 0===i.mapKey[this.keyType])throw Error("invalid key type: "+this.keyType);return r.prototype.resolve.call(this)},o.d=function(e,t,n){return"function"==typeof n?n=s.decorateType(n).name:n&&"object"==typeof n&&(n=s.decorateEnum(n).name),function(r,i){s.decorateType(r.constructor).add(new o(i,e,t,n))}}},8368:(e,t,n)=>{"use strict";e.exports=i;var r=n(9693);function i(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)this[t[n]]=e[t[n]]}i.create=function(e){return this.$type.create(e)},i.encode=function(e,t){return this.$type.encode(e,t)},i.encodeDelimited=function(e,t){return this.$type.encodeDelimited(e,t)},i.decode=function(e){return this.$type.decode(e)},i.decodeDelimited=function(e){return this.$type.decodeDelimited(e)},i.verify=function(e){return this.$type.verify(e)},i.fromObject=function(e){return this.$type.fromObject(e)},i.toObject=function(e,t){return this.$type.toObject(e,t)},i.prototype.toJSON=function(){return this.$type.toObject(this,r.toJSONOptions)}},4429:(e,t,n)=>{"use strict";e.exports=s;var r=n(3243);((s.prototype=Object.create(r.prototype)).constructor=s).className="Method";var i=n(9935);function s(e,t,n,s,o,a,c,l,u){if(i.isObject(o)?(c=o,o=a=void 0):i.isObject(a)&&(c=a,a=void 0),void 0!==t&&!i.isString(t))throw TypeError("type must be a string");if(!i.isString(n))throw TypeError("requestType must be a string");if(!i.isString(s))throw TypeError("responseType must be a string");r.call(this,e,c),this.type=t||"rpc",this.requestType=n,this.requestStream=!!o||void 0,this.responseType=s,this.responseStream=!!a||void 0,this.resolvedRequestType=null,this.resolvedResponseType=null,this.comment=l,this.parsedOptions=u}s.fromJSON=function(e,t){return new s(e,t.type,t.requestType,t.responseType,t.requestStream,t.responseStream,t.options,t.comment,t.parsedOptions)},s.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return i.toObject(["type","rpc"!==this.type&&this.type||void 0,"requestType",this.requestType,"requestStream",this.requestStream,"responseType",this.responseType,"responseStream",this.responseStream,"options",this.options,"comment",t?this.comment:void 0,"parsedOptions",this.parsedOptions])},s.prototype.resolve=function(){return this.resolved?this:(this.resolvedRequestType=this.parent.lookupType(this.requestType),this.resolvedResponseType=this.parent.lookupType(this.responseType),r.prototype.resolve.call(this))}},9313:(e,t,n)=>{"use strict";e.exports=d;var r=n(3243);((d.prototype=Object.create(r.prototype)).constructor=d).className="Namespace";var i,s,o,a=n(3548),c=n(7598),l=n(9935);function u(e,t){if(e&&e.length){for(var n={},r=0;r<e.length;++r)n[e[r].name]=e[r].toJSON(t);return n}}function d(e,t){r.call(this,e,t),this.nested=void 0,this._nestedArray=null}function h(e){return e._nestedArray=null,e}d.fromJSON=function(e,t){return new d(e,t.options).addJSON(t.nested)},d.arrayToJSON=u,d.isReservedId=function(e,t){if(e)for(var n=0;n<e.length;++n)if("string"!=typeof e[n]&&e[n][0]<=t&&e[n][1]>t)return!0;return!1},d.isReservedName=function(e,t){if(e)for(var n=0;n<e.length;++n)if(e[n]===t)return!0;return!1},Object.defineProperty(d.prototype,"nestedArray",{get:function(){return this._nestedArray||(this._nestedArray=l.toArray(this.nested))}}),d.prototype.toJSON=function(e){return l.toObject(["options",this.options,"nested",u(this.nestedArray,e)])},d.prototype.addJSON=function(e){if(e)for(var t,n=Object.keys(e),r=0;r<n.length;++r)t=e[n[r]],this.add((void 0!==t.fields?i.fromJSON:void 0!==t.values?o.fromJSON:void 0!==t.methods?s.fromJSON:void 0!==t.id?a.fromJSON:d.fromJSON)(n[r],t));return this},d.prototype.get=function(e){return this.nested&&this.nested[e]||null},d.prototype.getEnum=function(e){if(this.nested&&this.nested[e]instanceof o)return this.nested[e].values;throw Error("no such enum: "+e)},d.prototype.add=function(e){if(!(e instanceof a&&void 0!==e.extend||e instanceof i||e instanceof o||e instanceof s||e instanceof d||e instanceof c))throw TypeError("object must be a valid nested object");if(this.nested){var t=this.get(e.name);if(t){if(!(t instanceof d&&e instanceof d)||t instanceof i||t instanceof s)throw Error("duplicate name '"+e.name+"' in "+this);for(var n=t.nestedArray,r=0;r<n.length;++r)e.add(n[r]);this.remove(t),this.nested||(this.nested={}),e.setOptions(t.options,!0)}}else this.nested={};return this.nested[e.name]=e,e.onAdd(this),h(this)},d.prototype.remove=function(e){if(!(e instanceof r))throw TypeError("object must be a ReflectionObject");if(e.parent!==this)throw Error(e+" is not a member of "+this);return delete this.nested[e.name],Object.keys(this.nested).length||(this.nested=void 0),e.onRemove(this),h(this)},d.prototype.define=function(e,t){if(l.isString(e))e=e.split(".");else if(!Array.isArray(e))throw TypeError("illegal path");if(e&&e.length&&""===e[0])throw Error("path must be relative");for(var n=this;e.length>0;){var r=e.shift();if(n.nested&&n.nested[r]){if(!((n=n.nested[r])instanceof d))throw Error("path conflicts with non-namespace objects")}else n.add(n=new d(r))}return t&&n.addJSON(t),n},d.prototype.resolveAll=function(){for(var e=this.nestedArray,t=0;t<e.length;)e[t]instanceof d?e[t++].resolveAll():e[t++].resolve();return this.resolve()},d.prototype.lookup=function(e,t,n){if("boolean"==typeof t?(n=t,t=void 0):t&&!Array.isArray(t)&&(t=[t]),l.isString(e)&&e.length){if("."===e)return this.root;e=e.split(".")}else if(!e.length)return this;if(""===e[0])return this.root.lookup(e.slice(1),t);var r=this.get(e[0]);if(r){if(1===e.length){if(!t||t.indexOf(r.constructor)>-1)return r}else if(r instanceof d&&(r=r.lookup(e.slice(1),t,!0)))return r}else for(var i=0;i<this.nestedArray.length;++i)if(this._nestedArray[i]instanceof d&&(r=this._nestedArray[i].lookup(e,t,!0)))return r;return null===this.parent||n?null:this.parent.lookup(e,t)},d.prototype.lookupType=function(e){var t=this.lookup(e,[i]);if(!t)throw Error("no such type: "+e);return t},d.prototype.lookupEnum=function(e){var t=this.lookup(e,[o]);if(!t)throw Error("no such Enum '"+e+"' in "+this);return t},d.prototype.lookupTypeOrEnum=function(e){var t=this.lookup(e,[i,o]);if(!t)throw Error("no such Type or Enum '"+e+"' in "+this);return t},d.prototype.lookupService=function(e){var t=this.lookup(e,[s]);if(!t)throw Error("no such Service '"+e+"' in "+this);return t},d._configure=function(e,t,n){i=e,s=t,o=n}},3243:(e,t,n)=>{"use strict";e.exports=s,s.className="ReflectionObject";var r,i=n(9935);function s(e,t){if(!i.isString(e))throw TypeError("name must be a string");if(t&&!i.isObject(t))throw TypeError("options must be an object");this.options=t,this.parsedOptions=null,this.name=e,this.parent=null,this.resolved=!1,this.comment=null,this.filename=null}Object.defineProperties(s.prototype,{root:{get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e}},fullName:{get:function(){for(var e=[this.name],t=this.parent;t;)e.unshift(t.name),t=t.parent;return e.join(".")}}}),s.prototype.toJSON=function(){throw Error()},s.prototype.onAdd=function(e){this.parent&&this.parent!==e&&this.parent.remove(this),this.parent=e,this.resolved=!1;var t=e.root;t instanceof r&&t._handleAdd(this)},s.prototype.onRemove=function(e){var t=e.root;t instanceof r&&t._handleRemove(this),this.parent=null,this.resolved=!1},s.prototype.resolve=function(){return this.resolved||this.root instanceof r&&(this.resolved=!0),this},s.prototype.getOption=function(e){if(this.options)return this.options[e]},s.prototype.setOption=function(e,t,n){return n&&this.options&&void 0!==this.options[e]||((this.options||(this.options={}))[e]=t),this},s.prototype.setParsedOption=function(e,t,n){this.parsedOptions||(this.parsedOptions=[]);var r=this.parsedOptions;if(n){var s=r.find((function(t){return Object.prototype.hasOwnProperty.call(t,e)}));if(s){var o=s[e];i.setProperty(o,n,t)}else(s={})[e]=i.setProperty({},n,t),r.push(s)}else{var a={};a[e]=t,r.push(a)}return this},s.prototype.setOptions=function(e,t){if(e)for(var n=Object.keys(e),r=0;r<n.length;++r)this.setOption(n[r],e[n[r]],t);return this},s.prototype.toString=function(){var e=this.constructor.className,t=this.fullName;return t.length?e+" "+t:e},s._configure=function(e){r=e}},7598:(e,t,n)=>{"use strict";e.exports=o;var r=n(3243);((o.prototype=Object.create(r.prototype)).constructor=o).className="OneOf";var i=n(3548),s=n(9935);function o(e,t,n,i){if(Array.isArray(t)||(n=t,t=void 0),r.call(this,e,n),void 0!==t&&!Array.isArray(t))throw TypeError("fieldNames must be an Array");this.oneof=t||[],this.fieldsArray=[],this.comment=i}function a(e){if(e.parent)for(var t=0;t<e.fieldsArray.length;++t)e.fieldsArray[t].parent||e.parent.add(e.fieldsArray[t])}o.fromJSON=function(e,t){return new o(e,t.oneof,t.options,t.comment)},o.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return s.toObject(["options",this.options,"oneof",this.oneof,"comment",t?this.comment:void 0])},o.prototype.add=function(e){if(!(e instanceof i))throw TypeError("field must be a Field");return e.parent&&e.parent!==this.parent&&e.parent.remove(e),this.oneof.push(e.name),this.fieldsArray.push(e),e.partOf=this,a(this),this},o.prototype.remove=function(e){if(!(e instanceof i))throw TypeError("field must be a Field");var t=this.fieldsArray.indexOf(e);if(t<0)throw Error(e+" is not a member of "+this);return this.fieldsArray.splice(t,1),(t=this.oneof.indexOf(e.name))>-1&&this.oneof.splice(t,1),e.partOf=null,this},o.prototype.onAdd=function(e){r.prototype.onAdd.call(this,e);for(var t=0;t<this.oneof.length;++t){var n=e.get(this.oneof[t]);n&&!n.partOf&&(n.partOf=this,this.fieldsArray.push(n))}a(this)},o.prototype.onRemove=function(e){for(var t,n=0;n<this.fieldsArray.length;++n)(t=this.fieldsArray[n]).parent&&t.parent.remove(t);r.prototype.onRemove.call(this,e)},o.d=function(){for(var e=new Array(arguments.length),t=0;t<arguments.length;)e[t]=arguments[t++];return function(t,n){s.decorateType(t.constructor).add(new o(n,e)),Object.defineProperty(t,n,{get:s.oneOfGetter(e),set:s.oneOfSetter(e)})}}},2228:(e,t,n)=>{"use strict";e.exports=C,C.filename=null,C.defaults={keepCase:!1};var r=n(626),i=n(9424),s=n(7645),o=n(3548),a=n(6039),c=n(7598),l=n(7025),u=n(7513),d=n(4429),h=n(7063),p=n(9935),f=/^[1-9][0-9]*$/,y=/^-?[1-9][0-9]*$/,g=/^0[x][0-9a-fA-F]+$/,m=/^-?0[x][0-9a-fA-F]+$/,v=/^0[0-7]+$/,S=/^-?0[0-7]+$/,b=/^(?![eE])[0-9]*(?:\.[0-9]*)?(?:[eE][+-]?[0-9]+)?$/,E=/^[a-zA-Z_][a-zA-Z_0-9]*$/,w=/^(?:\.?[a-zA-Z_][a-zA-Z_0-9]*)(?:\.[a-zA-Z_][a-zA-Z_0-9]*)*$/,_=/^(?:\.[a-zA-Z_][a-zA-Z_0-9]*)+$/;function C(e,t,n){t instanceof i||(n=t,t=new i),n||(n=C.defaults);var T,R,k,O,N,A=n.preferTrailingComment||!1,x=r(e,n.alternateCommentMode||!1),P=x.next,I=x.push,D=x.peek,L=x.skip,M=x.cmnt,j=!0,F=!1,B=t,U=n.keepCase?function(e){return e}:p.camelCase;function H(e,t,n){var r=C.filename;return n||(C.filename=null),Error("illegal "+(t||"token")+" '"+e+"' ("+(r?r+", ":"")+"line "+x.line+")")}function q(){var e,t=[];do{if('"'!==(e=P())&&"'"!==e)throw H(e);t.push(P()),L(e),e=D()}while('"'===e||"'"===e);return t.join("")}function $(e){var t=P();switch(t){case"'":case'"':return I(t),q();case"true":case"TRUE":return!0;case"false":case"FALSE":return!1}try{return function(e,t){var n=1;switch("-"===e.charAt(0)&&(n=-1,e=e.substring(1)),e){case"inf":case"INF":case"Inf":return n*(1/0);case"nan":case"NAN":case"Nan":case"NaN":return NaN;case"0":return 0}if(f.test(e))return n*parseInt(e,10);if(g.test(e))return n*parseInt(e,16);if(v.test(e))return n*parseInt(e,8);if(b.test(e))return n*parseFloat(e);throw H(e,"number",!0)}(t)}catch(n){if(e&&w.test(t))return t;throw H(t,"value")}}function W(e,t){var n,r;do{!t||'"'!==(n=D())&&"'"!==n?e.push([r=z(P()),L("to",!0)?z(P()):r]):e.push(q())}while(L(",",!0));L(";")}function z(e,t){switch(e){case"max":case"MAX":case"Max":return 536870911;case"0":return 0}if(!t&&"-"===e.charAt(0))throw H(e,"id");if(y.test(e))return parseInt(e,10);if(m.test(e))return parseInt(e,16);if(S.test(e))return parseInt(e,8);throw H(e,"id")}function G(){if(void 0!==T)throw H("package");if(T=P(),!w.test(T))throw H(T,"name");B=B.define(T),L(";")}function V(){var e,t=D();switch(t){case"weak":e=k||(k=[]),P();break;case"public":P();default:e=R||(R=[])}t=q(),L(";"),e.push(t)}function J(){if(L("="),O=q(),!(F="proto3"===O)&&"proto2"!==O)throw H(O,"syntax");L(";")}function Y(e,t){switch(t){case"option":return Q(e,t),L(";"),!0;case"message":return function(e,t){if(!E.test(t=P()))throw H(t,"type name");var n=new s(t);K(n,(function(e){if(!Y(n,e))switch(e){case"map":!function(e){L("<");var t=P();if(void 0===h.mapKey[t])throw H(t,"type");L(",");var n=P();if(!w.test(n))throw H(n,"type");L(">");var r=P();if(!E.test(r))throw H(r,"name");L("=");var i=new a(U(r),z(P()),t,n);K(i,(function(e){if("option"!==e)throw H(e);Q(i,e),L(";")}),(function(){te(i)})),e.add(i)}(n);break;case"required":case"repeated":X(n,e);break;case"optional":X(n,F?"proto3_optional":"optional");break;case"oneof":!function(e,t){if(!E.test(t=P()))throw H(t,"name");var n=new c(U(t));K(n,(function(e){"option"===e?(Q(n,e),L(";")):(I(e),X(n,"optional"))})),e.add(n)}(n,e);break;case"extensions":W(n.extensions||(n.extensions=[]));break;case"reserved":W(n.reserved||(n.reserved=[]),!0);break;default:if(!F||!w.test(e))throw H(e);I(e),X(n,"optional")}})),e.add(n)}(e,t),!0;case"enum":return function(e,t){if(!E.test(t=P()))throw H(t,"name");var n=new l(t);K(n,(function(e){switch(e){case"option":Q(n,e),L(";");break;case"reserved":W(n.reserved||(n.reserved=[]),!0);break;default:!function(e,t){if(!E.test(t))throw H(t,"name");L("=");var n=z(P(),!0),r={};K(r,(function(e){if("option"!==e)throw H(e);Q(r,e),L(";")}),(function(){te(r)})),e.add(t,n,r.comment)}(n,e)}})),e.add(n)}(e,t),!0;case"service":return function(e,t){if(!E.test(t=P()))throw H(t,"service name");var n=new u(t);K(n,(function(e){if(!Y(n,e)){if("rpc"!==e)throw H(e);!function(e,t){var n=M(),r=t;if(!E.test(t=P()))throw H(t,"name");var i,s,o,a,c=t;if(L("("),L("stream",!0)&&(s=!0),!w.test(t=P()))throw H(t);if(i=t,L(")"),L("returns"),L("("),L("stream",!0)&&(a=!0),!w.test(t=P()))throw H(t);o=t,L(")");var l=new d(c,r,i,o,s,a);l.comment=n,K(l,(function(e){if("option"!==e)throw H(e);Q(l,e),L(";")})),e.add(l)}(n,e)}})),e.add(n)}(e,t),!0;case"extend":return function(e,t){if(!w.test(t=P()))throw H(t,"reference");var n=t;K(null,(function(t){switch(t){case"required":case"repeated":X(e,t,n);break;case"optional":X(e,F?"proto3_optional":"optional",n);break;default:if(!F||!w.test(t))throw H(t);I(t),X(e,"optional",n)}}))}(e,t),!0}return!1}function K(e,t,n){var r=x.line;if(e&&("string"!=typeof e.comment&&(e.comment=M()),e.filename=C.filename),L("{",!0)){for(var i;"}"!==(i=P());)t(i);L(";",!0)}else n&&n(),L(";"),e&&("string"!=typeof e.comment||A)&&(e.comment=M(r)||e.comment)}function X(e,t,n){var r=P();if("group"!==r){if(!w.test(r))throw H(r,"type");var i=P();if(!E.test(i))throw H(i,"name");i=U(i),L("=");var a=new o(i,z(P()),r,t,n);if(K(a,(function(e){if("option"!==e)throw H(e);Q(a,e),L(";")}),(function(){te(a)})),"proto3_optional"===t){var l=new c("_"+i);a.setOption("proto3_optional",!0),l.add(a),e.add(l)}else e.add(a);F||!a.repeated||void 0===h.packed[r]&&void 0!==h.basic[r]||a.setOption("packed",!1,!0)}else!function(e,t){var n=P();if(!E.test(n))throw H(n,"name");var r=p.lcFirst(n);n===r&&(n=p.ucFirst(n)),L("=");var i=z(P()),a=new s(n);a.group=!0;var c=new o(r,i,n,t);c.filename=C.filename,K(a,(function(e){switch(e){case"option":Q(a,e),L(";");break;case"required":case"repeated":X(a,e);break;case"optional":X(a,F?"proto3_optional":"optional");break;default:throw H(e)}})),e.add(a).add(c)}(e,t)}function Q(e,t){var n=L("(",!0);if(!w.test(t=P()))throw H(t,"name");var r,i=t,s=i;n&&(L(")"),s=i="("+i+")",t=D(),_.test(t)&&(r=t.substr(1),i+=t,P())),L("="),function(e,t,n,r){e.setParsedOption&&e.setParsedOption(t,n,r)}(e,s,Z(e,i),r)}function Z(e,t){if(L("{",!0)){for(var n={};!L("}",!0);){if(!E.test(N=P()))throw H(N,"name");var r,i=N;"{"===D()?r=Z(e,t+"."+N):(L(":"),"{"===D()?r=Z(e,t+"."+N):(r=$(!0),ee(e,t+"."+N,r)));var s=n[i];s&&(r=[].concat(s).concat(r)),n[i]=r,L(",",!0)}return n}var o=$(!0);return ee(e,t,o),o}function ee(e,t,n){e.setOption&&e.setOption(t,n)}function te(e){if(L("[",!0)){do{Q(e,"option")}while(L(",",!0));L("]")}return e}for(;null!==(N=P());)switch(N){case"package":if(!j)throw H(N);G();break;case"import":if(!j)throw H(N);V();break;case"syntax":if(!j)throw H(N);J();break;case"option":Q(B,N),L(";");break;default:if(Y(B,N)){j=!1;continue}throw H(N)}return C.filename=null,{package:T,imports:R,weakImports:k,syntax:O,root:t}}},1408:(e,t,n)=>{"use strict";e.exports=c;var r,i=n(9693),s=i.LongBits,o=i.utf8;function a(e,t){return RangeError("index out of range: "+e.pos+" + "+(t||1)+" > "+e.len)}function c(e){this.buf=e,this.pos=0,this.len=e.length}var l,u="undefined"!=typeof Uint8Array?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new c(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new c(e);throw Error("illegal buffer")},d=function(){return i.Buffer?function(e){return(c.create=function(e){return i.Buffer.isBuffer(e)?new r(e):u(e)})(e)}:u};function h(){var e=new s(0,0),t=0;if(!(this.len-this.pos>4)){for(;t<3;++t){if(this.pos>=this.len)throw a(this);if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e}return e.lo=(e.lo|(127&this.buf[this.pos++])<<7*t)>>>0,e}for(;t<4;++t)if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e;if(e.lo=(e.lo|(127&this.buf[this.pos])<<28)>>>0,e.hi=(e.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return e;if(t=0,this.len-this.pos>4){for(;t<5;++t)if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}else for(;t<5;++t){if(this.pos>=this.len)throw a(this);if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}throw Error("invalid varint encoding")}function p(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0}function f(){if(this.pos+8>this.len)throw a(this,8);return new s(p(this.buf,this.pos+=4),p(this.buf,this.pos+=4))}c.create=d(),c.prototype._slice=i.Array.prototype.subarray||i.Array.prototype.slice,c.prototype.uint32=(l=4294967295,function(){if(l=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128)return l;if(l=(l|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)return l;if(l=(l|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)return l;if(l=(l|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)return l;if(l=(l|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)return l;if((this.pos+=5)>this.len)throw this.pos=this.len,a(this,10);return l}),c.prototype.int32=function(){return 0|this.uint32()},c.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(1&e)|0},c.prototype.bool=function(){return 0!==this.uint32()},c.prototype.fixed32=function(){if(this.pos+4>this.len)throw a(this,4);return p(this.buf,this.pos+=4)},c.prototype.sfixed32=function(){if(this.pos+4>this.len)throw a(this,4);return 0|p(this.buf,this.pos+=4)},c.prototype.float=function(){if(this.pos+4>this.len)throw a(this,4);var e=i.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e},c.prototype.double=function(){if(this.pos+8>this.len)throw a(this,4);var e=i.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e},c.prototype.bytes=function(){var e=this.uint32(),t=this.pos,n=this.pos+e;if(n>this.len)throw a(this,e);return this.pos+=e,Array.isArray(this.buf)?this.buf.slice(t,n):t===n?new this.buf.constructor(0):this._slice.call(this.buf,t,n)},c.prototype.string=function(){var e=this.bytes();return o.read(e,0,e.length)},c.prototype.skip=function(e){if("number"==typeof e){if(this.pos+e>this.len)throw a(this,e);this.pos+=e}else do{if(this.pos>=this.len)throw a(this)}while(128&this.buf[this.pos++]);return this},c.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(e=7&this.uint32());)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this},c._configure=function(e){r=e,c.create=d(),r._configure();var t=i.Long?"toLong":"toNumber";i.merge(c.prototype,{int64:function(){return h.call(this)[t](!1)},uint64:function(){return h.call(this)[t](!0)},sint64:function(){return h.call(this).zzDecode()[t](!1)},fixed64:function(){return f.call(this)[t](!0)},sfixed64:function(){return f.call(this)[t](!1)}})}},593:(e,t,n)=>{"use strict";e.exports=s;var r=n(1408);(s.prototype=Object.create(r.prototype)).constructor=s;var i=n(9693);function s(e){r.call(this,e)}s._configure=function(){i.Buffer&&(s.prototype._slice=i.Buffer.prototype.slice)},s.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))},s._configure()},9424:(e,t,n)=>{"use strict";e.exports=d;var r=n(9313);((d.prototype=Object.create(r.prototype)).constructor=d).className="Root";var i,s,o,a=n(3548),c=n(7025),l=n(7598),u=n(9935);function d(e){r.call(this,"",e),this.deferred=[],this.files=[]}function h(){}d.fromJSON=function(e,t){return t||(t=new d),e.options&&t.setOptions(e.options),t.addJSON(e.nested)},d.prototype.resolvePath=u.path.resolve,d.prototype.fetch=u.fetch,d.prototype.load=function e(t,n,r){"function"==typeof n&&(r=n,n=void 0);var i=this;if(!r)return u.asPromise(e,i,t,n);var a=r===h;function c(e,t){if(r){var n=r;if(r=null,a)throw e;n(e,t)}}function l(e){var t=e.lastIndexOf("google/protobuf/");if(t>-1){var n=e.substring(t);if(n in o)return n}return null}function d(e,t){try{if(u.isString(t)&&"{"===t.charAt(0)&&(t=JSON.parse(t)),u.isString(t)){s.filename=e;var r,o=s(t,i,n),d=0;if(o.imports)for(;d<o.imports.length;++d)(r=l(o.imports[d])||i.resolvePath(e,o.imports[d]))&&p(r);if(o.weakImports)for(d=0;d<o.weakImports.length;++d)(r=l(o.weakImports[d])||i.resolvePath(e,o.weakImports[d]))&&p(r,!0)}else i.setOptions(t.options).addJSON(t.nested)}catch(e){c(e)}a||f||c(null,i)}function p(e,t){if(!(i.files.indexOf(e)>-1))if(i.files.push(e),e in o)a?d(e,o[e]):(++f,setTimeout((function(){--f,d(e,o[e])})));else if(a){var n;try{n=u.fs.readFileSync(e).toString("utf8")}catch(e){return void(t||c(e))}d(e,n)}else++f,i.fetch(e,(function(n,s){--f,r&&(n?t?f||c(null,i):c(n):d(e,s))}))}var f=0;u.isString(t)&&(t=[t]);for(var y,g=0;g<t.length;++g)(y=i.resolvePath("",t[g]))&&p(y);if(a)return i;f||c(null,i)},d.prototype.loadSync=function(e,t){if(!u.isNode)throw Error("not supported");return this.load(e,t,h)},d.prototype.resolveAll=function(){if(this.deferred.length)throw Error("unresolvable extensions: "+this.deferred.map((function(e){return"'extend "+e.extend+"' in "+e.parent.fullName})).join(", "));return r.prototype.resolveAll.call(this)};var p=/^[A-Z]/;function f(e,t){var n=t.parent.lookup(t.extend);if(n){var r=new a(t.fullName,t.id,t.type,t.rule,void 0,t.options);return r.declaringField=t,t.extensionField=r,n.add(r),!0}return!1}d.prototype._handleAdd=function(e){if(e instanceof a)void 0===e.extend||e.extensionField||f(0,e)||this.deferred.push(e);else if(e instanceof c)p.test(e.name)&&(e.parent[e.name]=e.values);else if(!(e instanceof l)){if(e instanceof i)for(var t=0;t<this.deferred.length;)f(0,this.deferred[t])?this.deferred.splice(t,1):++t;for(var n=0;n<e.nestedArray.length;++n)this._handleAdd(e._nestedArray[n]);p.test(e.name)&&(e.parent[e.name]=e)}},d.prototype._handleRemove=function(e){if(e instanceof a){if(void 0!==e.extend)if(e.extensionField)e.extensionField.parent.remove(e.extensionField),e.extensionField=null;else{var t=this.deferred.indexOf(e);t>-1&&this.deferred.splice(t,1)}}else if(e instanceof c)p.test(e.name)&&delete e.parent[e.name];else if(e instanceof r){for(var n=0;n<e.nestedArray.length;++n)this._handleRemove(e._nestedArray[n]);p.test(e.name)&&delete e.parent[e.name]}},d._configure=function(e,t,n){i=e,s=t,o=n}},5054:e=>{"use strict";e.exports={}},5994:(e,t,n)=>{"use strict";t.Service=n(7948)},7948:(e,t,n)=>{"use strict";e.exports=i;var r=n(9693);function i(e,t,n){if("function"!=typeof e)throw TypeError("rpcImpl must be a function");r.EventEmitter.call(this),this.rpcImpl=e,this.requestDelimited=Boolean(t),this.responseDelimited=Boolean(n)}(i.prototype=Object.create(r.EventEmitter.prototype)).constructor=i,i.prototype.rpcCall=function e(t,n,i,s,o){if(!s)throw TypeError("request must be specified");var a=this;if(!o)return r.asPromise(e,a,t,n,i,s);if(a.rpcImpl)try{return a.rpcImpl(t,n[a.requestDelimited?"encodeDelimited":"encode"](s).finish(),(function(e,n){if(e)return a.emit("error",e,t),o(e);if(null!==n){if(!(n instanceof i))try{n=i[a.responseDelimited?"decodeDelimited":"decode"](n)}catch(e){return a.emit("error",e,t),o(e)}return a.emit("data",n,t),o(null,n)}a.end(!0)}))}catch(e){return a.emit("error",e,t),void setTimeout((function(){o(e)}),0)}else setTimeout((function(){o(Error("already ended"))}),0)},i.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},7513:(e,t,n)=>{"use strict";e.exports=a;var r=n(9313);((a.prototype=Object.create(r.prototype)).constructor=a).className="Service";var i=n(4429),s=n(9935),o=n(5994);function a(e,t){r.call(this,e,t),this.methods={},this._methodsArray=null}function c(e){return e._methodsArray=null,e}a.fromJSON=function(e,t){var n=new a(e,t.options);if(t.methods)for(var r=Object.keys(t.methods),s=0;s<r.length;++s)n.add(i.fromJSON(r[s],t.methods[r[s]]));return t.nested&&n.addJSON(t.nested),n.comment=t.comment,n},a.prototype.toJSON=function(e){var t=r.prototype.toJSON.call(this,e),n=!!e&&Boolean(e.keepComments);return s.toObject(["options",t&&t.options||void 0,"methods",r.arrayToJSON(this.methodsArray,e)||{},"nested",t&&t.nested||void 0,"comment",n?this.comment:void 0])},Object.defineProperty(a.prototype,"methodsArray",{get:function(){return this._methodsArray||(this._methodsArray=s.toArray(this.methods))}}),a.prototype.get=function(e){return this.methods[e]||r.prototype.get.call(this,e)},a.prototype.resolveAll=function(){for(var e=this.methodsArray,t=0;t<e.length;++t)e[t].resolve();return r.prototype.resolve.call(this)},a.prototype.add=function(e){if(this.get(e.name))throw Error("duplicate name '"+e.name+"' in "+this);return e instanceof i?(this.methods[e.name]=e,e.parent=this,c(this)):r.prototype.add.call(this,e)},a.prototype.remove=function(e){if(e instanceof i){if(this.methods[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.methods[e.name],e.parent=null,c(this)}return r.prototype.remove.call(this,e)},a.prototype.create=function(e,t,n){for(var r,i=new o.Service(e,t,n),a=0;a<this.methodsArray.length;++a){var c=s.lcFirst((r=this._methodsArray[a]).resolve().name).replace(/[^$\w_]/g,"");i[c]=s.codegen(["r","c"],s.isReserved(c)?c+"_":c)("return this.rpcCall(m,q,s,r,c)")({m:r,q:r.resolvedRequestType.ctor,s:r.resolvedResponseType.ctor})}return i}},626:e=>{"use strict";e.exports=d;var t=/[\s{}=;:[\],'"()<>]/g,n=/(?:"([^"\\]*(?:\\.[^"\\]*)*)")/g,r=/(?:'([^'\\]*(?:\\.[^'\\]*)*)')/g,i=/^ *[*/]+ */,s=/^\s*\*?\/*/,o=/\n/g,a=/\s/,c=/\\(.?)/g,l={0:"\0",r:"\r",n:"\n",t:"\t"};function u(e){return e.replace(c,(function(e,t){switch(t){case"\\":case"":return t;default:return l[t]||""}}))}function d(e,c){e=e.toString();var l=0,d=e.length,h=1,p=null,f=null,y=0,g=!1,m=!1,v=[],S=null;function b(e){return Error("illegal "+e+" (line "+h+")")}function E(t){return e.charAt(t)}function w(t,n,r){p=e.charAt(t++),y=h,g=!1,m=r;var a,l=t-(c?2:3);do{if(--l<0||"\n"===(a=e.charAt(l))){g=!0;break}}while(" "===a||"\t"===a);for(var u=e.substring(t,n).split(o),d=0;d<u.length;++d)u[d]=u[d].replace(c?s:i,"").trim();f=u.join("\n").trim()}function _(t){var n=C(t),r=e.substring(t,n);return/^\s*\/{1,2}/.test(r)}function C(e){for(var t=e;t<d&&"\n"!==E(t);)t++;return t}function T(){if(v.length>0)return v.shift();if(S)return function(){var t="'"===S?r:n;t.lastIndex=l-1;var i=t.exec(e);if(!i)throw b("string");return l=t.lastIndex,R(S),S=null,u(i[1])}();var i,s,o,p,f,y=0===l;do{if(l===d)return null;for(i=!1;a.test(o=E(l));)if("\n"===o&&(y=!0,++h),++l===d)return null;if("/"===E(l)){if(++l===d)throw b("comment");if("/"===E(l))if(c){if(p=l,f=!1,_(l)){f=!0;do{if((l=C(l))===d)break;l++}while(_(l))}else l=Math.min(d,C(l)+1);f&&w(p,l,y),h++,i=!0}else{for(f="/"===E(p=l+1);"\n"!==E(++l);)if(l===d)return null;++l,f&&w(p,l-1,y),++h,i=!0}else{if("*"!==(o=E(l)))return"/";p=l+1,f=c||"*"===E(p);do{if("\n"===o&&++h,++l===d)throw b("comment");s=o,o=E(l)}while("*"!==s||"/"!==o);++l,f&&w(p,l-2,y),i=!0}}}while(i);var g=l;if(t.lastIndex=0,!t.test(E(g++)))for(;g<d&&!t.test(E(g));)++g;var m=e.substring(l,l=g);return'"'!==m&&"'"!==m||(S=m),m}function R(e){v.push(e)}function k(){if(!v.length){var e=T();if(null===e)return null;R(e)}return v[0]}return Object.defineProperty({next:T,peek:k,push:R,skip:function(e,t){var n=k();if(n===e)return T(),!0;if(!t)throw b("token '"+n+"', '"+e+"' expected");return!1},cmnt:function(e){var t=null;return void 0===e?y===h-1&&(c||"*"===p||g)&&(t=m?f:null):(y<e&&k(),y!==e||g||!c&&"/"!==p||(t=m?null:f)),t}},"line",{get:function(){return h}})}d.unescape=u},7645:(e,t,n)=>{"use strict";e.exports=v;var r=n(9313);((v.prototype=Object.create(r.prototype)).constructor=v).className="Type";var i=n(7025),s=n(7598),o=n(3548),a=n(6039),c=n(7513),l=n(8368),u=n(1408),d=n(1173),h=n(9935),p=n(4928),f=n(5305),y=n(4497),g=n(3996),m=n(1667);function v(e,t){r.call(this,e,t),this.fields={},this.oneofs=void 0,this.extensions=void 0,this.reserved=void 0,this.group=void 0,this._fieldsById=null,this._fieldsArray=null,this._oneofsArray=null,this._ctor=null}function S(e){return e._fieldsById=e._fieldsArray=e._oneofsArray=null,delete e.encode,delete e.decode,delete e.verify,e}Object.defineProperties(v.prototype,{fieldsById:{get:function(){if(this._fieldsById)return this._fieldsById;this._fieldsById={};for(var e=Object.keys(this.fields),t=0;t<e.length;++t){var n=this.fields[e[t]],r=n.id;if(this._fieldsById[r])throw Error("duplicate id "+r+" in "+this);this._fieldsById[r]=n}return this._fieldsById}},fieldsArray:{get:function(){return this._fieldsArray||(this._fieldsArray=h.toArray(this.fields))}},oneofsArray:{get:function(){return this._oneofsArray||(this._oneofsArray=h.toArray(this.oneofs))}},ctor:{get:function(){return this._ctor||(this.ctor=v.generateConstructor(this)())},set:function(e){var t=e.prototype;t instanceof l||((e.prototype=new l).constructor=e,h.merge(e.prototype,t)),e.$type=e.prototype.$type=this,h.merge(e,l,!0),this._ctor=e;for(var n=0;n<this.fieldsArray.length;++n)this._fieldsArray[n].resolve();var r={};for(n=0;n<this.oneofsArray.length;++n)r[this._oneofsArray[n].resolve().name]={get:h.oneOfGetter(this._oneofsArray[n].oneof),set:h.oneOfSetter(this._oneofsArray[n].oneof)};n&&Object.defineProperties(e.prototype,r)}}}),v.generateConstructor=function(e){for(var t,n=h.codegen(["p"],e.name),r=0;r<e.fieldsArray.length;++r)(t=e._fieldsArray[r]).map?n("this%s={}",h.safeProp(t.name)):t.repeated&&n("this%s=[]",h.safeProp(t.name));return n("if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)")("this[ks[i]]=p[ks[i]]")},v.fromJSON=function(e,t){var n=new v(e,t.options);n.extensions=t.extensions,n.reserved=t.reserved;for(var l=Object.keys(t.fields),u=0;u<l.length;++u)n.add((void 0!==t.fields[l[u]].keyType?a.fromJSON:o.fromJSON)(l[u],t.fields[l[u]]));if(t.oneofs)for(l=Object.keys(t.oneofs),u=0;u<l.length;++u)n.add(s.fromJSON(l[u],t.oneofs[l[u]]));if(t.nested)for(l=Object.keys(t.nested),u=0;u<l.length;++u){var d=t.nested[l[u]];n.add((void 0!==d.id?o.fromJSON:void 0!==d.fields?v.fromJSON:void 0!==d.values?i.fromJSON:void 0!==d.methods?c.fromJSON:r.fromJSON)(l[u],d))}return t.extensions&&t.extensions.length&&(n.extensions=t.extensions),t.reserved&&t.reserved.length&&(n.reserved=t.reserved),t.group&&(n.group=!0),t.comment&&(n.comment=t.comment),n},v.prototype.toJSON=function(e){var t=r.prototype.toJSON.call(this,e),n=!!e&&Boolean(e.keepComments);return h.toObject(["options",t&&t.options||void 0,"oneofs",r.arrayToJSON(this.oneofsArray,e),"fields",r.arrayToJSON(this.fieldsArray.filter((function(e){return!e.declaringField})),e)||{},"extensions",this.extensions&&this.extensions.length?this.extensions:void 0,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"group",this.group||void 0,"nested",t&&t.nested||void 0,"comment",n?this.comment:void 0])},v.prototype.resolveAll=function(){for(var e=this.fieldsArray,t=0;t<e.length;)e[t++].resolve();var n=this.oneofsArray;for(t=0;t<n.length;)n[t++].resolve();return r.prototype.resolveAll.call(this)},v.prototype.get=function(e){return this.fields[e]||this.oneofs&&this.oneofs[e]||this.nested&&this.nested[e]||null},v.prototype.add=function(e){if(this.get(e.name))throw Error("duplicate name '"+e.name+"' in "+this);if(e instanceof o&&void 0===e.extend){if(this._fieldsById?this._fieldsById[e.id]:this.fieldsById[e.id])throw Error("duplicate id "+e.id+" in "+this);if(this.isReservedId(e.id))throw Error("id "+e.id+" is reserved in "+this);if(this.isReservedName(e.name))throw Error("name '"+e.name+"' is reserved in "+this);return e.parent&&e.parent.remove(e),this.fields[e.name]=e,e.message=this,e.onAdd(this),S(this)}return e instanceof s?(this.oneofs||(this.oneofs={}),this.oneofs[e.name]=e,e.onAdd(this),S(this)):r.prototype.add.call(this,e)},v.prototype.remove=function(e){if(e instanceof o&&void 0===e.extend){if(!this.fields||this.fields[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.fields[e.name],e.parent=null,e.onRemove(this),S(this)}if(e instanceof s){if(!this.oneofs||this.oneofs[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.oneofs[e.name],e.parent=null,e.onRemove(this),S(this)}return r.prototype.remove.call(this,e)},v.prototype.isReservedId=function(e){return r.isReservedId(this.reserved,e)},v.prototype.isReservedName=function(e){return r.isReservedName(this.reserved,e)},v.prototype.create=function(e){return new this.ctor(e)},v.prototype.setup=function(){for(var e=this.fullName,t=[],n=0;n<this.fieldsArray.length;++n)t.push(this._fieldsArray[n].resolve().resolvedType);this.encode=p(this)({Writer:d,types:t,util:h}),this.decode=f(this)({Reader:u,types:t,util:h}),this.verify=y(this)({types:t,util:h}),this.fromObject=g.fromObject(this)({types:t,util:h}),this.toObject=g.toObject(this)({types:t,util:h});var r=m[e];if(r){var i=Object.create(this);i.fromObject=this.fromObject,this.fromObject=r.fromObject.bind(i),i.toObject=this.toObject,this.toObject=r.toObject.bind(i)}return this},v.prototype.encode=function(e,t){return this.setup().encode(e,t)},v.prototype.encodeDelimited=function(e,t){return this.encode(e,t&&t.len?t.fork():t).ldelim()},v.prototype.decode=function(e,t){return this.setup().decode(e,t)},v.prototype.decodeDelimited=function(e){return e instanceof u||(e=u.create(e)),this.decode(e,e.uint32())},v.prototype.verify=function(e){return this.setup().verify(e)},v.prototype.fromObject=function(e){return this.setup().fromObject(e)},v.prototype.toObject=function(e,t){return this.setup().toObject(e,t)},v.d=function(e){return function(t){h.decorateType(t,e)}}},7063:(e,t,n)=>{"use strict";var r=t,i=n(9935),s=["double","float","int32","uint32","sint32","fixed32","sfixed32","int64","uint64","sint64","fixed64","sfixed64","bool","string","bytes"];function o(e,t){var n=0,r={};for(t|=0;n<e.length;)r[s[n+t]]=e[n++];return r}r.basic=o([1,5,0,0,0,5,5,0,0,0,1,1,0,2,2]),r.defaults=o([0,0,0,0,0,0,0,0,0,0,0,0,!1,"",i.emptyArray,null]),r.long=o([0,0,0,1,1],7),r.mapKey=o([0,0,0,5,5,0,0,0,1,1,0,2],2),r.packed=o([1,5,0,0,0,5,5,0,0,0,1,1,0])},9935:(e,t,n)=>{"use strict";var r,i,s=e.exports=n(9693),o=n(5054);s.codegen=n(5124),s.fetch=n(9054),s.path=n(8626),s.fs=s.inquire("fs"),s.toArray=function(e){if(e){for(var t=Object.keys(e),n=new Array(t.length),r=0;r<t.length;)n[r]=e[t[r++]];return n}return[]},s.toObject=function(e){for(var t={},n=0;n<e.length;){var r=e[n++],i=e[n++];void 0!==i&&(t[r]=i)}return t};var a=/\\/g,c=/"/g;s.isReserved=function(e){return/^(?:do|if|in|for|let|new|try|var|case|else|enum|eval|false|null|this|true|void|with|break|catch|class|const|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|default|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof)$/.test(e)},s.safeProp=function(e){return!/^[$\w_]+$/.test(e)||s.isReserved(e)?'["'+e.replace(a,"\\\\").replace(c,'\\"')+'"]':"."+e},s.ucFirst=function(e){return e.charAt(0).toUpperCase()+e.substring(1)};var l=/_([a-z])/g;s.camelCase=function(e){return e.substring(0,1)+e.substring(1).replace(l,(function(e,t){return t.toUpperCase()}))},s.compareFieldsById=function(e,t){return e.id-t.id},s.decorateType=function(e,t){if(e.$type)return t&&e.$type.name!==t&&(s.decorateRoot.remove(e.$type),e.$type.name=t,s.decorateRoot.add(e.$type)),e.$type;r||(r=n(7645));var i=new r(t||e.name);return s.decorateRoot.add(i),i.ctor=e,Object.defineProperty(e,"$type",{value:i,enumerable:!1}),Object.defineProperty(e.prototype,"$type",{value:i,enumerable:!1}),i};var u=0;s.decorateEnum=function(e){if(e.$type)return e.$type;i||(i=n(7025));var t=new i("Enum"+u++,e);return s.decorateRoot.add(t),Object.defineProperty(e,"$type",{value:t,enumerable:!1}),t},s.setProperty=function(e,t,n){if("object"!=typeof e)throw TypeError("dst must be an object");if(!t)throw TypeError("path must be specified");return function e(t,n,r){var i=n.shift();if("__proto__"===i)return t;if(n.length>0)t[i]=e(t[i]||{},n,r);else{var s=t[i];s&&(r=[].concat(s).concat(r)),t[i]=r}return t}(e,t=t.split("."),n)},Object.defineProperty(s,"decorateRoot",{get:function(){return o.decorated||(o.decorated=new(n(9424)))}})},1945:(e,t,n)=>{"use strict";e.exports=i;var r=n(9693);function i(e,t){this.lo=e>>>0,this.hi=t>>>0}var s=i.zero=new i(0,0);s.toNumber=function(){return 0},s.zzEncode=s.zzDecode=function(){return this},s.length=function(){return 1};var o=i.zeroHash="\0\0\0\0\0\0\0\0";i.fromNumber=function(e){if(0===e)return s;var t=e<0;t&&(e=-e);var n=e>>>0,r=(e-n)/4294967296>>>0;return t&&(r=~r>>>0,n=~n>>>0,++n>4294967295&&(n=0,++r>4294967295&&(r=0))),new i(n,r)},i.from=function(e){if("number"==typeof e)return i.fromNumber(e);if(r.isString(e)){if(!r.Long)return i.fromNumber(parseInt(e,10));e=r.Long.fromString(e)}return e.low||e.high?new i(e.low>>>0,e.high>>>0):s},i.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var t=1+~this.lo>>>0,n=~this.hi>>>0;return t||(n=n+1>>>0),-(t+4294967296*n)}return this.lo+4294967296*this.hi},i.prototype.toLong=function(e){return r.Long?new r.Long(0|this.lo,0|this.hi,Boolean(e)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(e)}};var a=String.prototype.charCodeAt;i.fromHash=function(e){return e===o?s:new i((a.call(e,0)|a.call(e,1)<<8|a.call(e,2)<<16|a.call(e,3)<<24)>>>0,(a.call(e,4)|a.call(e,5)<<8|a.call(e,6)<<16|a.call(e,7)<<24)>>>0)},i.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},i.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this},i.prototype.zzDecode=function(){var e=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this},i.prototype.length=function(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,n=this.hi>>>24;return 0===n?0===t?e<16384?e<128?1:2:e<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:n<128?9:10}},9693:function(e,t,n){"use strict";var r=t;function i(e,t,n){for(var r=Object.keys(t),i=0;i<r.length;++i)void 0!==e[r[i]]&&n||(e[r[i]]=t[r[i]]);return e}function s(e){function t(e,n){if(!(this instanceof t))return new t(e,n);Object.defineProperty(this,"message",{get:function(){return e}}),Error.captureStackTrace?Error.captureStackTrace(this,t):Object.defineProperty(this,"stack",{value:(new Error).stack||""}),n&&i(this,n)}return(t.prototype=Object.create(Error.prototype)).constructor=t,Object.defineProperty(t.prototype,"name",{get:function(){return e}}),t.prototype.toString=function(){return this.name+": "+this.message},t}r.asPromise=n(4537),r.base64=n(7419),r.EventEmitter=n(9211),r.float=n(945),r.inquire=n(7199),r.utf8=n(4997),r.pool=n(6662),r.LongBits=n(1945),r.isNode=Boolean("undefined"!=typeof global&&global&&global.process&&global.process.versions&&global.process.versions.node),r.global=r.isNode&&global||"undefined"!=typeof window&&window||"undefined"!=typeof self&&self||this,r.emptyArray=Object.freeze?Object.freeze([]):[],r.emptyObject=Object.freeze?Object.freeze({}):{},r.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},r.isString=function(e){return"string"==typeof e||e instanceof String},r.isObject=function(e){return e&&"object"==typeof e},r.isset=r.isSet=function(e,t){var n=e[t];return!(null==n||!e.hasOwnProperty(t))&&("object"!=typeof n||(Array.isArray(n)?n.length:Object.keys(n).length)>0)},r.Buffer=function(){try{var e=r.inquire("buffer").Buffer;return e.prototype.utf8Write?e:null}catch(e){return null}}(),r._Buffer_from=null,r._Buffer_allocUnsafe=null,r.newBuffer=function(e){return"number"==typeof e?r.Buffer?r._Buffer_allocUnsafe(e):new r.Array(e):r.Buffer?r._Buffer_from(e):"undefined"==typeof Uint8Array?e:new Uint8Array(e)},r.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,r.Long=r.global.dcodeIO&&r.global.dcodeIO.Long||r.global.Long||r.inquire("long"),r.key2Re=/^true|false|0|1$/,r.key32Re=/^-?(?:0|[1-9][0-9]*)$/,r.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,r.longToHash=function(e){return e?r.LongBits.from(e).toHash():r.LongBits.zeroHash},r.longFromHash=function(e,t){var n=r.LongBits.fromHash(e);return r.Long?r.Long.fromBits(n.lo,n.hi,t):n.toNumber(Boolean(t))},r.merge=i,r.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)},r.newError=s,r.ProtocolError=s("ProtocolError"),r.oneOfGetter=function(e){for(var t={},n=0;n<e.length;++n)t[e[n]]=1;return function(){for(var e=Object.keys(this),n=e.length-1;n>-1;--n)if(1===t[e[n]]&&void 0!==this[e[n]]&&null!==this[e[n]])return e[n]}},r.oneOfSetter=function(e){return function(t){for(var n=0;n<e.length;++n)e[n]!==t&&delete this[e[n]]}},r.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},r._configure=function(){var e=r.Buffer;e?(r._Buffer_from=e.from!==Uint8Array.from&&e.from||function(t,n){return new e(t,n)},r._Buffer_allocUnsafe=e.allocUnsafe||function(t){return new e(t)}):r._Buffer_from=r._Buffer_allocUnsafe=null}},4497:(e,t,n)=>{"use strict";e.exports=function(e){var t=i.codegen(["m"],e.name+"$verify")('if(typeof m!=="object"||m===null)')("return%j","object expected"),n={};e.oneofsArray.length&&t("var p={}");for(var r=0;r<e.fieldsArray.length;++r){var c=e._fieldsArray[r].resolve(),l="m"+i.safeProp(c.name);if(c.optional&&t("if(%s!=null&&m.hasOwnProperty(%j)){",l,c.name),c.map)t("if(!util.isObject(%s))",l)("return%j",s(c,"object"))("var k=Object.keys(%s)",l)("for(var i=0;i<k.length;++i){"),a(t,c,"k[i]"),o(t,c,r,l+"[k[i]]")("}");else if(c.repeated)t("if(!Array.isArray(%s))",l)("return%j",s(c,"array"))("for(var i=0;i<%s.length;++i){",l),o(t,c,r,l+"[i]")("}");else{if(c.partOf){var u=i.safeProp(c.partOf.name);1===n[c.partOf.name]&&t("if(p%s===1)",u)("return%j",c.partOf.name+": multiple values"),n[c.partOf.name]=1,t("p%s=1",u)}o(t,c,r,l)}c.optional&&t("}")}return t("return null")};var r=n(7025),i=n(9935);function s(e,t){return e.name+": "+t+(e.repeated&&"array"!==t?"[]":e.map&&"object"!==t?"{k:"+e.keyType+"}":"")+" expected"}function o(e,t,n,i){if(t.resolvedType)if(t.resolvedType instanceof r){e("switch(%s){",i)("default:")("return%j",s(t,"enum value"));for(var o=Object.keys(t.resolvedType.values),a=0;a<o.length;++a)e("case %i:",t.resolvedType.values[o[a]]);e("break")("}")}else e("{")("var e=types[%i].verify(%s);",n,i)("if(e)")("return%j+e",t.name+".")("}");else switch(t.type){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":e("if(!util.isInteger(%s))",i)("return%j",s(t,"integer"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":e("if(!util.isInteger(%s)&&!(%s&&util.isInteger(%s.low)&&util.isInteger(%s.high)))",i,i,i,i)("return%j",s(t,"integer|Long"));break;case"float":case"double":e('if(typeof %s!=="number")',i)("return%j",s(t,"number"));break;case"bool":e('if(typeof %s!=="boolean")',i)("return%j",s(t,"boolean"));break;case"string":e("if(!util.isString(%s))",i)("return%j",s(t,"string"));break;case"bytes":e('if(!(%s&&typeof %s.length==="number"||util.isString(%s)))',i,i,i)("return%j",s(t,"buffer"))}return e}function a(e,t,n){switch(t.keyType){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":e("if(!util.key32Re.test(%s))",n)("return%j",s(t,"integer key"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":e("if(!util.key64Re.test(%s))",n)("return%j",s(t,"integer|Long key"));break;case"bool":e("if(!util.key2Re.test(%s))",n)("return%j",s(t,"boolean key"))}return e}},1667:(e,t,n)=>{"use strict";var r=t,i=n(8368);r[".google.protobuf.Any"]={fromObject:function(e){if(e&&e["@type"]){var t=e["@type"].substring(e["@type"].lastIndexOf("/")+1),n=this.lookup(t);if(n){var r="."===e["@type"].charAt(0)?e["@type"].substr(1):e["@type"];return-1===r.indexOf("/")&&(r="/"+r),this.create({type_url:r,value:n.encode(n.fromObject(e)).finish()})}}return this.fromObject(e)},toObject:function(e,t){var n="",r="";if(t&&t.json&&e.type_url&&e.value){r=e.type_url.substring(e.type_url.lastIndexOf("/")+1),n=e.type_url.substring(0,e.type_url.lastIndexOf("/")+1);var s=this.lookup(r);s&&(e=s.decode(e.value))}if(!(e instanceof this.ctor)&&e instanceof i){var o=e.$type.toObject(e,t);return""===n&&(n="type.googleapis.com/"),r=n+("."===e.$type.fullName[0]?e.$type.fullName.substr(1):e.$type.fullName),o["@type"]=r,o}return this.toObject(e,t)}}},1173:(e,t,n)=>{"use strict";e.exports=d;var r,i=n(9693),s=i.LongBits,o=i.base64,a=i.utf8;function c(e,t,n){this.fn=e,this.len=t,this.next=void 0,this.val=n}function l(){}function u(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}function d(){this.len=0,this.head=new c(l,0,0),this.tail=this.head,this.states=null}var h=function(){return i.Buffer?function(){return(d.create=function(){return new r})()}:function(){return new d}};function p(e,t,n){t[n]=255&e}function f(e,t){this.len=e,this.next=void 0,this.val=t}function y(e,t,n){for(;e.hi;)t[n++]=127&e.lo|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;for(;e.lo>127;)t[n++]=127&e.lo|128,e.lo=e.lo>>>7;t[n++]=e.lo}function g(e,t,n){t[n]=255&e,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24}d.create=h(),d.alloc=function(e){return new i.Array(e)},i.Array!==Array&&(d.alloc=i.pool(d.alloc,i.Array.prototype.subarray)),d.prototype._push=function(e,t,n){return this.tail=this.tail.next=new c(e,t,n),this.len+=t,this},f.prototype=Object.create(c.prototype),f.prototype.fn=function(e,t,n){for(;e>127;)t[n++]=127&e|128,e>>>=7;t[n]=e},d.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new f((e>>>=0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this},d.prototype.int32=function(e){return e<0?this._push(y,10,s.fromNumber(e)):this.uint32(e)},d.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)},d.prototype.uint64=function(e){var t=s.from(e);return this._push(y,t.length(),t)},d.prototype.int64=d.prototype.uint64,d.prototype.sint64=function(e){var t=s.from(e).zzEncode();return this._push(y,t.length(),t)},d.prototype.bool=function(e){return this._push(p,1,e?1:0)},d.prototype.fixed32=function(e){return this._push(g,4,e>>>0)},d.prototype.sfixed32=d.prototype.fixed32,d.prototype.fixed64=function(e){var t=s.from(e);return this._push(g,4,t.lo)._push(g,4,t.hi)},d.prototype.sfixed64=d.prototype.fixed64,d.prototype.float=function(e){return this._push(i.float.writeFloatLE,4,e)},d.prototype.double=function(e){return this._push(i.float.writeDoubleLE,8,e)};var m=i.Array.prototype.set?function(e,t,n){t.set(e,n)}:function(e,t,n){for(var r=0;r<e.length;++r)t[n+r]=e[r]};d.prototype.bytes=function(e){var t=e.length>>>0;if(!t)return this._push(p,1,0);if(i.isString(e)){var n=d.alloc(t=o.length(e));o.decode(e,n,0),e=n}return this.uint32(t)._push(m,t,e)},d.prototype.string=function(e){var t=a.length(e);return t?this.uint32(t)._push(a.write,t,e):this._push(p,1,0)},d.prototype.fork=function(){return this.states=new u(this),this.head=this.tail=new c(l,0,0),this.len=0,this},d.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new c(l,0,0),this.len=0),this},d.prototype.ldelim=function(){var e=this.head,t=this.tail,n=this.len;return this.reset().uint32(n),n&&(this.tail.next=e.next,this.tail=t,this.len+=n),this},d.prototype.finish=function(){for(var e=this.head.next,t=this.constructor.alloc(this.len),n=0;e;)e.fn(e.val,t,n),n+=e.len,e=e.next;return t},d._configure=function(e){r=e,d.create=h(),r._configure()}},3155:(e,t,n)=>{"use strict";e.exports=s;var r=n(1173);(s.prototype=Object.create(r.prototype)).constructor=s;var i=n(9693);function s(){r.call(this)}function o(e,t,n){e.length<40?i.utf8.write(e,t,n):t.utf8Write?t.utf8Write(e,n):t.write(e,n)}s._configure=function(){s.alloc=i._Buffer_allocUnsafe,s.writeBytesBuffer=i.Buffer&&i.Buffer.prototype instanceof Uint8Array&&"set"===i.Buffer.prototype.set.name?function(e,t,n){t.set(e,n)}:function(e,t,n){if(e.copy)e.copy(t,n,0,e.length);else for(var r=0;r<e.length;)t[n++]=e[r++]}},s.prototype.bytes=function(e){i.isString(e)&&(e=i._Buffer_from(e,"base64"));var t=e.length>>>0;return this.uint32(t),t&&this._push(s.writeBytesBuffer,t,e),this},s.prototype.string=function(e){var t=i.Buffer.byteLength(e);return this.uint32(t),t&&this._push(o,t,e),this},s._configure()},8981:(e,t)=>{"use strict";t.fromCallback=function(e){return Object.defineProperty((function(...t){if("function"!=typeof t[t.length-1])return new Promise(((n,r)=>{e.call(this,...t,((e,t)=>null!=e?r(e):n(t)))}));e.apply(this,t)}),"name",{value:e.name})},t.fromPromise=function(e){return Object.defineProperty((function(...t){const n=t[t.length-1];if("function"!=typeof n)return e.apply(this,t);e.apply(this,t.slice(0,-1)).then((e=>n(null,e)),n)}),"name",{value:e.name})}},3021:(e,t,n)=>{"use strict";n.r(t),n.d(t,{NIL:()=>E,parse:()=>g,stringify:()=>u,v1:()=>y,v3:()=>v,v4:()=>S,v5:()=>b,validate:()=>c,version:()=>w});const r=require("crypto");var i=n.n(r);const s=new Uint8Array(16);function o(){return i().randomFillSync(s)}const a=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,c=function(e){return"string"==typeof e&&a.test(e)},l=[];for(let e=0;e<256;++e)l.push((e+256).toString(16).substr(1));const u=function(e,t=0){const n=(l[e[t+0]]+l[e[t+1]]+l[e[t+2]]+l[e[t+3]]+"-"+l[e[t+4]]+l[e[t+5]]+"-"+l[e[t+6]]+l[e[t+7]]+"-"+l[e[t+8]]+l[e[t+9]]+"-"+l[e[t+10]]+l[e[t+11]]+l[e[t+12]]+l[e[t+13]]+l[e[t+14]]+l[e[t+15]]).toLowerCase();if(!c(n))throw TypeError("Stringified UUID is invalid");return n};let d,h,p=0,f=0;const y=function(e,t,n){let r=t&&n||0;const i=t||new Array(16);let s=(e=e||{}).node||d,a=void 0!==e.clockseq?e.clockseq:h;if(null==s||null==a){const t=e.random||(e.rng||o)();null==s&&(s=d=[1|t[0],t[1],t[2],t[3],t[4],t[5]]),null==a&&(a=h=16383&(t[6]<<8|t[7]))}let c=void 0!==e.msecs?e.msecs:Date.now(),l=void 0!==e.nsecs?e.nsecs:f+1;const y=c-p+(l-f)/1e4;if(y<0&&void 0===e.clockseq&&(a=a+1&16383),(y<0||c>p)&&void 0===e.nsecs&&(l=0),l>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");p=c,f=l,h=a,c+=122192928e5;const g=(1e4*(268435455&c)+l)%4294967296;i[r++]=g>>>24&255,i[r++]=g>>>16&255,i[r++]=g>>>8&255,i[r++]=255&g;const m=c/4294967296*1e4&268435455;i[r++]=m>>>8&255,i[r++]=255&m,i[r++]=m>>>24&15|16,i[r++]=m>>>16&255,i[r++]=a>>>8|128,i[r++]=255&a;for(let e=0;e<6;++e)i[r+e]=s[e];return t||u(i)},g=function(e){if(!c(e))throw TypeError("Invalid UUID");let t;const n=new Uint8Array(16);return n[0]=(t=parseInt(e.slice(0,8),16))>>>24,n[1]=t>>>16&255,n[2]=t>>>8&255,n[3]=255&t,n[4]=(t=parseInt(e.slice(9,13),16))>>>8,n[5]=255&t,n[6]=(t=parseInt(e.slice(14,18),16))>>>8,n[7]=255&t,n[8]=(t=parseInt(e.slice(19,23),16))>>>8,n[9]=255&t,n[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,n[11]=t/4294967296&255,n[12]=t>>>24&255,n[13]=t>>>16&255,n[14]=t>>>8&255,n[15]=255&t,n};function m(e,t,n){function r(e,r,i,s){if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));const t=[];for(let n=0;n<e.length;++n)t.push(e.charCodeAt(n));return t}(e)),"string"==typeof r&&(r=g(r)),16!==r.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let o=new Uint8Array(16+e.length);if(o.set(r),o.set(e,r.length),o=n(o),o[6]=15&o[6]|t,o[8]=63&o[8]|128,i){s=s||0;for(let e=0;e<16;++e)i[s+e]=o[e];return i}return u(o)}try{r.name=e}catch(e){}return r.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",r.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",r}const v=m("v3",48,(function(e){return Array.isArray(e)?e=Buffer.from(e):"string"==typeof e&&(e=Buffer.from(e,"utf8")),i().createHash("md5").update(e).digest()})),S=function(e,t,n){const r=(e=e||{}).random||(e.rng||o)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=r[e];return t}return u(r)},b=m("v5",80,(function(e){return Array.isArray(e)?e=Buffer.from(e):"string"==typeof e&&(e=Buffer.from(e,"utf8")),i().createHash("sha1").update(e).digest()})),E="00000000-0000-0000-0000-000000000000",w=function(e){if(!c(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)}},9491:e=>{"use strict";e.exports=require("assert")},852:e=>{"use strict";e.exports=require("async_hooks")},2057:e=>{"use strict";e.exports=require("constants")},9523:e=>{"use strict";e.exports=require("dns")},2361:e=>{"use strict";e.exports=require("events")},7147:e=>{"use strict";e.exports=require("fs")},3685:e=>{"use strict";e.exports=require("http")},5158:e=>{"use strict";e.exports=require("http2")},8188:e=>{"use strict";e.exports=require("module")},1808:e=>{"use strict";e.exports=require("net")},2037:e=>{"use strict";e.exports=require("os")},1017:e=>{"use strict";e.exports=require("path")},2781:e=>{"use strict";e.exports=require("stream")},4404:e=>{"use strict";e.exports=require("tls")},7310:e=>{"use strict";e.exports=require("url")},3837:e=>{"use strict";e.exports=require("util")},9796:e=>{"use strict";e.exports=require("zlib")},6569:e=>{"use strict";e.exports={i8:"1.3.7"}},4784:e=>{"use strict";e.exports=JSON.parse('{"nested":{"google":{"nested":{"protobuf":{"nested":{"Api":{"fields":{"name":{"type":"string","id":1},"methods":{"rule":"repeated","type":"Method","id":2},"options":{"rule":"repeated","type":"Option","id":3},"version":{"type":"string","id":4},"sourceContext":{"type":"SourceContext","id":5},"mixins":{"rule":"repeated","type":"Mixin","id":6},"syntax":{"type":"Syntax","id":7}}},"Method":{"fields":{"name":{"type":"string","id":1},"requestTypeUrl":{"type":"string","id":2},"requestStreaming":{"type":"bool","id":3},"responseTypeUrl":{"type":"string","id":4},"responseStreaming":{"type":"bool","id":5},"options":{"rule":"repeated","type":"Option","id":6},"syntax":{"type":"Syntax","id":7}}},"Mixin":{"fields":{"name":{"type":"string","id":1},"root":{"type":"string","id":2}}},"SourceContext":{"fields":{"fileName":{"type":"string","id":1}}},"Option":{"fields":{"name":{"type":"string","id":1},"value":{"type":"Any","id":2}}},"Syntax":{"values":{"SYNTAX_PROTO2":0,"SYNTAX_PROTO3":1}}}}}}}}')},3571:e=>{"use strict";e.exports=JSON.parse('{"nested":{"google":{"nested":{"protobuf":{"nested":{"FileDescriptorSet":{"fields":{"file":{"rule":"repeated","type":"FileDescriptorProto","id":1}}},"FileDescriptorProto":{"fields":{"name":{"type":"string","id":1},"package":{"type":"string","id":2},"dependency":{"rule":"repeated","type":"string","id":3},"publicDependency":{"rule":"repeated","type":"int32","id":10,"options":{"packed":false}},"weakDependency":{"rule":"repeated","type":"int32","id":11,"options":{"packed":false}},"messageType":{"rule":"repeated","type":"DescriptorProto","id":4},"enumType":{"rule":"repeated","type":"EnumDescriptorProto","id":5},"service":{"rule":"repeated","type":"ServiceDescriptorProto","id":6},"extension":{"rule":"repeated","type":"FieldDescriptorProto","id":7},"options":{"type":"FileOptions","id":8},"sourceCodeInfo":{"type":"SourceCodeInfo","id":9},"syntax":{"type":"string","id":12}}},"DescriptorProto":{"fields":{"name":{"type":"string","id":1},"field":{"rule":"repeated","type":"FieldDescriptorProto","id":2},"extension":{"rule":"repeated","type":"FieldDescriptorProto","id":6},"nestedType":{"rule":"repeated","type":"DescriptorProto","id":3},"enumType":{"rule":"repeated","type":"EnumDescriptorProto","id":4},"extensionRange":{"rule":"repeated","type":"ExtensionRange","id":5},"oneofDecl":{"rule":"repeated","type":"OneofDescriptorProto","id":8},"options":{"type":"MessageOptions","id":7},"reservedRange":{"rule":"repeated","type":"ReservedRange","id":9},"reservedName":{"rule":"repeated","type":"string","id":10}},"nested":{"ExtensionRange":{"fields":{"start":{"type":"int32","id":1},"end":{"type":"int32","id":2}}},"ReservedRange":{"fields":{"start":{"type":"int32","id":1},"end":{"type":"int32","id":2}}}}},"FieldDescriptorProto":{"fields":{"name":{"type":"string","id":1},"number":{"type":"int32","id":3},"label":{"type":"Label","id":4},"type":{"type":"Type","id":5},"typeName":{"type":"string","id":6},"extendee":{"type":"string","id":2},"defaultValue":{"type":"string","id":7},"oneofIndex":{"type":"int32","id":9},"jsonName":{"type":"string","id":10},"options":{"type":"FieldOptions","id":8}},"nested":{"Type":{"values":{"TYPE_DOUBLE":1,"TYPE_FLOAT":2,"TYPE_INT64":3,"TYPE_UINT64":4,"TYPE_INT32":5,"TYPE_FIXED64":6,"TYPE_FIXED32":7,"TYPE_BOOL":8,"TYPE_STRING":9,"TYPE_GROUP":10,"TYPE_MESSAGE":11,"TYPE_BYTES":12,"TYPE_UINT32":13,"TYPE_ENUM":14,"TYPE_SFIXED32":15,"TYPE_SFIXED64":16,"TYPE_SINT32":17,"TYPE_SINT64":18}},"Label":{"values":{"LABEL_OPTIONAL":1,"LABEL_REQUIRED":2,"LABEL_REPEATED":3}}}},"OneofDescriptorProto":{"fields":{"name":{"type":"string","id":1},"options":{"type":"OneofOptions","id":2}}},"EnumDescriptorProto":{"fields":{"name":{"type":"string","id":1},"value":{"rule":"repeated","type":"EnumValueDescriptorProto","id":2},"options":{"type":"EnumOptions","id":3}}},"EnumValueDescriptorProto":{"fields":{"name":{"type":"string","id":1},"number":{"type":"int32","id":2},"options":{"type":"EnumValueOptions","id":3}}},"ServiceDescriptorProto":{"fields":{"name":{"type":"string","id":1},"method":{"rule":"repeated","type":"MethodDescriptorProto","id":2},"options":{"type":"ServiceOptions","id":3}}},"MethodDescriptorProto":{"fields":{"name":{"type":"string","id":1},"inputType":{"type":"string","id":2},"outputType":{"type":"string","id":3},"options":{"type":"MethodOptions","id":4},"clientStreaming":{"type":"bool","id":5},"serverStreaming":{"type":"bool","id":6}}},"FileOptions":{"fields":{"javaPackage":{"type":"string","id":1},"javaOuterClassname":{"type":"string","id":8},"javaMultipleFiles":{"type":"bool","id":10},"javaGenerateEqualsAndHash":{"type":"bool","id":20,"options":{"deprecated":true}},"javaStringCheckUtf8":{"type":"bool","id":27},"optimizeFor":{"type":"OptimizeMode","id":9,"options":{"default":"SPEED"}},"goPackage":{"type":"string","id":11},"ccGenericServices":{"type":"bool","id":16},"javaGenericServices":{"type":"bool","id":17},"pyGenericServices":{"type":"bool","id":18},"deprecated":{"type":"bool","id":23},"ccEnableArenas":{"type":"bool","id":31},"objcClassPrefix":{"type":"string","id":36},"csharpNamespace":{"type":"string","id":37},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[38,38]],"nested":{"OptimizeMode":{"values":{"SPEED":1,"CODE_SIZE":2,"LITE_RUNTIME":3}}}},"MessageOptions":{"fields":{"messageSetWireFormat":{"type":"bool","id":1},"noStandardDescriptorAccessor":{"type":"bool","id":2},"deprecated":{"type":"bool","id":3},"mapEntry":{"type":"bool","id":7},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[8,8]]},"FieldOptions":{"fields":{"ctype":{"type":"CType","id":1,"options":{"default":"STRING"}},"packed":{"type":"bool","id":2},"jstype":{"type":"JSType","id":6,"options":{"default":"JS_NORMAL"}},"lazy":{"type":"bool","id":5},"deprecated":{"type":"bool","id":3},"weak":{"type":"bool","id":10},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[4,4]],"nested":{"CType":{"values":{"STRING":0,"CORD":1,"STRING_PIECE":2}},"JSType":{"values":{"JS_NORMAL":0,"JS_STRING":1,"JS_NUMBER":2}}}},"OneofOptions":{"fields":{"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"EnumOptions":{"fields":{"allowAlias":{"type":"bool","id":2},"deprecated":{"type":"bool","id":3},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"EnumValueOptions":{"fields":{"deprecated":{"type":"bool","id":1},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"ServiceOptions":{"fields":{"deprecated":{"type":"bool","id":33},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"MethodOptions":{"fields":{"deprecated":{"type":"bool","id":33},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"UninterpretedOption":{"fields":{"name":{"rule":"repeated","type":"NamePart","id":2},"identifierValue":{"type":"string","id":3},"positiveIntValue":{"type":"uint64","id":4},"negativeIntValue":{"type":"int64","id":5},"doubleValue":{"type":"double","id":6},"stringValue":{"type":"bytes","id":7},"aggregateValue":{"type":"string","id":8}},"nested":{"NamePart":{"fields":{"namePart":{"rule":"required","type":"string","id":1},"isExtension":{"rule":"required","type":"bool","id":2}}}}},"SourceCodeInfo":{"fields":{"location":{"rule":"repeated","type":"Location","id":1}},"nested":{"Location":{"fields":{"path":{"rule":"repeated","type":"int32","id":1},"span":{"rule":"repeated","type":"int32","id":2},"leadingComments":{"type":"string","id":3},"trailingComments":{"type":"string","id":4},"leadingDetachedComments":{"rule":"repeated","type":"string","id":6}}}}},"GeneratedCodeInfo":{"fields":{"annotation":{"rule":"repeated","type":"Annotation","id":1}},"nested":{"Annotation":{"fields":{"path":{"rule":"repeated","type":"int32","id":1},"sourceFile":{"type":"string","id":2},"begin":{"type":"int32","id":3},"end":{"type":"int32","id":4}}}}}}}}}}}')},3342:e=>{"use strict";e.exports=JSON.parse('{"nested":{"google":{"nested":{"protobuf":{"nested":{"SourceContext":{"fields":{"fileName":{"type":"string","id":1}}}}}}}}}')},8783:e=>{"use strict";e.exports=JSON.parse('{"nested":{"google":{"nested":{"protobuf":{"nested":{"Type":{"fields":{"name":{"type":"string","id":1},"fields":{"rule":"repeated","type":"Field","id":2},"oneofs":{"rule":"repeated","type":"string","id":3},"options":{"rule":"repeated","type":"Option","id":4},"sourceContext":{"type":"SourceContext","id":5},"syntax":{"type":"Syntax","id":6}}},"Field":{"fields":{"kind":{"type":"Kind","id":1},"cardinality":{"type":"Cardinality","id":2},"number":{"type":"int32","id":3},"name":{"type":"string","id":4},"typeUrl":{"type":"string","id":6},"oneofIndex":{"type":"int32","id":7},"packed":{"type":"bool","id":8},"options":{"rule":"repeated","type":"Option","id":9},"jsonName":{"type":"string","id":10},"defaultValue":{"type":"string","id":11}},"nested":{"Kind":{"values":{"TYPE_UNKNOWN":0,"TYPE_DOUBLE":1,"TYPE_FLOAT":2,"TYPE_INT64":3,"TYPE_UINT64":4,"TYPE_INT32":5,"TYPE_FIXED64":6,"TYPE_FIXED32":7,"TYPE_BOOL":8,"TYPE_STRING":9,"TYPE_GROUP":10,"TYPE_MESSAGE":11,"TYPE_BYTES":12,"TYPE_UINT32":13,"TYPE_ENUM":14,"TYPE_SFIXED32":15,"TYPE_SFIXED64":16,"TYPE_SINT32":17,"TYPE_SINT64":18}},"Cardinality":{"values":{"CARDINALITY_UNKNOWN":0,"CARDINALITY_OPTIONAL":1,"CARDINALITY_REQUIRED":2,"CARDINALITY_REPEATED":3}}}},"Enum":{"fields":{"name":{"type":"string","id":1},"enumvalue":{"rule":"repeated","type":"EnumValue","id":2},"options":{"rule":"repeated","type":"Option","id":3},"sourceContext":{"type":"SourceContext","id":4},"syntax":{"type":"Syntax","id":5}}},"EnumValue":{"fields":{"name":{"type":"string","id":1},"number":{"type":"int32","id":2},"options":{"rule":"repeated","type":"Option","id":3}}},"Option":{"fields":{"name":{"type":"string","id":1},"value":{"type":"Any","id":2}}},"Syntax":{"values":{"SYNTAX_PROTO2":0,"SYNTAX_PROTO3":1}},"Any":{"fields":{"type_url":{"type":"string","id":1},"value":{"type":"bytes","id":2}}},"SourceContext":{"fields":{"fileName":{"type":"string","id":1}}}}}}}}}')}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e].call(n.exports,n,n.exports,__webpack_require__),n.exports}__webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(t,{a:t}),t},__webpack_require__.d=(e,t)=>{for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var __webpack_exports__={};(()=>{"use strict";var e=__webpack_exports__;Object.defineProperty(e,"__esModule",{value:!0}),e.startNodeWorker=void 0;const t=__webpack_require__(6562),n=__webpack_require__(2724),r=__webpack_require__(5523),i=__webpack_require__(6509),s=__webpack_require__(2032),o=__webpack_require__(9445),a=__webpack_require__(9335),c=__webpack_require__(4876),l=__webpack_require__(2771),u=__webpack_require__(170),d=__webpack_require__(7643);e.startNodeWorker=function(e){const{host:h,port:p,workerId:f,requestId:y,grpcMaxMessageLength:g}=t(e.slice(2));if(!(h&&p&&f&&y&&g)){(0,l.systemLog)("usage --host hostName --port portNumber --workerId workerId --requestId requestId --grpcMaxMessageLength grpcMaxMessageLength");const e=[];throw h||e.push(`'hostName' is ${h}`),p||e.push(`'port' is ${p}`),f||e.push(`'workerId' is ${f}`),y||e.push(`'requestId' is ${y}`),g||e.push(`'grpcMaxMessageLength' is ${g}`),new c.InternalException(`gRPC client connection info is missing or incorrect (${e.join(", ")}).`)}const m=`${h}:${p}`;let v;(0,l.systemLog)(`Worker ${f} connecting on ${m}`);try{v=(0,r.CreateGrpcEventStream)(m,parseInt(g))}catch(e){const t=(0,a.ensureErrorType)(e);throw t.isAzureFunctionsInternalException=!0,t.message="Error creating GRPC event stream: "+t.message,t}const S=new d.WorkerChannel(v,new n.FunctionLoader);(0,s.setupEventStream)(f,S),(0,i.setupCoreModule)(S),v.write({requestId:y,startStream:{workerId:f}}),process.on("uncaughtException",(e=>{const t=(0,a.ensureErrorType)(e);let n;n=t.isAzureFunctionsInternalException?`Worker ${f} uncaught exception: ${t.stack||e}`:`Worker ${f} uncaught exception (learn more: https://go.microsoft.com/fwlink/?linkid=2097909 ): ${t.stack||e}`,(0,l.systemError)(n),process.exit(1)})),process.on("exit",(e=>{(0,l.systemLog)(`Worker ${f} exited with code ${e}`)})),(0,u.isEnvironmentVariableSet)(process.env.AZURE_FUNCTIONS_NODE_BLOCK_LOG)&&(0,o.startBlockedMonitor)(S)}})(),module.exports.worker=__webpack_exports__})();